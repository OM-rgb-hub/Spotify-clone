"use strict";(self.modernJsonp=self.modernJsonp||[]).push([[60815],{292007:(e,l,n)=>{var i;n.r(l),n.d(l,{default:()=>a});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinBasicsLayout_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:i=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useClickthrough_pin"},{args:null,kind:"FragmentSpread",name:"CollapsibleDescription_pin"},{args:null,kind:"FragmentSpread",name:"OfficialUserAttribution_pin"}],type:"Pin",abstractKey:null};t.hash="c10d97042f2b3a00962f9dea14418d9c";let a=t},625025:(e,l,n)=>{n.d(l,{Z:()=>L});var i,t=n(667294);n(167912);var a=n(20256),s=n(781785),r=n(640935),o=n(233846),d=n(460632),c=n(785893);function u({children:e,maxLines:l=10}){let n=(0,t.useRef)(null),[i,u]=(0,t.useState)({isFirstLoad:!0,isTruncated:!1}),g=(0,o.ZP)(),{peekCloseupEnabled:y}=(0,d.x4)(),h=(0,r.vs)()?"#111":"#fff",{isFirstLoad:p,isTruncated:x}=i;return(0,t.useEffect)(()=>{let e;p&&n.current&&((e=n.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&u({isFirstLoad:!1,isTruncated:!0})},[p,x]),(0,c.jsxs)(a.xu,{"data-test-id":"truncated-text",position:"relative",children:[(0,c.jsx)(a.xv,{ref:n,inline:!0,lineClamp:p||x?l:0,children:e}),x&&(0,c.jsx)(a.xu,{bottom:!0,display:"block",position:"absolute",width:"100%",children:(0,c.jsxs)(a.kC,{flex:"grow",children:[(0,c.jsx)(a.xu,{display:"inlineBlock",height:"14px",width:"120px"}),(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:15,background:`linear-gradient(90deg, transparent 0%, ${h} 15%)`}},"data-test-id":"more-button",display:"inlineBlock",children:(0,c.jsx)(a.iP,{fullWidth:!1,onTap:()=>u({...i,isTruncated:!1}),children:(0,c.jsx)(a.xv,{inline:!0,size:y?"200":s.n,weight:"bold",children:g._(' \u2026 more', 'closeup.TruncatedTextContent.moreLabel', 'Expand content label')})})}),(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{background:h}},display:"inlineBlock",flex:"grow"})]})})]})}var g=n(219308),y=n(971518),h=n(297934),p=n(78039),x=n(970601),m=n(461611),k=n(666717),_=n(538645),f=n(132280),j=n(462885),b=n(630811),v=n(116962),S=n(187201),P=n(388376);let F=(void 0!==i||(i=n(292007)).hash&&"c10d97042f2b3a00962f9dea14418d9c"!==i.hash&&console.error("The definition of 'StoryPinBasicsLayout_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function L({clientTrackingParams:e,description:l,fullName:n,imageLargeUrl:i,imageMediumUrl:d,imageSmallUrl:L,link:T,pinKey:B,templateType:K,title:z,username:C}){let I=(0,p.Z)(F,B),w=(0,j.Z)({clickthroughInterstitialExperience:null,pinKey:I}),{entityId:Z}=I,A=I?.storyPinData?.metadata?.basics,{keyValueBlocks:$}=A||{},{listBlocks:H}=A||{},W=(0,o.ZP)(),D=(0,g.Z)(),E=(0,_.HG)(),V=(0,h.Z)(),J=V.isAuth?V?.avatar_color_index:void 0,M=(0,r.vs)(),[N,R]=(0,t.useState)(!1),U=($||[]).map((e,l)=>(0,c.jsx)(v.Z,{categoryType:e.categoryType??e.category_type,size:"300",type:"compact",value:e.value},`key-val-component-${l}`)).filter(e=>null!=e);if(!E)return(0,c.jsxs)(a.kC,{alignItems:"stretch",direction:"column",gap:4,justifyContent:"center",children:[(0,c.jsx)(x.Z,{unsafeCSS:`
            li.light-mode::marker {
              color: #111;
            }

            li.dark-mode::marker {
              color: #fff;
            }
          `}),(0,c.jsx)(b.Z,{clientTrackingParams:e,hideFollowerCount:!0,justifyContent:"start",pinKey:I,viewerId:V.isAuth?V.id:void 0}),(0,c.jsx)(a.X6,{accessibilityLevel:1,align:"start",overflow:"breakWord",size:"400",children:z}),(0,c.jsx)(k.Z,{color:M?"light":"default",items:U.filter(e=>""!==e)}),l&&l.trim()?(0,c.jsx)(a.xu,{children:(0,c.jsx)(m.Z,{description:l,handleToggle:()=>{R(!N)},isExpanded:N,maxHeight:38,pinKey:I,Wrapper:({children:e})=>(0,c.jsx)(a.xv,{align:"start",size:"200",children:e})})}):null,(H||[]).map((e,l)=>(0,c.jsxs)(a.kC,{direction:"column",gap:4,children:[e.heading?(0,c.jsx)(a.xv,{size:"300",weight:"bold",children:e.heading}):null,e.blocks&&e.blocks.length>0?(0,c.jsx)("ul",{style:{listStyleType:"disc",paddingInlineStart:16,margin:0},children:e.blocks.map((l,n)=>(0,c.jsx)("li",{className:M?"dark-mode":"light-mode",style:{listStyle:"disc"},children:(0,c.jsx)(a.xv,{inline:!0,overflow:"normal",size:"300",children:l.text?l.text:""})},`item-${n}-${e.heading||"empty"}`))},`${e.heading||"empty"}-${l}-list`):null]},`${e.heading||"empty"}-${l}-listHeading`))]});let X=new Map([[null,W._('Notes', 'Closeup.StoryPinBasicsLayout.notesLayoutTitle', 'Label for button to expand notes Story Pin details')],[1,W._('Ingredients', 'Closeup.StoryPinBasicsLayout.recipeLayoutTitle', 'Label for button to expand ingredients Story Pin details')],[2,W._('Supplies', 'Closeup.StoryPinBasicsLayout.diyHomeLayoutTitle', 'Label for button to expand supplies Story Pin details')]]);return(0,c.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[!E&&(0,c.jsxs)(a.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",paddingY:4,children:[T&&(0,c.jsx)(a.xu,{"data-test-id":"link",marginBottom:2,children:(0,c.jsx)(a.rU,{href:T.url,onClick:()=>{D({view_type:132,view_parameter:3549,element:12971,event_type:102,aux_data:{pin_id:Z,url:T?.url}}),w()},target:"blank",underline:"always",children:(0,c.jsx)(a.xv,{children:T.domain})})}),(0,c.jsx)(S.Z,{dir:(0,P.j)(z),children:(0,c.jsx)(a.X6,{align:"center",size:"600",children:z})}),(0,c.jsxs)(a.Tg,{fullWidth:!1,href:`/${C}/`,children:[(0,c.jsx)(a.xu,{padding:2,children:(0,c.jsx)(a.xu,{height:44,width:44,children:(0,c.jsx)(y.qE,{color:J,name:n??"",size:"fit",src:i||d||L||void 0})})}),(0,c.jsxs)(a.xu,{children:[(0,c.jsx)(a.xv,{inline:!0,size:"300",children:W._('By', 'closeup.storyPin.basicsLayout.publishedBy.label', 'Label for native creator')})," ",(0,c.jsx)(a.xv,{inline:!0,size:"300",weight:"bold",children:n})]})]})]}),H&&H.length>0&&(0,c.jsx)(a.xu,{marginBottom:8,children:(0,c.jsx)(f.Z,{heading:X.get(K)||"",children:(0,c.jsx)(u,{children:H.map((e,l)=>{let n=`${e.heading||"empty"}-${l}-listHeading`;return(0,c.jsxs)(t.Fragment,{children:[(0,c.jsx)(a.xu,{marginTop:2,paddingY:2}),(0,c.jsx)(a.xv,{size:s.n,weight:"bold",children:e.heading}),(e.blocks??[]).map((l,n)=>{let i=`item-${n}-${e.heading||"empty"}`;return(0,c.jsx)(t.Fragment,{children:(0,c.jsx)(a.xu,{marginBottom:1,children:(0,c.jsxs)(a.xv,{size:s.n,children:["â€¢ ",l.text?l.text:""]})})},i)})]},n)})})})})]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/app-www-closeup-duplo-StoryPinCloseupDetailsOnDesktop-64faf4bd52a86eec.mjs.map