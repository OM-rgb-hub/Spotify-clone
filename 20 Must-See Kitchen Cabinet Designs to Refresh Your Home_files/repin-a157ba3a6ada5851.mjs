(self.modernJsonp=self.modernJsonp||[]).push([[73308,45204,34801,10978,76030,70118,70828,46244,22130,69965,33381,83369,40794],{376030:(e,t,i)=>{"use strict";i.d(t,{Z:()=>et});var n,a,l={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},r={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},s=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],o={},d={};function c(e,t,i){return Math.min(Math.max(e,t),i)}function u(e,t){return e.indexOf(t)>-1}function p(e,t){return e.apply(null,t)}var m={arr:function(e){return Array.isArray(e)},obj:function(e){return u(Object.prototype.toString.call(e),"Object")},pth:function(e){return m.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||m.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return m.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return m.hex(e)||m.rgb(e)||m.hsl(e)},key:function(e){return!l.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function h(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(e){return parseFloat(e)}):[]}function _(e,t){var i=h(e),n=c(m.und(i[0])?1:i[0],.1,100),a=c(m.und(i[1])?100:i[1],.1,100),l=c(m.und(i[2])?10:i[2],.1,100),r=c(m.und(i[3])?0:i[3],.1,100),s=Math.sqrt(a/n),o=l/(2*Math.sqrt(a*n)),u=o<1?s*Math.sqrt(1-o*o):0,p=o<1?(o*s+-r)/u:-r+s;function _(e){var i=t?t*e/1e3:e;return(i=o<1?Math.exp(-i*o*s)*(+Math.cos(u*i)+p*Math.sin(u*i)):(1+p*i)*Math.exp(-i*s),0===e||1===e)?e:1-i}return t?_:function(){var t=d[e];if(t)return t;for(var i=1/6,n=0,a=0;;)if(1===_(n+=i)){if(++a>=16)break}else a=0;var l=n*i*1e3;return d[e]=l,l}}function g(e){return void 0===e&&(e=10),function(t){return Math.ceil(c(t,1e-6,1)*e)*(1/e)}}var y=function(){function e(e,t,i){return(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e}function t(e,t,i){return 3*(1-3*i+3*t)*e*e+2*(3*i-6*t)*e+3*t}return function(i,n,a,l){if(0<=i&&i<=1&&0<=a&&a<=1){var r=new Float32Array(11);if(i!==n||a!==l)for(var s=0;s<11;++s)r[s]=e(.1*s,i,a);return function(s){return i===n&&a===l||0===s||1===s?s:e(function(n){for(var l=0,s=1;10!==s&&r[s]<=n;++s)l+=.1;var o=l+(n-r[--s])/(r[s+1]-r[s])*.1,d=t(o,i,a);if(d>=.001){for(var c=o,u=0;u<4;++u){var p=t(c,i,a);if(0===p)break;var m=e(c,i,a)-n;c-=m/p}return c}return 0===d?o:function(t,i,n,a,l){var r,s,o=0;do(r=e(s=i+(n-i)/2,a,l)-t)>0?n=s:i=s;while(Math.abs(r)>1e-7&&++o<10)return s}(n,l,l+.1,i,a)}(s),n,l)}}}}(),f=(n={linear:function(){return function(e){return e}}},a={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var i=c(e,1,10),n=c(t,.1,2);return function(e){return 0===e||1===e?e:-i*Math.pow(2,10*(e-1))*Math.sin(2*Math.PI*(e-1-n/(2*Math.PI)*Math.asin(1/i))/n)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach(function(e,t){a[e]=function(){return function(e){return Math.pow(e,t+2)}}}),Object.keys(a).forEach(function(e){var t=a[e];n["easeIn"+e]=t,n["easeOut"+e]=function(e,i){return function(n){return 1-t(e,i)(1-n)}},n["easeInOut"+e]=function(e,i){return function(n){return n<.5?t(e,i)(2*n)/2:1-t(e,i)(-2*n+2)/2}},n["easeOutIn"+e]=function(e,i){return function(n){return n<.5?(1-t(e,i)(1-2*n))/2:(t(e,i)(2*n-1)+1)/2}}}),n);function x(e,t){if(m.fnc(e))return e;var i=e.split("(")[0],n=f[i],a=h(e);switch(i){case"spring":return _(e,t);case"cubicBezier":return p(y,a);case"steps":return p(g,a);default:return p(n,a)}}function b(e){try{return document.querySelectorAll(e)}catch(e){return}}function v(e,t){for(var i=e.length,n=arguments.length>=2?arguments[1]:void 0,a=[],l=0;l<i;l++)if(l in e){var r=e[l];t.call(n,r,l,e)&&a.push(r)}return a}function P(e){return e.reduce(function(e,t){return e.concat(m.arr(t)?P(t):t)},[])}function S(e){return m.arr(e)?e:(m.str(e)&&(e=b(e)||e),e instanceof NodeList||e instanceof HTMLCollection)?[].slice.call(e):[e]}function w(e,t){return e.some(function(e){return e===t})}function k(e){var t={};for(var i in e)t[i]=e[i];return t}function I(e,t){var i=k(e);for(var n in e)i[n]=t.hasOwnProperty(n)?t[n]:e[n];return i}function T(e,t){var i=k(e);for(var n in t)i[n]=m.und(e[n])?t[n]:e[n];return i}function A(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function C(e,t){return m.fnc(e)?e(t.target,t.id,t.total):e}function E(e,t){return e.getAttribute(t)}function j(e,t,i){if(w([i,"deg","rad","turn"],A(t)))return t;var n=o[t+i];if(!m.und(n))return n;var a=document.createElement(e.tagName),l=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;l.appendChild(a),a.style.position="absolute",a.style.width=100+i;var r=100/a.offsetWidth;l.removeChild(a);var s=r*parseFloat(t);return o[t+i]=s,s}function R(e,t,i){if(t in e.style){var n=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a=e.style[t]||getComputedStyle(e).getPropertyValue(n)||"0";return i?j(e,a,i):a}}function L(e,t){return m.dom(e)&&!m.inp(e)&&(!m.nil(E(e,t))||m.svg(e)&&e[t])?"attribute":m.dom(e)&&w(s,t)?"transform":m.dom(e)&&"transform"!==t&&R(e,t)?"css":null!=e[t]?"object":void 0}function F(e){if(m.dom(e)){for(var t,i=e.style.transform||"",n=/(\w+)\(([^)]*)\)/g,a=new Map;t=n.exec(i);)a.set(t[1],t[2]);return a}}function D(e,t,i,n){switch(L(e,t)){case"transform":var a,l;return a=u(t,"scale")?1:0+(u(t,"translate")||"perspective"===t?"px":u(t,"rotate")||u(t,"skew")?"deg":void 0),l=F(e).get(t)||a,n&&(n.transforms.list.set(t,l),n.transforms.last=t),i?j(e,l,i):l;case"css":return R(e,t,i);case"attribute":return E(e,t);default:return e[t]||0}}function O(e,t){var i=/^(\*=|\+=|-=)/.exec(e);if(!i)return e;var n=A(e)||0,a=parseFloat(t),l=parseFloat(e.replace(i[0],""));switch(i[0][0]){case"+":return a+l+n;case"-":return a-l+n;case"*":return a*l+n}}function M(e,t){if(m.col(e)){var i,n,a;return m.rgb(e)?(i=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e))?"rgba("+i[1]+",1)":e:m.hex(e)?(n=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,i,n){return t+t+i+i+n+n}),"rgba("+parseInt((a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n))[1],16)+","+parseInt(a[2],16)+","+parseInt(a[3],16)+",1)"):m.hsl(e)?function(e){var t,i,n,a=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),l=parseInt(a[1],10)/360,r=parseInt(a[2],10)/100,s=parseInt(a[3],10)/100,o=a[4]||1;function d(e,t,i){return(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?e+(t-e)*6*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}if(0==r)t=i=n=s;else{var c=s<.5?s*(1+r):s+r-s*r,u=2*s-c;t=d(u,c,l+1/3),i=d(u,c,l),n=d(u,c,l-1/3)}return"rgba("+255*t+","+255*i+","+255*n+","+o+")"}(e):void 0}if(/\s/g.test(e))return e;var l=A(e),r=l?e.substr(0,e.length-l.length):e;return t?r+t:r}function Z(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function z(e){for(var t,i=e.points,n=0,a=0;a<i.numberOfItems;a++){var l=i.getItem(a);a>0&&(n+=Z(t,l)),t=l}return n}function N(e){var t;if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return 2*Math.PI*E(e,"r");case"rect":return 2*E(e,"width")+2*E(e,"height");case"line":return Z({x:E(e,"x1"),y:E(e,"y1")},{x:E(e,"x2"),y:E(e,"y2")});case"polyline":return z(e);case"polygon":return t=e.points,z(e)+Z(t.getItem(t.numberOfItems-1),t.getItem(0))}}function K(e,t){var i=t||{},n=i.el||function(e){for(var t=e.parentNode;m.svg(t)&&m.svg(t.parentNode);)t=t.parentNode;return t}(e),a=n.getBoundingClientRect(),l=E(n,"viewBox"),r=a.width,s=a.height,o=i.viewBox||(l?l.split(" "):[0,0,r,s]);return{el:n,viewBox:o,x:o[0]/1,y:o[1]/1,w:r,h:s,vW:o[2],vH:o[3]}}function B(e,t){var i=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,n=M(m.pth(e)?e.totalLength:e,t)+"";return{original:n,numbers:n.match(i)?n.match(i).map(Number):[0],strings:m.str(e)||t?n.split(i):[]}}function U(e){return v(e?P(m.arr(e)?e.map(S):S(e)):[],function(e,t,i){return i.indexOf(e)===t})}function V(e){var t=U(e);return t.map(function(e,i){return{target:e,id:i,total:t.length,transforms:{list:F(e)}}})}var H={css:function(e,t,i){return e.style[t]=i},attribute:function(e,t,i){return e.setAttribute(t,i)},object:function(e,t,i){return e[t]=i},transform:function(e,t,i,n,a){if(n.list.set(t,i),t===n.last||a){var l="";n.list.forEach(function(e,t){l+=t+"("+e+") "}),e.style.transform=l}}};function G(e,t){V(e).forEach(function(e){for(var i in t){var n=C(t[i],e),a=e.target,l=A(n),r=D(a,i,l,e),s=O(M(n,l||A(r)),r);H[L(a,i)](a,i,s,e.transforms,!0)}})}function W(e,t){var i=e.length,n=function(e){return e.timelineOffset?e.timelineOffset:0},a={};return a.duration=i?Math.max.apply(Math,e.map(function(e){return n(e)+e.duration})):t.duration,a.delay=i?Math.min.apply(Math,e.map(function(e){return n(e)+e.delay})):t.delay,a.endDelay=i?a.duration-Math.max.apply(Math,e.map(function(e){return n(e)+e.duration-e.endDelay})):t.endDelay,a}var $=0,Y=[],X=function(){var e;function t(i){for(var n=Y.length,a=0;a<n;){var l=Y[a];l.paused?(Y.splice(a,1),n--):(l.tick(i),a++)}e=a>0?requestAnimationFrame(t):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",function(){J.suspendWhenDocumentHidden&&(q()?e=cancelAnimationFrame(e):(Y.forEach(function(e){return e._onDocumentVisibility()}),X()))}),function(){e||q()&&J.suspendWhenDocumentHidden||!(Y.length>0)||(e=requestAnimationFrame(t))}}();function q(){return!!document&&document.hidden}function J(e){void 0===e&&(e={});var t,i,n,a,s,o,d,u,p,h,g=0,y=0,f=0,b=0,S=null;function w(e){var t=window.Promise&&new Promise(function(e){return S=e});return e.finished=t,t}var E=(i=I(l,t=e),a=function(e,t){var i=[],n=t.keyframes;for(var a in n&&(t=T(function(e){for(var t=v(P(e.map(function(e){return Object.keys(e)})),function(e){return m.key(e)}).reduce(function(e,t){return 0>e.indexOf(t)&&e.push(t),e},[]),i={},n=0;n<t.length;n++)!function(n){var a=t[n];i[a]=e.map(function(e){var t={};for(var i in e)m.key(i)?i==a&&(t.value=e[i]):t[i]=e[i];return t})}(n);return i}(n),t)),t)m.key(a)&&i.push({name:a,tweens:function(e,t){var i=k(t);if(/^spring/.test(i.easing)&&(i.duration=_(i.easing)),m.arr(e)){var n=e.length;2!==n||m.obj(e[0])?m.fnc(t.duration)||(i.duration=t.duration/n):e={value:e}}var a=m.arr(e)?e:[e];return a.map(function(e,i){var n=m.obj(e)&&!m.pth(e)?e:{value:e};return m.und(n.delay)&&(n.delay=i?0:t.delay),m.und(n.endDelay)&&(n.endDelay=i===a.length-1?t.endDelay:0),n}).map(function(e){return T(e,i)})}(t[a],e)});return i}(n=I(r,t),t),u=W((o=s=V(t.targets),d=v(P(o.map(function(e){return a.map(function(t){return function(e,t){var i=L(e.target,t.name);if(i){var n,a=t.tweens.map(function(i){var a=function(e,t){var i={};for(var n in e){var a=C(e[n],t);m.arr(a)&&1===(a=a.map(function(e){return C(e,t)})).length&&(a=a[0]),i[n]=a}return i.duration=parseFloat(i.duration),i.delay=parseFloat(i.delay),i}(i,e),l=a.value,r=m.arr(l)?l[1]:l,s=A(r),o=D(e.target,t.name,s,e),d=n?n.to.original:o,c=m.arr(l)?l[0]:d,u=A(c)||A(o),p=s||u;return m.und(r)&&(r=d),a.from=B(c,p),a.to=B(O(r,c),p),a.start=n?n.end:0,a.end=a.start+a.delay+a.duration+a.endDelay,a.easing=x(a.easing,a.duration),a.isPath=m.pth(l),a.isPathTargetInsideSVG=a.isPath&&m.svg(e.target),a.isColor=m.col(a.from.original),a.isColor&&(a.round=1),n=a,a}),l=a[a.length-1];return{type:i,property:t.name,animatable:e,tweens:a,duration:l.end,delay:a[0].delay,endDelay:l.endDelay}}}(e,t)})})),function(e){return!m.und(e)})),n),p=$,$++,T(i,{id:p,children:[],animatables:s,animations:d,duration:u.duration,delay:u.delay,endDelay:u.endDelay}));function j(){var e=E.direction;"alternate"!==e&&(E.direction="normal"!==e?"normal":"reverse"),E.reversed=!E.reversed,h.forEach(function(e){return e.reversed=E.reversed})}function R(e){return E.reversed?E.duration-e:e}function F(){g=0,y=R(E.currentTime)*(1/J.speed)}function M(e,t){t&&t.seek(e-t.timelineOffset)}function Z(e){for(var t=0,i=E.animations,n=i.length;t<n;){var a=i[t],l=a.animatable,r=a.tweens,s=r.length-1,o=r[s];s&&(o=v(r,function(t){return e<t.end})[0]||o);for(var d=c(e-o.start-o.delay,0,o.duration)/o.duration,u=isNaN(d)?1:o.easing(d),p=o.to.strings,m=o.round,h=[],_=o.to.numbers.length,g=void 0,y=0;y<_;y++){var f=void 0,x=o.to.numbers[y],b=o.from.numbers[y]||0;f=o.isPath?function(e,t,i){function n(i){void 0===i&&(i=0);var n=t+i>=1?t+i:0;return e.el.getPointAtLength(n)}var a=K(e.el,e.svg),l=n(),r=n(-1),s=n(1),o=i?1:a.w/a.vW,d=i?1:a.h/a.vH;switch(e.property){case"x":return(l.x-a.x)*o;case"y":return(l.y-a.y)*d;case"angle":return 180*Math.atan2(s.y-r.y,s.x-r.x)/Math.PI}}(o.value,u*x,o.isPathTargetInsideSVG):b+u*(x-b),m&&!(o.isColor&&y>2)&&(f=Math.round(f*m)/m),h.push(f)}var P=p.length;if(P){g=p[0];for(var S=0;S<P;S++){p[S];var w=p[S+1],k=h[S];isNaN(k)||(w?g+=k+w:g+=k+" ")}}else g=h[0];H[a.type](l.target,a.property,g,l.transforms),a.currentValue=g,t++}}function z(e){E[e]&&!E.passThrough&&E[e](E)}function N(e){var t=E.duration,i=E.delay,n=t-E.endDelay,a=R(e);E.progress=c(a/t*100,0,100),E.reversePlayback=a<E.currentTime,h&&function(e){if(E.reversePlayback)for(var t=b;t--;)M(e,h[t]);else for(var i=0;i<b;i++)M(e,h[i])}(a),!E.began&&E.currentTime>0&&(E.began=!0,z("begin")),!E.loopBegan&&E.currentTime>0&&(E.loopBegan=!0,z("loopBegin")),a<=i&&0!==E.currentTime&&Z(0),(a>=n&&E.currentTime!==t||!t)&&Z(t),a>i&&a<n?(E.changeBegan||(E.changeBegan=!0,E.changeCompleted=!1,z("changeBegin")),z("change"),Z(a)):E.changeBegan&&(E.changeCompleted=!0,E.changeBegan=!1,z("changeComplete")),E.currentTime=c(a,0,t),E.began&&z("update"),e>=t&&(y=0,E.remaining&&!0!==E.remaining&&E.remaining--,E.remaining?(g=f,z("loopComplete"),E.loopBegan=!1,"alternate"===E.direction&&j()):(E.paused=!0,!E.completed&&(E.completed=!0,z("loopComplete"),z("complete"),!E.passThrough&&"Promise"in window&&(S(),w(E)))))}return w(E),E.reset=function(){var e=E.direction;E.passThrough=!1,E.currentTime=0,E.progress=0,E.paused=!0,E.began=!1,E.loopBegan=!1,E.changeBegan=!1,E.completed=!1,E.changeCompleted=!1,E.reversePlayback=!1,E.reversed="reverse"===e,E.remaining=E.loop,b=(h=E.children).length;for(var t=b;t--;)E.children[t].reset();(E.reversed&&!0!==E.loop||"alternate"===e&&1===E.loop)&&E.remaining++,Z(E.reversed?E.duration:0)},E._onDocumentVisibility=F,E.set=function(e,t){return G(e,t),E},E.tick=function(e){f=e,g||(g=f),N((f+(y-g))*J.speed)},E.seek=function(e){N(R(e))},E.pause=function(){E.paused=!0,F()},E.play=function(){E.paused&&(E.completed&&E.reset(),E.paused=!1,Y.push(E),F(),X())},E.reverse=function(){j(),E.completed=!E.reversed,F()},E.restart=function(){E.reset(),E.play()},E.remove=function(e){ee(U(e),E)},E.reset(),E.autoplay&&E.play(),E}function Q(e,t){for(var i=t.length;i--;)w(e,t[i].animatable.target)&&t.splice(i,1)}function ee(e,t){var i=t.animations,n=t.children;Q(e,i);for(var a=n.length;a--;){var l=n[a],r=l.animations;Q(e,r),r.length||l.children.length||n.splice(a,1)}i.length||n.length||t.pause()}J.version="3.2.1",J.speed=1,J.suspendWhenDocumentHidden=!0,J.running=Y,J.remove=function(e){for(var t=U(e),i=Y.length;i--;)ee(t,Y[i])},J.get=D,J.set=G,J.convertPx=j,J.path=function(e,t){var i=m.str(e)?b(e)[0]:e,n=t||100;return function(e){return{property:e,el:i,svg:K(i),totalLength:N(i)*(n/100)}}},J.setDashoffset=function(e){var t=N(e);return e.setAttribute("stroke-dasharray",t),t},J.stagger=function(e,t){void 0===t&&(t={});var i=t.direction||"normal",n=t.easing?x(t.easing):null,a=t.grid,l=t.axis,r=t.from||0,s="first"===r,o="center"===r,d="last"===r,c=m.arr(e),u=c?parseFloat(e[0]):parseFloat(e),p=c?parseFloat(e[1]):0,h=A(c?e[1]:e)||0,_=t.start||0+(c?u:0),g=[],y=0;return function(e,t,m){if(s&&(r=0),o&&(r=(m-1)/2),d&&(r=m-1),!g.length){for(var f=0;f<m;f++){if(a){var x=o?(a[0]-1)/2:r%a[0],b=o?(a[1]-1)/2:Math.floor(r/a[0]),v=f%a[0],P=Math.floor(f/a[0]),S=x-v,w=b-P,k=Math.sqrt(S*S+w*w);"x"===l&&(k=-S),"y"===l&&(k=-w),g.push(k)}else g.push(Math.abs(r-f));y=Math.max.apply(Math,g)}n&&(g=g.map(function(e){return n(e/y)*y})),"reverse"===i&&(g=g.map(function(e){return l?e<0?-1*e:-e:Math.abs(y-e)}))}return _+(c?(p-u)/y:u)*(Math.round(100*g[t])/100)+h}},J.timeline=function(e){void 0===e&&(e={});var t=J(e);return t.duration=0,t.add=function(i,n){var a=Y.indexOf(t),l=t.children;function s(e){e.passThrough=!0}a>-1&&Y.splice(a,1);for(var o=0;o<l.length;o++)s(l[o]);var d=T(i,I(r,e));d.targets=d.targets||e.targets;var c=t.duration;d.autoplay=!1,d.direction=t.direction,d.timelineOffset=m.und(n)?c:O(n,c),s(t),t.seek(d.timelineOffset);var u=J(d);s(u),l.push(u);var p=W(l,e);return t.delay=p.delay,t.endDelay=p.endDelay,t.duration=p.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},J.easing=x,J.penner=f,J.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};let et=J},13882:(e,t,i)=>{"use strict";function n(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}i.d(t,{Z:()=>n})},303151:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(69119),a=i(13882);function l(e,t){(0,a.Z)(2,arguments);var i=(0,n.Z)(e),l=(0,n.Z)(t);return i.getTime()===l.getTime()}},69119:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(619013),a=i(13882);function l(e){(0,a.Z)(1,arguments);var t=(0,n.Z)(e);return t.setHours(0,0,0,0),t}},619013:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(13882);function a(e){(0,n.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(Error().stack)),new Date(NaN))}},537347:e=>{!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function i(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function n(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function a(e){var t=e.a.offsetWidth,i=t+100;return e.f.style.width=i+"px",e.c.scrollLeft=i,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function l(e,i){function n(){a(l)&&l.a.parentNode&&i(l.g)}var l=e;t(e.b,n),t(e.c,n),a(e)}function r(e,t){var i=t||{};this.family=e,this.style=i.style||"normal",this.weight=i.weight||"normal",this.stretch=i.stretch||"normal"}var s=null,o=null,d=null,c=null;function u(){return null===c&&(c=!!document.fonts),c}function p(e,t){return[e.style,e.weight,!function(){if(null===d){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}d=""!==e.style.font}return d}()?"":e.stretch,"100px",t].join(" ")}r.prototype.load=function(e,t){var a=this,r=e||"BESbswy",d=0,c=t||3e3,m=(new Date).getTime();return new Promise(function(e,t){if(u()&&!function(){if(null===o)if(u()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);o=!!e&&603>parseInt(e[1],10)}else o=!1;return o}()){var h,_=new Promise(function(e,t){!function i(){(new Date).getTime()-m>=c?t(Error(""+c+"ms timeout exceeded")):document.fonts.load(p(a,'"'+a.family+'"'),r).then(function(t){1<=t.length?e():setTimeout(i,25)},t)}()});Promise.race([new Promise(function(e,t){d=setTimeout(function(){t(Error(""+c+"ms timeout exceeded"))},c)}),_]).then(function(){clearTimeout(d),e(a)},t)}else h=function(){function o(){var t;(t=-1!=g&&-1!=y||-1!=g&&-1!=f||-1!=y&&-1!=f)&&((t=g!=y&&g!=f&&y!=f)||(null===s&&(s=!!(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent))&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=s&&(g==x&&y==x&&f==x||g==b&&y==b&&f==b||g==v&&y==v&&f==v)),t=!t),t&&(P.parentNode&&P.parentNode.removeChild(P),clearTimeout(d),e(a))}var u=new i(r),h=new i(r),_=new i(r),g=-1,y=-1,f=-1,x=-1,b=-1,v=-1,P=document.createElement("div");P.dir="ltr",n(u,p(a,"sans-serif")),n(h,p(a,"serif")),n(_,p(a,"monospace")),P.appendChild(u.a),P.appendChild(h.a),P.appendChild(_.a),document.body.appendChild(P),x=u.a.offsetWidth,b=h.a.offsetWidth,v=_.a.offsetWidth,function e(){if((new Date).getTime()-m>=c)P.parentNode&&P.parentNode.removeChild(P),t(Error(""+c+"ms timeout exceeded"));else{var i=document.hidden;(!0===i||void 0===i)&&(g=u.a.offsetWidth,y=h.a.offsetWidth,f=_.a.offsetWidth,o()),d=setTimeout(e,50)}}(),l(u,function(e){g=e,o()}),n(u,p(a,'"'+a.family+'",sans-serif')),l(h,function(e){y=e,o()}),n(h,p(a,'"'+a.family+'",serif')),l(_,function(e){f=e,o()}),n(_,p(a,'"'+a.family+'",monospace'))},document.body?h():document.addEventListener?document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e),h()}):document.attachEvent("onreadystatechange",function e(){("interactive"==document.readyState||"complete"==document.readyState)&&(document.detachEvent("onreadystatechange",e),h())})})},e.exports=r}()},130845:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function a(e,t){if(e.length!==t.length)return!1;for(var i,a,l=0;l<e.length;l++)if(!((i=e[l])===(a=t[l])||n(i)&&n(a))&&1)return!1;return!0}let l=function(e,t){void 0===t&&(t=a);var i,n,l=[],r=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return r&&i===this&&t(a,l)||(n=e.apply(this,a),r=!0,i=this,l=a),n}}},17314:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var n,a,l=i(813653),r=i(861470),s=0,o=0;let d=function(e,t,i){var d=t&&i||0,c=t||Array(16),u=(e=e||{}).node||n,p=void 0!==e.clockseq?e.clockseq:a;if(null==u||null==p){var m=e.random||(e.rng||l.Z)();null==u&&(u=n=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==p&&(p=a=(m[6]<<8|m[7])&16383)}var h=void 0!==e.msecs?e.msecs:Date.now(),_=void 0!==e.nsecs?e.nsecs:o+1,g=h-s+(_-o)/1e4;if(g<0&&void 0===e.clockseq&&(p=p+1&16383),(g<0||h>s)&&void 0===e.nsecs&&(_=0),_>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,o=_,a=p;var y=((0xfffffff&(h+=122192928e5))*1e4+_)%0x100000000;c[d++]=y>>>24&255,c[d++]=y>>>16&255,c[d++]=y>>>8&255,c[d++]=255&y;var f=h/0x100000000*1e4&0xfffffff;c[d++]=f>>>8&255,c[d++]=255&f,c[d++]=f>>>24&15|16,c[d++]=f>>>16&255,c[d++]=p>>>8|128,c[d++]=255&p;for(var x=0;x<6;++x)c[d+x]=u[x];return t||(0,r.Z)(c)}},695742:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardPickerList_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null};n.hash="76b22cc5d658befe1dc27454d3aee77f";let a=n},396994:(e,t,i)=>{"use strict";var n;i.r(t),i.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardTitleSuggestionList_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="69ffcdea57a7778d2ebbcd41c276c0d0";let l=a},488523:(e,t,i)=>{"use strict";var n;i.r(t),i.d(t,{default:()=>l});let a={argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"CSSCarouselModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"itemWidthHeightRatio",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[n],storageKey:'images(spec:"236x")'},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"ItemRep_pin"}],type:"Pin",abstractKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{args:null,kind:"FragmentSpread",name:"ItemRep_story"}],type:"Story",abstractKey:null};a.hash="d9b26cdb236cdd26cd01183eab07f81d";let l=a},22309:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CanonicalCard_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doneByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{args:null,kind:"FragmentSpread",name:"UnifiedCommentModule_pin"}],type:"Pin",abstractKey:null};n.hash="fcffc6bcc40bc48a92a9afe109d3995b";let a=n},135520:(e,t,i)=>{"use strict";var n,a,l;i.r(t),i.d(t,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CardSourceDescriptionText_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinAdditionalNote",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"userMentionTags",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[n={alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[n,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[a,{kind:"InlineFragment",selections:l=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:l,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:l,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:l,type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:l,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:l,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],type:"StoryPinListBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"DescriptionBrokenByLineBreaks_pin"},{args:null,kind:"FragmentSpread",name:"DescriptionWithLinksAndMentions_pin"}],type:"Pin",abstractKey:null};r.hash="c6b0de206743312221bd0e0b89d2f0aa";let s=r},522536:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselVideoItem_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupVideoNonDuplo_pin"}],type:"Pin",abstractKey:null};n.hash="510195e37611b9b69a16eccfeb13e9cf";let a=n},493658:(e,t,i)=>{"use strict";var n,a,l;i.r(t),i.d(t,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupAttributionAndDescription_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"authorName",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"authorUrl",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"ccUrl",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"providerName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"providerUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MediaAttribution",kind:"LinkedField",name:"mediaAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"author",storageKey:null},n,a,{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaType",storageKey:null},l],storageKey:null},{args:null,kind:"FragmentSpread",name:"Description_pin"}],type:"Pin",abstractKey:null};r.hash="7142df6a7a3c1aee54267c5441d3d50b";let s=r},477895:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupCarousel_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"},{args:null,kind:"FragmentSpread",name:"CarouselVideoItem_pin"}],type:"Pin",abstractKey:null};n.hash="83e61e6fc89222c2a0b03276839f44a5";let a=n},7881:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupCommentModule_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="361dbb7eac9d64408e9e81f7b01b2b75";let a=n},820287:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupFavoriteButtonTest_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoritedByMe",storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="9ab15ab4baca1bcd4b35d42d577e0b0e";let a=n},511639:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainPinImpression_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};n.hash="9fe338bb0275ffff2818b274fce014af";let a=n},441438:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedModule_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupRelatedModuleOneTapConfiguration_pin"}],type:"Pin",abstractKey:null};n.hash="535b0dce979f4e368b354c1d7db63f73";let a=n},721625:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedModulesContainer_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupRelatedPins_pin"},{args:null,kind:"FragmentSpread",name:"CloseupRelatedModule_pin"}],type:"Pin",abstractKey:null};n.hash="8b3eeb9b4671e020ac715d9513179386";let a=n},968960:(e,t,i)=>{"use strict";var n;i.r(t),i.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedPins_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isHidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{args:null,kind:"FragmentSpread",name:"ShoppingModule_pin"}],type:"Pin",abstractKey:null};a.hash="3fa8620068a79dc4a73dbbcde3f352f9";let l=a},228581:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRepinPage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null}],type:"Pin",abstractKey:null};n.hash="60ba8f292ef82335c3d4cbce50f362d8";let a=n},21283:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupVideoEndCard_pin",selections:[{args:null,kind:"FragmentSpread",name:"useCalculateMaxWidthAndHeightForSideBySideVariant_pin"}],type:"Pin",abstractKey:null};n.hash="e04be51b4be0a2585e7803d004fa83b7";let a=n},656863:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupVideoNonDuplo_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupVideoEndCard_pin"},{args:null,kind:"FragmentSpread",name:"VideoWithContextLogging_pin"},{args:null,kind:"FragmentSpread",name:"useCalculateMaxWidthAndHeightForSideBySideVariant_pin"}],type:"Pin",abstractKey:null};n.hash="53ae9ecd15f057f744460205e5d495fd";let a=n},241013:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupVideoWithVisibility_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupVideoNonDuplo_pin"}],type:"Pin",abstractKey:null};n.hash="60493becbbe037be854a8cd1136fede6";let a=n},915472:(e,t,i)=>{"use strict";var n,a;i.r(t),i.d(t,{default:()=>r});let l=(a=[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentThreadContainer_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null},n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doneByMe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},n,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null});l.hash="6e4bec581cece19361386d6124ddde90";let r=l},572469:(e,t,i)=>{"use strict";var n,a,l;i.r(t),i.d(t,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CreatorCard_pin",selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},n,a={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[a,l],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:[{alias:"creatorId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:[{alias:"sponsorId",args:null,kind:"ScalarField",name:"id",storageKey:null},a,l],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useCreatorRecsPrevStateCloseup_pin"}],type:"Pin",abstractKey:null};r.hash="e0f013c76e98f3f285ba25a7d2f0f3af";let s=r},663276:(e,t,i)=>{"use strict";var n,a,l,r;i.r(t),i.d(t,{default:()=>o});let s=(n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},l=[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],r=[n],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DefaultMetadata_pin",selections:[n,{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:l,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUserNote",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinAdditionalNote",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"websiteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDirectToSiteAllowed",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:l,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"affiliateLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"originPin",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:r,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[a,{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:l,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isInstagramApi",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{args:null,kind:"FragmentSpread",name:"DescriptionBrokenByLineBreaks_pin"},{args:null,kind:"FragmentSpread",name:"useHandleTitleClick_pin"},{args:null,kind:"FragmentSpread",name:"useCloseupBodyUtils_pin"},{args:null,kind:"FragmentSpread",name:"UnifiedCommentModule_pin"},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"},{args:null,kind:"FragmentSpread",name:"TitleDesktop_pin"},{args:null,kind:"FragmentSpread",name:"PartnerModule_pin"},{args:null,kind:"FragmentSpread",name:"CreatorCard_pin"},{args:null,kind:"FragmentSpread",name:"VisitButton_pin"},{args:null,kind:"FragmentSpread",name:"CloseupAttributionAndDescription_pin"},{args:null,kind:"FragmentSpread",name:"PinRecipeRating_pin"}],type:"Pin",abstractKey:null});s.hash="15807bc974d02364f9d5b356bf1164d9";let o=s},348943:(e,t,i)=>{"use strict";var n;i.r(t),i.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DescriptionBrokenByLineBreaks_pin",selections:[{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"descriptionLinks",plural:!0,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"userMentionTags",plural:!0,selections:n,storageKey:null},{args:null,kind:"FragmentSpread",name:"DescriptionWithLinksAndMentions_pin"}],type:"Pin",abstractKey:null};a.hash="7968de6cea93e071c3555836067ea32b";let l=a},501703:(e,t,i)=>{"use strict";var n,a,l,r;i.r(t),i.d(t,{default:()=>o});let s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DescriptionWithLinksAndMentions_pin",selections:[{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"descriptionLinks",plural:!0,selections:[n={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"objectId",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"userMentionTags",plural:!0,selections:[n,a,l,r],storageKey:null}],type:"Pin",abstractKey:null};s.hash="77396be9e54491e35d44dc059d7664fc";let o=s},886268:(e,t,i)=>{"use strict";var n,a,l;i.r(t),i.d(t,{default:()=>s});let r=(n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],l=[a={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Description_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:n,storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"pinAdditionalNote",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:l,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CardSourceDescriptionText_pin"}],type:"Pin",abstractKey:null});r.hash="d6d83b429981e4bc762e3872608eedbd";let s=r},789494:(e,t,i)=>{"use strict";var n;i.r(t),i.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DomainLinkButtonWrapper_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[n],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"websiteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDirectToSiteAllowed",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isInstagramApi",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"DomainLinkButton_pin"}],type:"Pin",abstractKey:null};a.hash="4c99d4ae49479ef8ed3083d59d4343c1";let l=a},892559:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DomainLinkButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"}],type:"Pin",abstractKey:null};n.hash="08b89bb2190b936e38e11d4ce341058f";let a=n},307564:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OfficialUserAttributionText_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"avatarColorIndex",storageKey:null}],type:"User",abstractKey:null};n.hash="076ac514bfbb048036e79417ec3c0eb5";let a=n},677023:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDescriptionAccordion_pin",selections:[{args:null,kind:"FragmentSpread",name:"StructuredDescription_pin"}],type:"Pin",abstractKey:null};n.hash="0ea92af6ed3e580e484b6776204f5277";let a=n},607985:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDescriptionPreview_pin",selections:[{args:null,kind:"FragmentSpread",name:"StructuredDescription_pin"}],type:"Pin",abstractKey:null};n.hash="81e3f3067a653af5d6211a19842d2603";let a=n},639557:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDescription_pin",selections:[{args:null,kind:"FragmentSpread",name:"ProductDescriptionAccordion_pin"},{args:null,kind:"FragmentSpread",name:"ProductDescriptionPreview_pin"}],type:"Pin",abstractKey:null};n.hash="bdb6cb8c14623db6cb507969ed9e02a4";let a=n},286274:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailPageRelatedModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],type:"Pin",abstractKey:null};n.hash="cce8a8d5ad05c8e6c1137bf7c8845c2a";let a=n},698667:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailPageRelatedModules_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"ProductDetailPageRelatedPins_pin"},{args:null,kind:"FragmentSpread",name:"ProductDetailPageRelatedModule_pin"}],type:"Pin",abstractKey:null};n.hash="85ae0703574c2bc161bc13206c3184f8";let a=n},724192:(e,t,i)=>{"use strict";var n;i.r(t),i.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailPageRelatedPins_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{args:null,kind:"FragmentSpread",name:"ShoppingModule_pin"}],type:"Pin",abstractKey:null};a.hash="86cb4963f4714e2184c01e13236c3616";let l=a},805504:(e,t,i)=>{"use strict";var n;i.r(t),i.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductHeading_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"}],type:"Pin",abstractKey:null};a.hash="8dced786a95725beb90a797a0e54242b";let l=a},579397:(e,t,i)=>{"use strict";var n,a,l,r,s,o,d,c;i.r(t),i.d(t,{default:()=>p});let u=(a={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={args:null,kind:"FragmentSpread",name:"OfficialUserAttributionText_user"},d=[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],c=[s],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductMetadata_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"affiliateLink",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[a,l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[n,r,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},s,o],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},a,n,{alias:null,args:null,kind:"ScalarField",name:"favoritedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},l,{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[r,s],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[n,r,o],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PriceHistorySummary",kind:"LinkedField",name:"priceHistorySummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"durationDays",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lowestPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typicalPrice",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:c,storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:c,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProductDescription_pin"},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"},{args:null,kind:"FragmentSpread",name:"CanonicalCard_pin"},{args:null,kind:"FragmentSpread",name:"CloseupFavoriteButtonTest_pin"},{args:null,kind:"FragmentSpread",name:"PartnerModule_pin"},{args:null,kind:"FragmentSpread",name:"ProductHeading_pin"},{args:null,kind:"FragmentSpread",name:"UnifiedCommentModule_pin"},{args:null,kind:"FragmentSpread",name:"VisitButton_pin"},{args:null,kind:"FragmentSpread",name:"useStructuredDescription_pin"}],type:"Pin",abstractKey:null});u.hash="8006d27d384526aca111cb980d673707";let p=u},683708:(e,t,i)=>{"use strict";var n;i.r(t),i.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinAddSection_pin",selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="b3ec14d29962e56f80dd52e7e6d7a6d9";let l=a},367795:(e,t,i)=>{"use strict";var n;i.r(t),i.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinBoardPicker_pin",selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[n],storageKey:null},{args:null,kind:"FragmentSpread",name:"BoardPickerList_pin"},{args:null,kind:"FragmentSpread",name:"BoardTitleSuggestionList_pin"},{args:null,kind:"FragmentSpread",name:"useClientTrackingParams_pin"}],type:"Pin",abstractKey:null};a.hash="475036dcb56a51d3552313200b8c9d45";let l=a},546920:(e,t,i)=>{"use strict";var n;i.r(t),i.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinCreateBoardButton_pin",selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[n],storageKey:null}],type:"Pin",abstractKey:null};a.hash="1612c2df94f42990b3d4f6ccede72a70";let l=a},192269:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n=(l=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],r=[{kind:"Variable",name:"pin",variableName:"pinId"}],o={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},u=[s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],{fragment:{argumentDefinitions:l,kind:"Fragment",metadata:null,name:"RepinPageQuery",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[s,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"RepinPage_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"RepinPageQuery",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[s,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},o,{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c,o,d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},c],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:u,storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:u,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:u,storageKey:null}],storageKey:null},c],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"07d289e6c922ebc4ed21efcdd6fb425983d982a2c8a0484ddaf1b91db1391adf",metadata:{},name:"RepinPageQuery",operationKind:"query",text:null}});n.hash="76093586a269ca0330e25a57bd33f665";let a=n;var l,r,s,o,d,c,u,p=n.default||n;if("query"===p.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(p);else{let e=[p.params.name,p.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=p}},134472:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinPage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"RepinAddSection_pin"},{args:null,kind:"FragmentSpread",name:"RepinBoardPicker_pin"},{args:null,kind:"FragmentSpread",name:"RepinSectionPicker_pin"},{args:null,kind:"FragmentSpread",name:"RepinCreateBoardButton_pin"}],type:"Pin",abstractKey:null};n.hash="b1432f4e80d112c155f930f7ed3760cd";let a=n},325556:(e,t,i)=>{"use strict";var n;i.r(t),i.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinSectionPicker_pin",selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[n],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null};a.hash="f0b2fbadfba92480a2077999a000a308";let l=a},30313:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ShoppingModulePreviewImages_story",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null}],storageKey:null}],type:"Story",abstractKey:null};n.hash="d06bcbcd23746aa04d9f42cb2af2084d";let a=n},331550:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n=(l={defaultValue:null,kind:"LocalArgument",name:"isAuth"},r={defaultValue:null,kind:"LocalArgument",name:"isDesktop"},s={defaultValue:null,kind:"LocalArgument",name:"pinId"},o=[{kind:"Variable",name:"pin",variableName:"pinId"}],d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c={alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},p=[u={alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],m={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},y=[{kind:"Literal",name:"spec",value:"236x"}],f={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},I=[g={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],T={alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},L={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[R={alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},Z={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},K=[x,b,m,d],B={alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},H=[x,m,b],W={alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:G=[{alias:null,args:null,kind:"ScalarField",name:"blockId",storageKey:null},x,B,b,m],storageKey:null},$=[{kind:"Literal",name:"spec",value:"474x"}],Y=[{kind:"Literal",name:"spec",value:"564x"}],X=[{kind:"Literal",name:"spec",value:"736x"}],q={alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},Q={alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"creatorAnalytics",plural:!1,selections:[{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"_30dRealtime",plural:!1,selections:J=[d],storageKey:null}],storageKey:null},ee={alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null},et={alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},ei=[{kind:"Literal",name:"version",value:"V_HLSV3_MOBILE"}],en={alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},ea={alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},el={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},es={alias:"image236x",args:y,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:er=[d,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:H,storageKey:null},E],storageKey:'additionalImagesPerSpec(spec:"236x")'},eo={alias:"image474x",args:$,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:er,storageKey:'additionalImagesPerSpec(spec:"474x")'},ed={alias:"image564x",args:Y,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:er,storageKey:'additionalImagesPerSpec(spec:"564x")'},ec={alias:"image736x",args:X,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:er,storageKey:'additionalImagesPerSpec(spec:"736x")'},eu={alias:"productId",args:null,kind:"ScalarField",name:"id",storageKey:null},ep={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null},em={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},eh=[x,m,b,f],e_={alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null},eg=[f,x,m,b],ey=[{kind:"Literal",name:"spec",value:"170x"}],ef=[m],ex=[D,w],eb=[g,w,D,Z,O,M],eP={kind:"InlineFragment",selections:ev=[et,h],type:"ParagraphBlock",abstractKey:null},eS={kind:"InlineFragment",selections:ev,type:"HeadingBlock",abstractKey:null},ew={kind:"InlineFragment",selections:ev,type:"TextBlock",abstractKey:null},ek=[B,m,b,x,U],eI={alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null},eC={alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"creatorAnalytics",plural:!1,selections:[{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"_30dRealtime",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinClick",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"save",storageKey:null}],storageKey:null}],storageKey:null},eE=[eT={alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},N,eA={alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null}],ej={alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},eR={alias:null,args:null,kind:"ScalarField",name:"showFewerWeightLossAds",storageKey:null},eL={alias:null,args:null,kind:"ScalarField",name:"showAdReasons",storageKey:null},eZ={alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},ez=[eF={alias:null,args:null,kind:"ScalarField",name:"boardId",storageKey:null},eD={alias:null,args:null,kind:"ScalarField",name:"localPinId",storageKey:null},eO={alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},eM={alias:null,args:null,kind:"ScalarField",name:"sectionId",storageKey:null},_,em,m],eN={alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},eK={alias:null,args:null,concreteType:"ActionOptions",kind:"LinkedField",name:"actionOptions",plural:!1,selections:[eF,{alias:null,args:null,kind:"ScalarField",name:"interestId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"interestList",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"complaintReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedbackType",storageKey:null},ee,{alias:null,args:null,kind:"ScalarField",name:"pinType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"recommendationReasonId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"undo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"query",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"newsId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"throughId",storageKey:null},{alias:null,args:null,concreteType:"ThroughProperties",kind:"LinkedField",name:"throughProperties",plural:!0,selections:[el,ea],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"clientTrackingParams",storageKey:null},e_],storageKey:null},{fragment:{argumentDefinitions:[l,r,s],kind:"Fragment",metadata:null,name:"ShoppingModuleQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetStelaShoppingCarouselQuery",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"ShoppingModule_v3GetStelaShoppingCarousel"}],type:"V3GetStelaShoppingCarousel",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[s,r,l],kind:"Operation",name:"ShoppingModuleQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetStelaShoppingCarouselQuery",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"data",plural:!0,selections:[d,c,{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:p,storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"requestParams",storageKey:null},m,{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentCarouselDisplayOptions",kind:"LinkedField",name:"carouselDisplayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"navigationType",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselScrollingMode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null},{alias:null,args:null,concreteType:"StoryContentVisibleItemCount",kind:"LinkedField",name:"contentVisibleItemCount",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mobile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryTilesGridLayout",kind:"LinkedField",name:"gridLayout",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cols",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemWidthHeightRatio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinsDisplay",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselFadeEnds",storageKey:null},{alias:null,args:null,concreteType:"StoryItemViewRepStyle",kind:"LinkedField",name:"itemViewRepStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"exploreArticleRepStyle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moreIdeasRepStyle",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDisplay",kind:"LinkedField",name:"headerDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expandedTextAlignment",storageKey:null},{alias:null,args:null,concreteType:"StoryThumbnailDisplayOptions",kind:"LinkedField",name:"thumbnail",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thumbnailUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWidth",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWidthHeightRatio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWash",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDynamicContentSpan",kind:"LinkedField",name:"dynamicHeaderContentSpan",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"narrowView",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wideView",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"textAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerWidth",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titlePosition",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleStyle",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titleTextColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleTextColor",storageKey:null}],storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[d,u],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[d,{kind:"InlineFragment",selections:[_,g,{alias:"imageSpec_236x",args:y,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[m,f,x,b],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"debug",storageKey:null},v,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[P,S,m,w,k,{alias:null,args:null,kind:"ScalarField",name:"featuredIn",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:I,storageKey:null},T,g,A,{alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorPermissions",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[P,S,m,w,g,d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoAltText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},C,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},f,{alias:null,args:null,kind:"ScalarField",name:"dpaCreativeType",storageKey:null},E,{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},j,{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[d,w,L,F,g,D,O,M,Z,z,{alias:null,args:null,kind:"ScalarField",name:"websiteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDirectToSiteAllowed",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},w,M,D,g,O,F,L,Z,N,d],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[d,w,g,D,M,Z,O],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[g,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:K,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:[x,b,m,d,B],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:K,storageKey:null},d],storageKey:null},w,d,U],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[S,m],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingKlpUrls",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[_,{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},j,V,{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},E,{alias:"imagesSpec_236x",args:y,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:H,storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[g,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:G,storageKey:null},W],storageKey:null},w],storageKey:null},d,{alias:"image236x",args:y,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:H,storageKey:'images(spec:"236x")'},{alias:"image474x",args:$,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:H,storageKey:'images(spec:"474x")'},{alias:"image564x",args:Y,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:H,storageKey:'images(spec:"564x")'},{alias:"image736x",args:X,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:H,storageKey:'images(spec:"736x")'},q],storageKey:null},w,d,{alias:"carouselDataId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinTagChipImagesPerSpec",kind:"LinkedField",name:"pinTagsChips",plural:!0,selections:[d,q,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!1,selections:H,storageKey:null},j],storageKey:null},w,{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null},Q],storageKey:null},{alias:null,args:null,concreteType:"CollectionPin",kind:"LinkedField",name:"collectionPin",plural:!1,selections:[{alias:null,args:null,concreteType:"CollectionPinItem",kind:"LinkedField",name:"itemData",plural:!0,selections:[d,ee,{alias:null,args:[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:[m,b,x],storageKey:'images(spec:"750x")'},j],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},w,{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[d,{kind:"InlineFragment",selections:[et,{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormattedV2",kind:"LinkedField",name:"videoDataV2",plural:!1,selections:[{alias:null,args:ei,concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[W],storageKey:'videoList(version:"V_HLSV3_MOBILE")'},d],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"staticPageCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[d,w,S,m,g],storageKey:null},en,{alias:null,args:null,concreteType:"PinThroughProperties",kind:"LinkedField",name:"throughProperties",plural:!0,selections:[ea,el],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdData",kind:"LinkedField",name:"adData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collectionGridClickType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ceAltImageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isWeightLossAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"excludeFromGridRepTests",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:J,storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[d,{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[S,{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:J,storageKey:null}],storageKey:null},es,eo,ed,ec,eu,S,ep,{alias:"additionalImageSpec_236x",args:y,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:J,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"additionalImageSpec_474x",args:$,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:J,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImageSpec_564x",args:Y,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:J,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImageSpec_736x",args:X,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:J,storageKey:'additionalImagesPerSpec(spec:"736x")'}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null},_,C],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[V,{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null},es,eo,ed,ec,eu,d,ep,{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[S],storageKey:null},S,{alias:null,args:null,concreteType:"LabelInfo",kind:"LinkedField",name:"labelInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labels",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},m],storageKey:null},{alias:null,args:null,concreteType:"ProductMetadataV2",kind:"LinkedField",name:"productPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"ItemMetadata",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"additionalImagesLength",storageKey:null}],storageKey:null},w],storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[d,x,m,b,f],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},em],storageKey:null},{alias:"image236x",args:y,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:H,storageKey:'images(spec:"236x")'},{alias:"image474x",args:$,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:H,storageKey:'images(spec:"474x")'},{alias:"image564x",args:Y,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:H,storageKey:'images(spec:"564x")'},{alias:"image736x",args:X,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:H,storageKey:'images(spec:"736x")'},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:"imageSpec_474x",args:$,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:eh,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:X,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:eh,storageKey:'images(spec:"736x")'},e_,{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:eg,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:ey,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:eg,storageKey:'images(spec:"170x")'},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"linkUtmApplicableAndReplaced",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:"imageSpec_564x",args:Y,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ef,storageKey:'images(spec:"564x")'},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadFormId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[em],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[S,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null},w,g],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"videoStatus",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRepin",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[D,w,g,Z,O,z,M,F,L],storageKey:null},w,d],storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:ex,storageKey:null},w],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:[D,w,g],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viaPinner",plural:!1,selections:ex,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"AdTargetingAttribution",kind:"LinkedField",name:"adTargetingAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"geoPostalCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"geoRegion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCustomerListMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isShoppingRetargetingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isActalikeMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEngagementMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isExpandTargetingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isFromGpsLocation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVisitorMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isShoppingProspectingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPlPersonaMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedAgeBucket",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedDevice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedGender",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedInterest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedKeyword",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedLocale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isFirstPartyAdPersonalizationEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAdPersonalizationEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isLocalInventoryAdsMatched",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAdvertiserName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAttributionName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPromotedPartnership",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"digitalMediaSourceType",storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:eb,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:eb,storageKey:null},d],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"gridAttribution",plural:!1,selections:[g,D,Z,O,M,F,L,w],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},Q,{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isQuickPromotable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVideo",storageKey:null},{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ef,storageKey:'images(spec:"60x60")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ef,storageKey:'images(spec:"600x315")'},{alias:null,args:null,kind:"ScalarField",name:"isInstagramApi",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"GenAIInterestData",kind:"LinkedField",name:"genAiTopics",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"interestIdStr",storageKey:null},S],storageKey:null},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[et,{alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[d,eP,eS,ew,{kind:"InlineFragment",selections:[et],type:"IngredientBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},g,{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[P,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[eP,eS,ew,{kind:"InlineFragment",selections:[h,{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormattedV2",kind:"LinkedField",name:"videoDataV2",plural:!1,selections:[{alias:"videoListMobile",args:ei,concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:ek,storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'},{alias:"videoListEXP3",args:[{kind:"Literal",name:"version",value:"V_EXP3"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP3",plural:!1,selections:ek,storageKey:null}],storageKey:'videoList(version:"V_EXP3")'},{alias:"videoListEXP4",args:[{kind:"Literal",name:"version",value:"V_EXP4"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP4",plural:!1,selections:ek,storageKey:null}],storageKey:'videoList(version:"V_EXP4")'},{alias:"videoListEXP5",args:[{kind:"Literal",name:"version",value:"V_EXP5"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP5",plural:!1,selections:ek,storageKey:null}],storageKey:'videoList(version:"V_EXP5")'},{alias:"videoListEXP6",args:[{kind:"Literal",name:"version",value:"V_EXP6"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP6",plural:!1,selections:ek,storageKey:null}],storageKey:'videoList(version:"V_EXP6")'},{alias:"videoListEXP7",args:[{kind:"Literal",name:"version",value:"V_EXP7"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP7",plural:!1,selections:ek,storageKey:null}],storageKey:'videoList(version:"V_EXP7")'},{alias:"videoList720P",args:[{kind:"Literal",name:"version",value:"V_720P"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:ek,storageKey:null}],storageKey:'videoList(version:"V_720P")'}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imageThumbnailUrl",storageKey:null},eI],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPreLovedGoodsLabel",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[eT,eA],storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[eC],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoritedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoriteUserCount",storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:eE,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"gridAttribution",plural:!1,selections:eE,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:eE,storageKey:null},eC,{alias:null,args:null,kind:"ScalarField",name:"showFoodIndicator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seeMoreUserFeedback",storageKey:null},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{kind:"ClientExtension",selections:[ej,eR,eL]}]},{kind:"ClientExtension",selections:[ej,eL,eR]}]},{kind:"ClientExtension",selections:[ej,{alias:"nodeId",args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedInfo",plural:!1,selections:[eF,eD,d,m,eO,eM,_,em],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null},eZ,{alias:null,args:null,kind:"ScalarField",name:"mediaUploadId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"saved",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedCutout",plural:!1,selections:ez,storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"selectedItem",plural:!1,selections:ez,storageKey:null},eL,eR,{alias:null,args:null,kind:"ScalarField",name:"showFeedbackOverlay",storageKey:null},{alias:null,args:null,concreteType:"FeedbackText",kind:"LinkedField",name:"feedbackText",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"subTitle",storageKey:null},_,{alias:null,args:null,concreteType:"Unfollow",kind:"LinkedField",name:"unfollow",plural:!1,selections:[eN,eK],storageKey:null},{alias:null,args:null,concreteType:"UndoCallbackProps",kind:"LinkedField",name:"undoCallbackProps",plural:!1,selections:[eN,eK,{alias:null,args:null,kind:"ScalarField",name:"viewType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewParameter",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showFeedback",storageKey:null}]}],type:"Pin",abstractKey:null},{kind:"InlineFragment",selections:[c,{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:p,storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[g,S,{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:I,storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},eZ],storageKey:null},k,{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:ey,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:ef,storageKey:'images(spec:"170x")'},{alias:"images236x",args:y,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:ef,storageKey:'images(spec:"236x")'},T,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[g,w,{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},D,F,M,{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[S,R],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},A,{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[en,{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},em,m,{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:ef,storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:ef,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:ef,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},eI],type:"Board",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"boardMoreIdeasFeedUpsellId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"boardMoreIdeasFeedUpsellName",args:null,kind:"ScalarField",name:"boardName",storageKey:null}],type:"BoardMoreIdeasFeedUpsell",abstractKey:null},{kind:"InlineFragment",selections:[g,M],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[g,{alias:"exploreArticleTitle",args:null,concreteType:"ArticleTitleGraphQL",kind:"LinkedField",name:"title",plural:!1,selections:p,storageKey:null}],type:"ExploreArticle",abstractKey:null},{kind:"InlineFragment",selections:[S,{alias:"imageSpec236x",args:y,concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!0,selections:ef,storageKey:'image(spec:"236x")'},{alias:"imageSpec474x",args:$,concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!0,selections:ef,storageKey:'image(spec:"474x")'},{alias:"klpUrl",args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"SeoRelatedInterestsData",abstractKey:null},{kind:"InlineFragment",selections:[w],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[D,F,L,M,Z,w,d],storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"subtitle",plural:!1,selections:p,storageKey:null},{alias:"storyDescription",args:null,concreteType:"StoryText",kind:"LinkedField",name:"description",plural:!1,selections:p,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shopSource",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slot",storageKey:null},v],storageKey:null}],type:"V3GetStelaShoppingCarousel",abstractKey:null}],storageKey:null}]},params:{id:"8280aaafec55b03c7d93a45774b5f47ea0f1360234d47436eb1edaede15d443a",metadata:{},name:"ShoppingModuleQuery",operationKind:"query",text:null}});n.hash="9b72b1fb8ac15ff6e966eb2e7fedbb74";let a=n;var l,r,s,o,d,c,u,p,m,h,_,g,y,f,x,b,v,P,S,w,k,I,T,A,C,E,j,R,L,F,D,O,M,Z,z,N,K,B,U,V,H,G,W,$,Y,X,q,J,Q,ee,et,ei,en,ea,el,er,es,eo,ed,ec,eu,ep,em,eh,e_,eg,ey,ef,ex,eb,ev,eP,eS,ew,ek,eI,eT,eA,eC,eE,ej,eR,eL,eF,eD,eO,eM,eZ,ez,eN,eK,eB=n.default||n;if("query"===eB.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(eB);else{let e=[eB.params.name,eB.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=eB}},124025:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ShoppingModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"CollectionPin",kind:"LinkedField",name:"collectionPin",plural:!1,selections:[{alias:null,args:null,concreteType:"CollectionPinItem",kind:"LinkedField",name:"itemData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"source",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CarouselModule_pin"}],type:"Pin",abstractKey:null};n.hash="739ecb0736bfecf3911084ec22416c60";let a=n},618965:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ShoppingModule_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null}],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null};n.hash="967fc795bbfb9844686a21d73abf35e0";let a=n},477987:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"ShoppingModule_v3GetStelaShoppingCarousel",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"data",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"requestParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CarouselModule_story"},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"CSSCarouselModule_story"},{args:null,kind:"FragmentSpread",name:"ShoppingModule_story"}],storageKey:null}],type:"V3GetStelaShoppingCarousel",abstractKey:null};n.hash="8dbadcc717705db56290e7675e591f95";let a=n},511735:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinBlock_pin",selections:[{args:null,kind:"FragmentSpread",name:"StoryPinStickerBlockCloseup_pin"}],type:"Pin",abstractKey:null};n.hash="8bb1bb1f7bafeed0fe43bed44ef12d2a";let a=n},452343:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinStickerBlockCloseup_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="7e8d917850c8329247291df0d281a59b";let a=n},214939:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StructuredDescriptionComponent_pin",selections:[{args:null,kind:"FragmentSpread",name:"StructuredDescriptionText_pin"}],type:"Pin",abstractKey:null};n.hash="1754355dbabe4462412dea1f15de578a";let a=n},483818:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StructuredDescriptionText_pin",selections:[{args:null,kind:"FragmentSpread",name:"DescriptionWithLinksAndMentions_pin"}],type:"Pin",abstractKey:null};n.hash="ef081bfebeb2d474863467d0c905af4b";let a=n},175152:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StructuredDescription_pin",selections:[{args:null,kind:"FragmentSpread",name:"StructuredDescriptionComponent_pin"}],type:"Pin",abstractKey:null};n.hash="0115eb52db8bd36a1a82754d3c39b478";let a=n},811698:(e,t,i)=>{"use strict";var n,a,l,r,s,o,d;i.r(t),i.d(t,{default:()=>u});let c=(n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},r=[l={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],s=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TitleDesktop_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:r,storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:d=[o={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:d,storageKey:null},a,{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinFormattedLink_pin"},{args:null,kind:"FragmentSpread",name:"usePinHasProducts_pin"}],type:"Pin",abstractKey:null});c.hash="e0961d958eda59cad942eda9890b0f5f";let u=c},401280:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedCommentModule_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupCommentModule_pin"}],type:"Pin",abstractKey:null};n.hash="3a8cd51fec23643de121636949bbbcf6";let a=n},871737:(e,t,i)=>{"use strict";var n;i.r(t),i.d(t,{default:()=>l});let a={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRepDefaultPinRep_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:n=[{args:null,kind:"FragmentSpread",name:"PinRepInner_board"}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:n,storageKey:null},{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"PinRep_pin"}],type:"Pin",abstractKey:null};a.hash="4a14df4142363241fba79dec5c9e9f45";let l=a},180385:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRepVariant_pin",selections:[{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_pin"}],type:"Pin",abstractKey:null};n.hash="cf7ae619f5ec8cf58cf3302e69136b1d";let a=n},510709:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRep_pin",selections:[{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_pin"}],type:"Pin",abstractKey:null};n.hash="bb4e0fc2e1a319a6b7c65cb9ad5c8cb6";let a=n},807811:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoContent_pin",selections:[{args:null,kind:"FragmentSpread",name:"useCalculateMaxWidthAndHeightForSideBySideVariant_pin"},{args:null,kind:"FragmentSpread",name:"CloseupVideoWithVisibility_pin"}],type:"Pin",abstractKey:null};n.hash="89029511c11617e1150976d1002228db";let a=n},421018:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoWithContextLogging_pin",selections:[{args:null,kind:"FragmentSpread",name:"VideoWrapper_pin"}],type:"Pin",abstractKey:null};n.hash="93ed23334d5bac81ac8410f05c4f2031";let a=n},902045:(e,t,i)=>{"use strict";var n;i.r(t),i.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisitButton_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"}],type:"Pin",abstractKey:null};a.hash="e327c6c7127550a2f17b174cd4dcfa73";let l=a},49130:(e,t,i)=>{"use strict";var n,a,l,r,s;i.r(t),i.d(t,{default:()=>d});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisualContext_pin",selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captionsUrls",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:r,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null}],storageKey:null},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s=[l,n,a],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"236x")'},{alias:"imageSpec_1200x",args:[{kind:"Literal",name:"spec",value:"1200x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"1200x")'},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVideo",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetMainPinImage_pin"}],type:"Pin",abstractKey:null};o.hash="f5ddfd6a30ebe10b0f0a7b0bf12bea4e";let d=o},459669:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useBuildCloseupImageOverlayProps_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null}],type:"Pin",abstractKey:null};n.hash="239c809acefcd1b75df8f18c8ffb91ff";let a=n},35192:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCalculateImageContainerDimension_pin",selections:[{args:null,kind:"FragmentSpread",name:"useCalculateMaxWidthAndHeightForSideBySideVariant_pin"}],type:"Pin",abstractKey:null};n.hash="86a6c49cecdb70d77f786a1965756cf9";let a=n},129231:(e,t,i)=>{"use strict";var n,a,l,r;i.r(t),i.d(t,{default:()=>o});let s=(n={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},r=[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:l=[{alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null}],storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCalculateMaxWidthAndHeightForSideBySideVariant_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[n,a],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:l,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedTitle",storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},a,{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null}],type:"Pin",abstractKey:null});s.hash="f82ccc429683f2cb3ed96de5adc86f80";let o=s},253027:(e,t,i)=>{"use strict";var n,a,l,r,s,o,d;i.r(t),i.d(t,{default:()=>u});let c=(n={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},l=[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],o={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCloseupBodyUtils_pin",selections:[n,{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[a,{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:l,storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:l,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:s=[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domainUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domainVerified",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"thirdPartyPinOwner",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:l,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[a,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:s,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[o,n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:d=[r],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupUnifiedAttribution",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"CreatorClass",kind:"LinkedField",name:"creatorClass",plural:!1,selections:l,storageKey:null}],type:"Pin",abstractKey:null});c.hash="b640d34fae5bf66634c4dffcbb8ea6d4";let u=c},326053:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCreatorRecsPrevStateCloseup_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"showSuggestedCreatorRecs",storageKey:null}]}],type:"Pin",abstractKey:null};n.hash="a1f87ab2b8198cdc7fd8fc3cdaa872f0";let a=n},896574:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"useFetchBoardTitleSuggestionsQuery",selections:[{alias:null,args:r=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[o={alias:null,args:null,concreteType:"BoardTitleSuggestions",kind:"LinkedField",name:"boardTitleSuggestions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null},d={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"useFetchBoardTitleSuggestionsQuery",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[s,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null},d],storageKey:null}]},params:{id:"dfccee15ebd4af4563083cc11670f30e6390ba0f2d1317da3d908269f01eadba",metadata:{},name:"useFetchBoardTitleSuggestionsQuery",operationKind:"query",text:null}};n.hash="a8967078f1de7ce3a263a224d0d0e710";let a=n;var l,r,s,o,d,c=n.default||n;if("query"===c.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(c);else{let e=[c.params.name,c.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=c}},581406:(e,t,i)=>{"use strict";var n;i.r(t),i.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetMainPinImage_pin",selections:[{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"236x")'},{alias:"imageSpec_1200x",args:[{kind:"Literal",name:"spec",value:"1200x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"1200x")'}],type:"Pin",abstractKey:null};a.hash="64a50a10a8f854ca82309453d98f41a7";let l=a},752824:(e,t,i)=>{"use strict";var n;i.r(t),i.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetNormalizedPinImage_pin",selections:[{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null};a.hash="3d7a6d04f923d00acfb2887f852aea16";let l=a},243019:(e,t,i)=>{"use strict";var n;i.r(t),i.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useHandleBackButtonClick_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};a.hash="efee9cd30f69b524ed9920746ed65ceb";let l=a},567611:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useHandleTitleClick_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"},{args:null,kind:"FragmentSpread",name:"useClientTrackingParams_pin"},{alias:null,args:null,kind:"ScalarField",name:"linkUtmApplicableAndReplaced",storageKey:null}],type:"Pin",abstractKey:null};n.hash="d38a7b9f18791089cd1df852e3863570";let a=n},100322:(e,t,i)=>{"use strict";var n;i.r(t),i.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIsBoardOwnerOrCollaborator_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n,storageKey:null}],type:"Pin",abstractKey:null};a.hash="120c47eff2cf4911de716b514608718f";let l=a},410242:(e,t,i)=>{"use strict";var n;i.r(t),i.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMediaContainer_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForRelatedProducts",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Shuffle",kind:"LinkedField",name:"shuffle",plural:!1,selections:n,storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null}],type:"Pin",abstractKey:null};a.hash="c3027cfec56abe15f0990c2bc6707062";let l=a},126517:(e,t,i)=>{"use strict";var n,a;i.r(t),i.d(t,{default:()=>r});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinAnalyticsStatus_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[a={alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"creatorAnalytics",plural:!1,selections:[{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"_30dRealtime",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null}],storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"isRepin",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:n,storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};l.hash="977a37f1bef6ecfbe279db65075e1520";let r=l},2139:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinFormattedLink_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinHasProducts_pin"}],type:"Pin",abstractKey:null};n.hash="b694b913cbcf66451260d78ec78bcccd";let a=n},840032:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinHasProducts_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="e1f413e0ba2f9031ea605d85baa14a4b";let a=n},220858:(e,t,i)=>{"use strict";var n,a;i.r(t),i.d(t,{default:()=>r});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStructuredDescription_pin",selections:[{alias:null,args:null,concreteType:"FormattedCloseupDescription",kind:"LinkedField",name:"formattedCloseupDescription",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"components",plural:!0,selections:[{kind:"InlineFragment",selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:"stringContent",args:null,kind:"ScalarField",name:"content",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"DescriptionString",abstractKey:null},{kind:"InlineFragment",selections:[n,a,{alias:"pointsContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionPoints",abstractKey:null},{kind:"InlineFragment",selections:[n,a,{alias:"specsContent",args:null,concreteType:"DescriptionSpecDetail",kind:"LinkedField",name:"content",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],type:"DescriptionSpecs",abstractKey:null},{kind:"InlineFragment",selections:[n,a,{alias:"tableContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionTable",abstractKey:null},{kind:"InlineFragment",selections:[n,a,{alias:"headerContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionHeader",abstractKey:null},{kind:"InlineFragment",selections:[n,a,{alias:"boldContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionStringBold",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};l.hash="f5443b1193b0aed988404fef7c7338fe";let r=l},603383:(e,t,i)=>{"use strict";i.d(t,{CA:()=>a,Gv:()=>n,k5:()=>l});let n=({orbacSubjectId:e,pinIsRepin:t,pinPinnerId:i,viewerId:n,viewerIsPartner:a})=>!t&&!!a&&[n,e].includes(i),a=e=>!!(e&&!e.insufficient_data_response&&e.results&&e.results.length>0),l=(e,t)=>{if(!e)return e;let i=[...e].filter(e=>!!e.mom_change?.roundedPercentChange&&e.mom_change.roundedPercentChange>0);return i.length<=t?i:Array(t).fill(1).map(()=>{let e=Math.floor(Math.random()*i.length);return i.splice(e,1)[0]})}},683810:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(667294);let a="undefined"!=typeof document?document:{},l=()=>{let e=(0,n.useRef)(void 0),t=a.documentElement,{body:i}=a;return t?[()=>{if(!i||!i.style||e.current)return;let n=window.innerWidth-t.clientWidth,a=parseInt(window.getComputedStyle(i).getPropertyValue("padding-right"),10)||0;t.style.position="relative",t.style.overflow="hidden",i.style.position="relative",i.style.overflow="hidden",i.style.paddingRight=`${a+n}px`,e.current=!0},()=>{i&&i.style&&e.current&&(t.style.position="",t.style.overflow="",i.style.position="",i.style.overflow="",i.style.paddingRight="",e.current=!1)}]:[]}},450745:(e,t,i)=>{"use strict";i.d(t,{K:()=>r,Q:()=>l});var n=i(667294);let a=(0,n.createContext)(null),l=a;function r(){let e=(0,n.useContext)(a);return e?.featuredCommentId}},868977:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var n=i(545007),a=i(578373),l=i(921506),r=i(644849),s=i(617100),o=i(312702),d=i(992110),c=i(875202);let u={[r.o.aggregatedComment]:"AggregatedCommentReplyResource",[r.o.pin]:"AggregatedCommentResource",[r.o.didIt]:"DidItCommentsResource"};function p(){let e=(0,n.I0)(),{aggregatedCommentCreated:t,updateCommentCount:i}=(0,l.nf)();return async({commentMedia:n,force:l=!0,fromUnifiedComment:r,objectId:p,objectType:m,orbacSubjectId:h,pinId:_,replyToCommentId:g,tags:y,text:f})=>{let x=u[m],b={force:l,objectId:p,pinId:_,tags:y,text:f,replyToCommentId:g,...h?{orbacSubjectId:h}:{},...n?{commentMedia:n}:{}},v=c.Z.AGGREGATED_COMMENTS;r&&(v="pin"===m?c.Z.UNIFIED_COMMENTS:c.Z.AGGREGATED_COMMENT_REPLIES);let P=await a.Z.create(x,b).callCreate({showError:!1}),S=P.resource_response.data;return t(p,S),e((0,o.vX)({feedType:v,feedId:p,itemIds:[S.id],itemType:S.type,prepend:!0})),"aggregatedComment"===m?i(p,1):"didIt"===m&&e((0,s.L8)(p,1)),_&&e((0,d.R)(_,1)),S.id||P}}},976675:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>M});var n,a,l=i(667294),r=i(545007);i(167912);var s=i(20256),o=i(19963),d=i(297934),c=i(422578),u=i(509936);let p=function(e,t,i){switch((0,u.o)(e)){case"SingularLegacy":case"PluralLegacy":case"PaginationLegacyData":return t;case"GraphQL":{let e=(0,c.useRelayEnvironment)();return t=>(0,c.commitLocalUpdate)(e,e=>i(e,t))}default:throw Error("Unexpected case")}};var m=i(78039),h=i(233846),_=i(537236),g=i(113474),y=i(51340),f=i(755090),x=i(971518),b=i(41086),v=i(297026),P=i(38061),S=i(785893);let w=({creatorData:e,onTap:t,onUserFollow:i})=>{let n=(0,h.ZP)(),a=(0,d.Z)(),{explicitly_followed_by_me:l,follower_count:r=0,full_name:o,id:c,image_medium_url:u,username:p,verified_identity:m,avatar_color_index:_,is_verified_merchant:g}=e||{},f=`/${p}/`;return(0,S.jsx)(s.sg,{span:4,children:(0,S.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:"0px 2px"}},direction:"column",display:"flex",marginBottom:1,children:[(0,S.jsx)(s.Tg,{href:f,onTap:()=>t(c),children:(0,S.jsxs)(s.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,S.jsx)(s.xu,{height:60,width:60,children:(0,S.jsx)(x.qE,{color:_,name:o??"",size:"fit",src:u??"",verified:!1})}),(0,S.jsxs)(s.xu,{marginBottom:1,paddingY:2,children:[(0,S.jsx)(s.xu,{marginBottom:1,children:(0,S.jsx)(s.xv,{align:"center",lineClamp:1,size:"100",weight:"bold",children:m||g?(0,S.jsx)(P.Z,{badgeSize:"xs",badgeSpacing:2,fullName:o??"",isVerifiedIdentity:m?.verified,isVerifiedMerchant:g}):o})}),(0,S.jsx)(s.xv,{align:"center",size:"100",children:(0,y.nk)(n.ngettext('{{ followerCount }} follower', '{{ followerCount }} followers', r, 'suggestedCreatorRep.creator.followerCount', 'the number of followers the user has'),{followerCount:(0,S.jsx)(b.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:r},r)})})]})]})}),(0,S.jsx)(v.Z,{fullName:o,id:c,imageUrl:u,isOwnProfile:a.isAuth&&a.id===c,isSecondaryButton:!0,onUserFollow:e=>i({userIsNowFollowing:e,creatorId:c}),profileUrl:`/${p}/`,shouldStopEventPropagation:!0,size:"sm",userFollowed:l,viewParameter:156,viewType:3})]})})},k=({creatorRecs:e,fullName:t,pinId:i,viewParameter:n,viewType:a})=>{let{logContextEvent:l}=(0,o.u)(),r=(0,h.ZP)();(0,f.Z)(()=>{l({event_type:13,component:13891,view_parameter:n,view_type:a,aux_data:{...i?{pin_id:i}:{}}})});let d=e=>{l({event_type:101,component:13891,view_parameter:n,view_type:a,object_id_str:e,aux_data:{...i?{pin_id:i}:{}}})},c=({userIsNowFollowing:e,creatorId:t})=>{e?l({event_type:45,component:13891,object_id_str:t,view_parameter:n,view_type:a,aux_data:{...i?{pin_id:i}:{}}}):l({event_type:46,component:13891,object_id_str:t,view_parameter:n,view_type:a,aux_data:{...i?{pin_id:i}:{}}})};return(0,S.jsx)(s.xu,{minWidth:432,paddingY:4,children:(0,S.jsxs)(s.xu,{borderStyle:"shadow",paddingX:5,paddingY:4,rounding:4,children:[t&&(0,S.jsx)(s.X6,{align:"center",size:"300",children:(0,y.nk)(r._('More like {{creatorName}}', 'suggestedCreatorRecs.title', 'Users like the one just followed. creatorName: the creator\'s name'),{creatorName:t})}),(0,S.jsx)(s.xu,{display:"flex",justifyContent:"between",marginTop:4,width:"100%",children:e.map(e=>(0,S.jsx)(w,{creatorData:e.user,onTap:d,onUserFollow:c},e.user_id))})]})})},I=3,T=["creatorrecommendationitem.user_id","creatorrecommendationitem.user()","user.explicitly_followed_by_me","user.id","user.follower_count","user.full_name","user.image_medium_url","user.username","user.verified_identity","user.is_verified_merchant"],A=({fullName:e,id:t,numCreatorsToShow:i=I,pinId:n,viewParameter:a,viewType:l})=>{let r=(0,g.Z)({name:"ApiResource",options:{url:"/v3/orientation/nux_creator_recommendations/",data:{fields:T.join(","),page_size:i,referrer:4,target_user:t}}});if(!r.isLoaded||!(r.data&&r.data.length===i))return null;let s=r.data||[];return(0,S.jsx)(k,{creatorRecs:s,fullName:e,pinId:n,viewParameter:a,viewType:l})};var C=i(468318);let E=(void 0!==n||(n=i(326053)).hash&&"a1f87ab2b8198cdc7fd8fc3cdaa872f0"!==n.hash&&console.error("The definition of 'useCreatorRecsPrevStateCloseup_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),j=function(e){let t=function(){let{forward:e}=(0,C.ou)(),t=e&&e.length>0&&e[0].match&&e[0].match.path?e[0].match.path:null;return!!(t&&t.includes("/:username"))}(),i=(0,m.Z)(E,e);if(!t||!i)return{creatorRecsPrevState:!1};{let e=!!i.promotedIsLeadAd,t=i.richSummary?.typeName==="product";return{creatorRecsPrevState:!!i&&!e&&!t&&!!i.showSuggestedCreatorRecs}}};var R=i(864559),L=i(62861);function F(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let D=(void 0!==a||(a=i(572469)).hash&&"e0f013c76e98f3f285ba25a7d2f0f3af"!==a.hash&&console.error("The definition of 'CreatorCard_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);class O extends l.PureComponent{constructor(...e){super(...e),F(this,"state",{shouldShowCreatorRecs:this.props.suggestedCreatorRecsPrevState,user:this.props.officialUser}),F(this,"handleNavigateAndLog",(e,t)=>{let{pin:i}=this.props,n=!!i.storyPinDataId;e===t?this.props.logContextEvent({event_type:101,element:13382,view_type:this.viewType,view_parameter:this.viewParameter,...n?{component:230}:Object.freeze({}),object_id_str:i.entityId,aux_data:{pin_id:i.entityId,creator_id:i.sponsorship?.creator?.creatorId,aop_origin:"CreatorCard",...n?{story_pin_template_type:i.storyPinData?.metadata?.templateType}:{}}}):this.props.logContextEvent({event_type:101,view_type:this.viewType,view_parameter:this.viewParameter,element:11619,...n?{component:230}:Object.freeze({}),object_id_str:i.entityId,aux_data:{pin_id:i.entityId,creator_id:i.sponsorship?.creator?.creatorId,...n?{story_pin_template_type:i.storyPinData?.metadata?.templateType}:{}}})}),F(this,"handleNavigateAndLogSponsorClick",()=>{let{pin:e}=this.props,t=e.entityId,i=e.sponsorship?.creator?.creatorId,n=e.sponsorship?.sponsor?.sponsorId,a=!!e.storyPinDataId;i&&n&&this.props.logContextEvent({event_type:101,view_type:this.viewType,view_parameter:this.viewParameter,element:11619,...a?{component:230}:Object.freeze({}),object_id_str:t,aux_data:{pin_id:t,creator_id:i,sponsor_id:n}})})}static getDerivedStateFromProps(e,t){let i=e.officialUser;if(i&&i!==t.user)return{...t,user:i};let n=e.suggestedCreatorRecsPrevState;return n&&!t.shouldShowCreatorRecs?{...t,shouldShowCreatorRecs:n}:null}get viewType(){return this.props.viewType||3}get viewParameter(){return this.props.viewParameter||156}render(){let{user:e}=this.state;if(!e)return(0,S.jsx)(s.xu,{});let{pin:t}=this.props,{full_name:i,id:n,image_medium_url:a,is_verified_merchant:l,username:r,verified_identity:o}=e,d=!!o?.verified,c=!!t.promotedIsLeadAd,u=t.richSummary?.typeName==="product",p=!!(!c&&!u&&this.state.shouldShowCreatorRecs),m=t.pinner?.isAdsOnlyProfile&&t.pinner.adsOnlyProfileSite?t.pinner?.adsOnlyProfileSite:`/${r}/`;return(0,S.jsx)(s.xu,{position:"relative",children:(0,S.jsxs)(s.xu,{children:[(0,S.jsx)(s.kC,{alignItems:"center",justifyContent:"start",children:(0,S.jsx)(s.xu,{flex:"grow",children:(0,S.jsx)(R.Z,{fullName:i,imageUrl:a,isPromoted:!!(t.promoter&&t.isPromoted),isVerifiedIdentity:d,isVerifiedMerchant:l,onNavigateClick:()=>this.handleNavigateAndLog(m,t.pinner?.adsOnlyProfileSite),onNavigateSponsorClick:this.handleNavigateAndLogSponsorClick,openNewTab:m===t.pinner?.adsOnlyProfileSite,profileUrl:m,sponsorName:t.sponsorship?.sponsor?.fullName??"",sponsorshipStatus:t.sponsorship?.status,sponsorUsername:t.sponsorship?.sponsor?.username??""})})}),p&&(0,S.jsx)(s.xu,{marginEnd:1,marginStart:1,children:(0,S.jsx)(A,{fullName:i,id:n,pinId:t.entityId,viewParameter:this.viewParameter,viewType:this.viewType})})]})})}}let M=(0,_.Z)(function(e){let{logContextEvent:t}=(0,o.u)(),i=(0,h.ZP)(),n=(0,m.Z)(D,e.input),a=(0,r.I0)(),l=p(e.input,()=>{a((0,L.Vw)(n.entityId))},e=>{let t=e.get(n.entityId);t&&t.setValue(!0,"showSuggestedCreatorRecs")}),s=(0,d.Z)(),{creatorRecsPrevState:c}=j(n);return(0,S.jsx)(O,{...e,i18n:i,logContextEvent:t,pin:n,setShowSuggestedCreatorRecs:l,suggestedCreatorRecsPrevState:c,viewerUserId:s.isAuth?s.id:null})})},925091:(e,t,i)=>{"use strict";i.d(t,{f:()=>S,l:()=>P});var n=i(667294),a=i(862452),l=i(182501),r=i(78263),s=i(245406),o=i(208086),d=i(164787),c=i(659327),u=i(411320),p=i(603499),m=i(36735),h=i(218291),_=i(316886),g=i(357525),y=i(477565),f=i(785893);let x=(e,t,i)=>{let n=t?.find(({action:e})=>e?.filter?.product_filter_type===i);if(!n)return;let a=(0,g.Z)(y.Z,!0)(n),l=e.findIndex(({action:e})=>e?.filter?.productFilterType===i);e[l]?e[l]=a:e.push(a)},b=(e,t,i,n)=>{let a=n.find(({action:t})=>"number"==typeof t?.filter?.productFilterType&&e.has(t.filter.productFilterType));if(a?.action?.filter){let e=a.action.filter.filterOptions;a.action.filter.appliedFilterOptions="string"==typeof t?e?.filter(e=>e?.[i]&&t.split(",").includes(String(e[i]))).map(e=>({...e,selected:!0})):[]}},{Provider:v,get:P}=(0,h.Z)("OneBarProductFilters");function S({children:e}){let[t,i]=(0,n.useState)([]),[h,g]=(0,n.useState)(null),y=function(){let{scope:e}=(0,s.n)();return[r.lw.BOARDS,r.lw.PINS_BUYABLE,r.lw.PINS_VIDEO,r.lw.USERS].includes(e)}(),P=(0,u.Z)(),S=(0,d.Z)(),w=(0,a.Z)(),k=(0,l.Z)(),I=(0,c.Z)(),T=(0,p.Z)(),A=(0,n.useCallback)(({oneBarModules:e,baseCacheKey:n})=>{let a=e?.filter(({module_type:e})=>17===e||0===e);if(!a||a?.length===0||!n)return;let l=n!==h,r=l?[]:t;(l||!y)&&x(r,a,4),(l||!P)&&x(r,a,1),(l||!S)&&x(r,a,0),(l||!w)&&x(r,a,3),(l||!k)&&x(r,a,6),(l||!T)&&x(r,a,10),(l||!I)&&[7,8,9].forEach(e=>{x(r,a,e)}),(0,_.ZP)(r,t)||(i(r),g(n))},[t,w,k,y,S,I,P,T,h]),C=(0,o.Z)(),{priceMax:E,priceMin:j,scope:R,brands:L,onSale:F,style:D,colors:O,domains:M}=(0,s.n)();(0,n.useEffect)(()=>{if(!C||0===t.length)return;let e=(0,m.Z)(t);if(R!==r.lw.PINS){let t=(0,r.gi)(R),i=e.find(({moduleType:e})=>0===e);i?.action?.filter&&(i.action.filter.appliedFilterOptions=[...i.action.filter.filterOptions||[]].filter(Boolean).map(e=>{let{searchType:i}=e;return{searchType:i,selected:i===t}}))}if("string"==typeof E||"string"==typeof j){let t=e.find(({action:e})=>e?.filter?.productFilterType===1);t?.action?.filter&&(t.action.filter.appliedFilterOptions=[t.action.filter.filterOptions?.[0]?{...t.action.filter.filterOptions[0],numericValue:Number(j)}:null,t.action.filter.filterOptions?.[1]?{...t.action.filter.filterOptions[1],numericValue:Number(E)}:null].filter(Boolean))}b(new Set([3]),L,"stringValue",e),b(new Set([6]),O,"stringValue",e),b(new Set([0]),M,"stringValue",e),b(new Set([7,8,9]),F,"numericValue",e),b(new Set([10]),D,"stringValue",e),(0,_.ZP)(e,t)||i(e)},[t,C,E,j,R,L,O,M,F,D]);let Z=(0,n.useMemo)(()=>({cachedProductFilterOneBarModules:t,cacheOneBarModules:A}),[t,A]);return(0,f.jsx)(v,{value:Z,children:e})}},75283:(e,t,i)=>{"use strict";i.d(t,{Z:()=>b});var n=i(545007),a=i(616550),l=i(892295),r=i(995208),s=i(401587),o=i(297934),d=i(468318),c=i(967312),u=i(174646),p=i(827491),m=i(488879),h=i(670380),_=i(176436),g=i(903683),y=i(785893),f=i(667294);function x(e){return(0,y.jsx)(s.Z,{id:"CloseupContainerCommon-2",children:(0,y.jsx)(l.l6,{...e,closeupComponentToRender:"ProductDetailPage"})})}function b(e){let t=(0,n.I0)(),i=(0,o.Z)(),l=(0,a.UO)(),b=(0,d.aX)(),v=(0,a.TH)(),P=(0,g.S6)()(l.id||""),S=(0,h.Z)((v?.state||{}).trackingParams,P?.tracking_params),w={...e,history:(0,a.k6)(),location:(0,a.TH)(),clientTrackingParams:S,params:l,requestContext:(0,u.B)(),searchPinCloseupViewed:(e,i)=>t((0,_.Y4)(e,i)),viewer:i},{checkExperiment:k}=(0,c.r)();return(0,y.jsx)(r.Z,{orbacSubjectId:(0,m.lJ)(i,(0,p.Z)()),pinId:l.id||"",children:({pinResource:e})=>(0,y.jsx)(s.Z,{id:"ProductDetailPageContainer",children:(0,f.createElement)(x,{...w,key:l.id,checkExperiment:k,clientTrackingParams:S,currentHistoryStack:b,pinResource:e})})})}},650649:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var n=i(667294),a=i(20256),l=i(586033),r=i(967312),s=i(309654),o=i(890803),d=i(785893);function c(e){let t=(0,n.useRef)(null),i=t.current?.clientWidth??void 0,l={...e,width:i};return(0,d.jsx)(a.xu,{ref:t,children:(0,d.jsx)(o.Z,{largeSizeRep:(0,d.jsx)(s.default,{...l,contentVisibleItemCountOverride:3.5}),mediumSizeRep:(0,d.jsx)(s.default,{...l,contentVisibleItemCountOverride:3.5}),smallSizeRep:(0,d.jsx)(s.default,{...l,contentVisibleItemCountOverride:2.5})})})}function u(e){let{auxData:t,contentIds:i,story:n,slotIndex:o,viewParameter:u,viewType:p,...m}=e,h=(0,l.ZP)({clientTrackingParams:n?.tracking_params,componentType:n?.display_options?.content_display?.component_type,contextLogData:{content_ids:i??n?.objects?.map(({type:e,id:t})=>`${e??""}:${t??""}`).join("|"),grid_index:o,story_id:n?.id,story_type:n?.story_type,total_object_count:n?.objects?.length,...t},impressionType:"Story",loggingId:n?.id,objectIdStr:n?.id,slotIndex:o,viewParameter:u,viewType:p}),{checkExperiment:_}=(0,r.r)(),g=n?.story_type==="recently_viewed"&&_("web_recently_viewed_responsive").anyEnabled,y={...m,initialSlotIndex:0,story:n,view:p,viewParameter:u};return n?(0,d.jsx)(a.xu,{ref:h,children:g?(0,d.jsx)(c,{...y,storyKey:{type:"deprecated",data:n}}):(0,d.jsx)(s.default,{...y,storyKey:{type:"deprecated",data:n}})}):null}},25035:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>D});var n=i(616550),a=i(20256),l=i(175959),r=i(785893);function s({slotIndex:e,story:t}){return(0,r.jsx)(l.Z,{isInViewOrNext:!0,item:t.objects?.[0],slotIndex:e,story:t})}function o({story:e}){return(0,r.jsxs)(a.xu,{marginBottom:6,children:[(0,r.jsx)(a.xv,{align:"center",size:"500",weight:"bold",children:e.title?.format}),e.objects?.map((t,i)=>(0,r.jsx)(a.xu,{marginTop:4,children:(0,r.jsx)(l.Z,{component:14269,isInViewOrNext:!0,item:t,slotIndex:i,story:e,view:1,viewParameter:null})},i))]})}var d=i(650649),c=i(667294),u=i(896798),p=i(966239),m=i(493936),h=i(346754);let _=(0,i(757653).Z)(()=>Promise.all([i.e(97270),i.e(93041),i.e(78716),i.e(95813)]).then(i.bind(i,380122)),void 0,e=>380122,"app-www-video-VideoWrapper"),g={backgroundColor:"rgba(0, 0, 0, 0.4)"},y={backgroundColor:"rgba(0, 0, 0, 0.6)"};function f({titleText:e,videoPin:t,videoPlaceholderImage:i}){return(0,r.jsx)(_,{aspectRatio:m.q4,captions:"",controls:!1,fallback:(0,r.jsx)(a.Ee,{alt:e||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:3,naturalWidth:2,src:i||t.metadata.thumbnail}),isAutoPlay:!0,loop:!0,onPlay:()=>{},onPlayError:()=>{},playing:!0,playsInline:!0,poster:i||t.metadata.thumbnail,src:t.url,volume:0})}function x({buttonAction:e,buttonCustomization:t,buttonText:i,experience:n,hideCompleteButton:l,imageAlt:s,imageUrl:o,openNewTab:d,storyType:_,titleColor:x,titleText:b,titleTextCustomization:v,videoPin:P,videoPlaceholderImage:S}){let[w,k]=(0,c.useState)(!1),{experience_id:I,placement_id:T}=n||{},A=(0,u.oS)(T),C=(0,h.Z)({onVisibilityChanged:e=>{e&&n&&"viewed"!==n.status&&void 0!==T&&void 0!==I&&(n.status="viewed",A.viewExperience(T,I,!1,!0))}}),E=()=>{n&&A.completeExperience(T,I,!1,!0)},j=()=>{k(!0)},R=()=>{k(!1)},L="feed_card_video"===_?354:315,F=(0,m.zn)(_),D=F?p.f8:p.hm,O=F?p.sH:p.HI,{color:M,fontSize:Z,fontStyle:z,fontWeight:N,horizontalAlignment:K}=(0,m.Mf)(v||{},"web");return(0,r.jsxs)(a.xu,{ref:C,position:"relative",children:[(0,r.jsx)(a.xu,{onMouseEnter:j,onMouseLeave:R,children:(0,r.jsxs)(a.rU,{accessibilityLabel:b,href:e,onBlur:R,onClick:E,onFocus:j,target:d?"blank":null,underline:"none",children:[(0,r.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:`${L/236*100}%`,WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},overflow:"hidden",position:"relative",rounding:4,width:"100%",children:[(0,r.jsx)(a.xu,{height:"100%",position:"absolute",rounding:4,width:"100%",children:"feed_card_video"===_&&P?(0,r.jsx)(f,{titleText:b,videoPin:P,videoPlaceholderImage:S}):o&&(0,r.jsx)(a.Ee,{alt:s||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:4,naturalWidth:3,src:o})}),!F&&(0,r.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:w?y:g},height:"100%",left:!0,position:"absolute",top:!0,width:"100%"}),(0,r.jsx)(D,{children:(0,r.jsx)(a.xv,{align:K,color:x,italic:"italics"===z,weight:N,children:(0,r.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{color:M??void 0,fontSize:Z}},children:b})})})]}),!l&&F&&(0,r.jsx)(O,{children:(0,r.jsx)(a.zx,{color:(0,m.pQ)(t),text:i})})]})}),!F&&(0,r.jsx)(O,{children:(0,r.jsx)(a.ZP,{accessibilityLabel:i,color:"gray",fullWidth:!0,href:e,onClick:E,size:"lg",text:i})})]})}var b=i(545007),v=i(19963),P=i(778622);function S({experienceId:e,copy:{buttonText:t,subtitleText:i,titleText:l},path:s,pins:o,placementId:d}){let{logContextEvent:u}=(0,v.u)(),p=(0,b.I0)(),m=(0,n.k6)(),h=(0,P.Ig)(),_=(0,P.be)();return(0,c.useEffect)(()=>{u({event_type:13,view_type:1,view_parameter:92,component:200,element:10551}),p(h(d,e,!1,!0))},[]),(0,r.jsxs)(a.kC,{alignItems:"stretch",dataTestId:"story-landing-page-card",direction:"column",flex:"grow",justifyContent:"start",children:[(0,r.jsx)(a.xu,{paddingY:1,children:(0,r.jsx)(a.X6,{align:"center",size:"400",children:l})}),(0,r.jsx)(a.xu,{paddingY:1,children:(0,r.jsx)(a.xv,{align:"center",children:i})}),(0,r.jsx)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:1,paddingY:2,children:o&&o.map((e,t)=>((e,t)=>{let{height:i,url:n,width:l}=e.images.orig;return(0,r.jsx)(a.xu,{marginStart:2*(0!==t),children:(0,r.jsx)(a.zd,{height:72,rounding:2,width:48,children:(0,r.jsx)(a.Ee,{alt:"",color:"",fit:"cover",naturalHeight:i,naturalWidth:l,src:n})})},e.id)})(e,t))}),(0,r.jsx)(a.xu,{alignSelf:"center",paddingY:2,children:(0,r.jsx)(a.zx,{fullWidth:!0,onClick:()=>{p(_(d,e,!1,!0)),u({event_type:101,view_type:1,view_parameter:92,component:200,element:10551}),m.push(s)},size:"lg",text:t})})]})}var w=i(586033),k=i(357525),I=i(477565),T=i(605095),A=i(857147),C=i(892671),E=i(422378);let j=e=>{if(!e)return 0;let t=114/(e.width??1);return Math.floor((e.height??1)*t)};function R({auxData:e,objects:t,text:i,url:n,viewParameterType:l,viewType:s}){let o=!i||!n||!t,{logContextEvent:d}=(0,v.u)(),u={aux_data:e,component:15111,view_parameter:l,view_type:s},p=(0,c.useMemo)(()=>{let e=t?.map(e=>e.cover_images?.[0]?.["236x"]).filter(Boolean).slice(0,9);return e?[{type:"spacer"},e[0],{type:"spacer"},...e.slice(1,9),e[0],e[1],e[2]]:[]},[t]);if(o)return null;let m=(()=>{let e=i.length>33?294:i.length>22?252:i.length>11?274:299,t=j(p[1]);return Math.abs(e/2-(t+12+j(p[6])/2))})();return(0,r.jsx)(C.Z,{log:u,children:(0,r.jsx)(E.q,{children:({hovered:e,onMouseEnter:t,onMouseLeave:l})=>(0,r.jsx)(a.rU,{accessibilityLabel:i,href:n,onBlur:l,onClick:()=>{d({...u,event_type:101})},onFocus:t,underline:"none",children:(0,r.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{border:"2px solid #E9E9E9"}},height:i.length>33?420:354,onMouseEnter:t,onMouseLeave:l,overflow:"hidden",position:"relative",rounding:4,children:[(0,r.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{left:"-18%",top:`-${m}px`}},position:"absolute",width:"133%",zIndex:new a.Ry(-1),children:(0,r.jsx)(a.Rk,{gutterWidth:12,items:p,layout:"flexible",minCols:3,renderItem:({data:e})=>{if("spacer"===e.type)return(0,r.jsx)(a.xu,{height:19});if(!e)return null;let t=j(e);return(0,r.jsx)(a.zd,{height:t,rounding:2,wash:!0,width:"100%",children:(0,r.jsx)(a.xu,{height:t,width:"100%",children:e.url&&(0,r.jsx)(a.Ee,{alt:"",color:e.dominant_color||"transparent",fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:e.url})})})}})}),(0,r.jsx)(a.xu,{bottom:!0,position:"absolute",width:"100%",children:(0,r.jsx)(a.xu,{color:"default",paddingX:4,paddingY:8,children:(0,r.jsx)(a.xv,{color:"dark",lineClamp:3,size:"500",weight:"bold",children:i})})}),(0,r.jsx)(a.xu,{color:"dark",dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},height:"100%",opacity:.4*!!e,position:"absolute",top:!0})]})})})})}let L={blended_modules_topic_pin_grid_article:14103,related_query_shop_upsell_search:15111,related_query_shop_upsell_closeup:15111},F={135:14269,136:14268};function D(e){let{search:t}=(0,n.TH)(),{component:i,itemIdx:l,saveButtonOptions:c,story:u,surface:p,viewType:h,viewParameter:_}=e,{story_type:g,container_type:y}=u,f=(0,w.ZP)({clientTrackingParams:u.tracking_params,componentType:g&&L[g]||"number"==typeof y&&F[y]||void 0,contextLogData:{content_ids:u?.objects?.map(({type:e,id:t})=>`${e??""}:${t??""}`).join("|"),story_id:u.id,story_type:u.story_type,total_object_count:u?.objects?.length,...u.aux_fields??{}},impressionType:"Story",loggingId:u.id,objectIdStr:u?.id,slotIndex:l,viewParameter:_,viewType:h});switch(u.container_type){case 41:let{copy:b,custom_properties:v,experience:P,objects:C}=u;return(0,r.jsx)("div",{className:"Module","data-test-id":"story-card-container",children:(0,r.jsx)(S,{copy:(0,k.Z)(I.Z)(b),experienceId:P.experience_id,path:v?.path,pins:C,placementId:P.placement_id})});case 66:{let{action:e,custom_properties:i,display_options:n,experience:s,objects:o,story_type:d,title:c}=u;if(!["related_query_shop_upsell_search","related_query_shop_upsell_closeup"].includes(d||""))return(0,r.jsx)("div",{ref:f,className:"Module",children:(0,r.jsx)(x,{buttonAction:e?.url,buttonCustomization:i.button_customization,buttonText:e?.text,experience:s,hideCompleteButton:i.hide_complete_button,imageAlt:i.image_alt,imageUrl:i.image,openNewTab:i.open_new_tab,storyType:d,titleColor:(0,m.h_)(i,n.title_text_color),titleText:c.format,titleTextCustomization:i.title_text_customization,videoPin:i.video_pin,videoPlaceholderImage:i.video_placeholder_image})});{let i=(0,A.mB)(t)?.q,n={auxData:{content_ids:(u.content_ids||[]).map(e=>`${o?.[0].type}:${e}`).join("|"),...i?{entered_query:i}:{},grid_index:l,story_id:u.id,story_index:l,story_type:d},objects:o,text:c?.format,url:e?.url,viewParameterType:_,viewType:h},s=(0,r.jsx)(a.xu,{ref:f,children:(0,r.jsx)(R,{...n})});if("related_query_shop_upsell_search"===d)return null;if("related_query_shop_upsell_closeup"===d)return s;return null}}case 135:return(0,r.jsx)("div",{ref:f,className:"Module",children:(0,r.jsx)(o,{slotIndex:l,story:u})});case 136:return(0,r.jsx)("div",{ref:f,className:"Module",children:(0,r.jsx)(s,{slotIndex:l,story:u})});case 90:return(0,r.jsx)("div",{className:"Module",children:(0,r.jsx)(d.Z,{component:i,saveButtonOptions:c,slotIndex:l,story:u,styleOverrides:{headerMarginTop:5,headerMarginX:7,carouselPaddingX:18,carouselContainerMarginBottom:1,navigationFabOpacity:1,navigationFabSize:40},surface:p,viewParameter:_,viewType:h})});case 91:if(("blended_module_type_topics_board_recs"===u.story_type||"board_style_pivot"===u.story_type)&&u.objects[0].cover_images.length>=4){let e={item:{action:u.action,cover_images:u.objects[0].cover_images,dominant_colors:u.objects[0].dominant_colors,title:u.title,subtitle:u.subtitle,type:"explorearticle"},slotIndex:l,story:u,view:h,viewParameter:_};return(0,r.jsx)("div",{className:"Module",children:(0,r.jsx)(T.Z,{...e})})}return null;default:return null}}},684855:(e,t,i)=>{"use strict";i.d(t,{Z:()=>y});var n=i(20256),a=i(548789),l=i(131302),r=i(925091),s=i(208086);function o({defaultText:e,productFilterTypes:t}){let i=(0,s.Z)(),{cachedProductFilterOneBarModules:n}=(0,r.l)();return i?n.find(e=>"number"==typeof e.action?.filter?.productFilterType&&t.includes(e.action.filter.productFilterType))?.action?.filter?.errorStateLabel??e:e}var d=i(233846),c=i(785893);function u(){let e=o({defaultText:(0, d.ZP)()._('Remove brands', 'AuthSearchPage.PinsNotFoundShoppingFilter.RemoveBrandsFilter', 'Button text to remove brand filter when no search results are found'),productFilterTypes:[3]}),t=(0,l.Z)(),i=(0,a.Z)();return(0,c.jsx)(n.zx,{dataTestId:"remove-brand-filter",onClick:()=>{i(0),t([{key:"brands",value:""}])},text:e})}function p(){let e=o({defaultText:(0, d.ZP)()._('Remove retailers', 'AuthSearchPage.PinsNotFoundShoppingFilter.RemoveRetailerFilter', 'Button text to remove retailer filter when no search results are found'),productFilterTypes:[0]}),t=(0,l.Z)(),i=(0,a.Z)();return(0,c.jsx)(n.zx,{dataTestId:"remove-retailer-filter",onClick:()=>{i(0),t([{key:"domains",value:""}])},text:e})}function m(){let e=o({defaultText:(0, d.ZP)()._('Remove on sale', 'AuthSearchPage.PinsNotFoundShoppingFilter.RemoveOnSaleFilter', 'Button text to remove on sale filter when no search results are found'),productFilterTypes:[7,8,9]}),t=(0,l.Z)(),i=(0,a.Z)();return(0,c.jsx)(n.zx,{dataTestId:"remove-on-sale-filter",onClick:()=>{i(0),t([{key:"on_sale",value:""}])},text:e})}function h(){let e=o({defaultText:(0, d.ZP)()._('Remove price', 'AuthSearchPage.PinsNotFoundShoppingFilter.RemovePriceRangeFilter', 'Button text to remove price range filter when no search results are found'),productFilterTypes:[1]}),t=(0,l.Z)(),i=(0,a.Z)();return(0,c.jsx)(n.zx,{dataTestId:"remove-price-range-filter",onClick:()=>{i(0),t([{key:"price_min",value:""},{key:"price_max",value:""}])},text:e})}function _(){let e=(0,d.ZP)(),t=(0,l.Z)(),i=(0,a.Z)();return(0,c.jsx)(n.zx,{dataTestId:"remove-all-filters",onClick:()=>{i(0),t(l.q.map(e=>({key:e,value:""})))},text:e._('Clear all filters', 'AuthSearchPage.PinsNotFoundShoppingFilter.RemoveProductsFilter', 'Button text to remove all product filters when no search results are found')})}var g=i(245406);function y(){let{brands:e,commerceOnly:t,domains:i,onSale:a,priceMax:l}=(0,g.n)();return(0,c.jsxs)(n.kC,{alignItems:"center",direction:"column",gap:4,justifyContent:"center",children:[(0,c.jsxs)(n.kC,{gap:2,justifyContent:"center",wrap:!0,children:[a&&(0,c.jsx)(m,{}),l&&(0,c.jsx)(h,{}),e&&(0,c.jsx)(u,{}),i&&(0,c.jsx)(p,{})]}),t&&(0,c.jsx)(_,{})]})}},548789:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(616550),a=i(122702),l=i(32526);function r(){let e=(0,n.TH)(),t=(0,n.k6)();return function(i){let n=(0,l.Z)();n.filter_location=i,t.replace((0,a.Z)(e.pathname,n))}}},131302:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u,q:()=>c});var n=i(616550),a=i(297934),l=i(967312),r=i(166543),s=i(78263),o=i(122702),d=i(32526);let c=["brands","colors","commerce_only","domains","on_sale","price_max","price_min","style"];function u(){let e=(0,n.k6)(),t=(0,n.TH)(),{checkExperiment:i}=(0,l.r)(),{scope:u}=(0,n.UO)(),p=(0,a.Z)(),{isAuth:m}=p,h=m?p.country:"";return function(n){let a=(0,d.Z)();a.rs=r.i.SHOPPING_FILTER,n.forEach(({key:e,value:t})=>{""!==t?a[e]=t:delete a[e]}),("US"===h||i("hundred_percent_product_load_i8n",{dangerouslySkipActivation:!0}).anyEnabled)&&u!==s.lw.PINS&&!c.some(e=>"commerce_only"!==e&&e in a)&&delete a.commerce_only,e.push((0,o.Z)(t.pathname,a))}}},862452:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(616550),a=i(857147);function l(){return!!(0,a.mB)((0,n.TH)().search).brands}},182501:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(616550),a=i(967312),l=i(857147);function r(){let{checkExperiment:e}=(0,a.r)(),t=(0,n.TH)(),{colors:i}=(0,l.mB)(t.search);return!!i&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},208086:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(967312);function a(){let{checkExperiment:e}=(0,n.r)();return e("dweb_search_shopping_filter_sds_dep_removal_v2",{dangerouslySkipActivation:!0}).anyEnabled}},164787:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(616550),a=i(857147);function l(){return!!(0,a.mB)((0,n.TH)().search).domains}},411320:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(616550),a=i(857147);function l(){let e=(0,n.TH)(),{price_max:t,price_min:i}=(0,a.mB)(e.search);return!!(i??t)}},603499:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(616550),a=i(967312),l=i(857147);function r(){let{checkExperiment:e}=(0,a.r)(),t=(0,n.TH)(),{style:i}=(0,l.mB)(t.search);return!!i&&!!e("web_shopping_onebar_style_filter",{dangerouslySkipActivation:!0}).anyEnabled}},216517:(e,t,i)=>{"use strict";i.d(t,{Z:()=>V});var n,a=i(667294),l=i(545007),r=i(615071);i(244311);var s=i(20256),o=i(283737),d=i(265332),c=i(233846),u=i(785893);let p=({collapsed:e,commentCount:t,onIconClick:i=()=>{}})=>{let n=(0,c.ZP)(),a=(0,d.i$)(t,n);return(0,u.jsx)(o.Z,{collapsed:e,heading:a,onClick:i,showArrow:t>0})};var m=i(817707),h=i(656594);function _({comment:e}){let t=(0,c.ZP)(),{user:{first_name:i,image_medium_url:n,username:l},tags:r=[]}=e,o="",p="userdiditdata"===e.type&&e.details?e.details:"",_="aggregatedcomment"===e.type&&e.text?e.text:p,g=[e.user];if("aggregatedcomment"===e.type){g.push(...e.tagged_users);let i=e.media?.media_type===1;o=`${l} ${i?_||(0,d.F1)(t):_}`}else o=`${l} ${_||(0,d.Ff)(t)}`;let y=(0,d.zs)(l,r),f="aggregatedcomment"===e.type&&1===e.comment_tag;return(0,u.jsx)(a.Fragment,{children:(0,u.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,u.jsx)(s.xu,{marginEnd:2,children:(0,u.jsx)(m.Z,{isQuestion:f,name:i||l||"",size:"xs",src:n??""})}),(0,u.jsx)(s.kC,{direction:"column",flex:"grow",justifyContent:"center",children:(0,u.jsx)(s.kC,{justifyContent:"between",children:(0,u.jsx)(s.kC.Item,{minWidth:0,children:(0,u.jsx)(s.kC,{dataTestId:"author-and-comment-container",direction:"column",children:(0,u.jsx)(h.Z,{inCommentFeedPreview:!0,isFirstTaggedUserAuthor:!0,shouldShowFirstNameOnly:!0,taggedUsers:g,tags:y,text:o})})})})})]})})}var g=i(708095),y=i(618620),f=i(942257),x=i(660098),b=i(475110),v=i(450745),P=i(276383),S=i(370106),w=i(940784),k=i(228028),I=i(19963),T=i(297934),A=i(78039),C=i(970601),E=i(174646),j=i(113474),R=i(538645),L=i(827491),F=i(488879),D=i(921506),O=i(644849),M=i(460632),Z=i(923063),z=i(866540),N=i(992110),K=i(393995);let B=(void 0!==n||(n=i(22309)).hash&&"fcffc6bcc40bc48a92a9afe109d3995b"!==n.hash&&console.error("The definition of 'CanonicalCard_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),U=({aggregatedPinId:e,closeupAttributionId:t,closeupAttributionUsername:i,commentCount:n,commentsDisabled:o,commentsLoadedCallback:m,featuredCommentId:h,inCommentsImprovedDropdownExp:v,isLoadingNewCreatedComment:N,isORBACProfileManager:U,isVideo:V,onCommentSectionClick:H,photoCount:G,pinKey:W,pinId:$,pinnerId:Y,scrollContainerRef:X,shouldShowHeading:q,storyPinDataId:J,viewParameter:Q})=>{let ee,{logContextEvent:et}=(0,I.u)(),{isBot:ei}=(0,E.B)(),en=(0,R.HG)(),ea=(0,D.lV)(),el=(0,A.Z)(B,W),{clientTrackingParams:er,closeupWithinMasonryEnabled:es,peekCloseupEnabled:eo,viewportSize:ed}=(0,M.x4)(),ec=(0,b.Z)({showProductDetailPage:!!el?.isEligibleForPdp}),{handleAddComment:eu}=(0,S.Z)(),ep=(0,a.useRef)(null),em=(0,a.useRef)(null),[eh,e_]=(0,a.useState)(d.A9.NONE),[eg,ey]=(0,a.useState)(!1),[ef,ex]=(0,a.useState)(),[eb,ev]=(0,a.useState)([]),[eP,eS]=(0,a.useState)(""),[ew,ek]=(0,a.useState)(),[eI,eT]=(0,a.useState)(!1),[eA,eC]=(0,a.useState)(!1),[eE,ej]=(0,a.useState)(!1),[eR,eL]=(0,a.useState)(),[eF,eD]=(0,a.useState)(void 0),[eO,eM]=(0,a.useState)(void 0),[eZ,ez]=(0,a.useState)(!1),eN=(0,T.Z)(),eK=(0,L.Z)(),eB=(0,F.lJ)(eN,eK),{toggleCommentLike:eU,toggleCommentHelpful:eV}=(0,w.Z)(eB),{aggregatedPinData:eH,doneByMe:eG,privacy:eW}=el||{},{entityId:e$}=eH||{},eY=6*!es,eX=!!eR||!!ew,{user:{first_name:eq=""}={}}=eR||{},eJ=!(U&&!eB)&&v,eQ=0;es&&!ec&&(eQ=v?3:4);let e0=Math.max(n+G,0),e1=e0>0,e2=h?[h]:[],[e3,e6]=(0,a.useState)(e0<2),e4=(0,a.useRef)(!e1),{fetchMore:e5,isAtEnd:e8,isFetching:e7,isLoaded:e9}=(0,j.Z)((es&&e1||!e4.current)&&e?(0,z.B)({aggregatedPinDataId:e,featuredCommentIds:e2,isDesktop:en,orbacSubjectId:eB}):null),te=(0,l.v9)(t=>(0,K.Z)(t,{aggregatedPinDataId:e,aggregatedComments:ea})),tt=te?.length>0&&te.find(e=>"aggregatedcomment"===e.type),ti=eZ&&!e3&&!!tt&&(es||ec)&&!eo&&!v,tn=!e3&&v;(0,a.useEffect)(()=>{m?.(e9||!e1)},[m,e9,e1]),(0,a.useEffect)(()=>(e3&&eg&&(em.current=Date.now()),()=>{em.current&&(et({component:14381,event_type:16258,object_id_str:$,aux_data:{time_in_ms:Date.now()-em.current}}),em.current=null)}),[e3,eg,et,$]);let ta=()=>{e6(!e3),H?.(!e3),eg||e3||ey(!0)},tl=()=>{ex(null),ev([]),eS(""),ek(null),eL(null)},tr=()=>{tl(),eT(!1)};async function ts(e){let i=await eu(e,e$,$,J??"",t??"",er,e_,eT,ew,eR);return i&&(ep.current&&!eX&&ep.current.scrollTo({top:0,behavior:"smooth"}),tl()),i}let to=(0,u.jsx)(P.Z,{aggregatedPinDataId:e,closeupAttributionId:t,closeupAttributionUsername:i,comments:te,commentsDisabled:o,commentsScrollContainerRef:ep,featuredCommentId:h,gapSize:5,inCommentsImprovedDropdownExp:v,isDesktop:!0,isLoading:!e9&&(N||e7),isORBACProfileManager:U,isVideo:V,parentId:e??void 0,parentType:O.o.pin,pinId:$,pinnerId:Y,reactionListCommentId:eO,replyingToCommentId:eF,showReactionListForComment:eM,storyPinDataId:J,toggleEditComposer:v?e=>{if(e){let t="userdiditdata"===e.type&&e.details?e.details:"",i="aggregatedcomment"===e.type&&e.text?e.text:t,n=e.tags;e.type===O.n.didIt&&ex(e.images?.[0]?.originals),ev(n),eS(i)}ek(e)}:void 0,toggleHelpful:eV,toggleLike:eU,toggleReplyComposer:(e,t,i)=>{if(v){if(e){e.parentId=t,e.parentType=i;let{user:{first_name:n,username:a}}=e;if(e.parentType===O.n.aggregatedComment||e.parentType===O.n.didIt){let t=`${n||a} `;ev([{length:t.length-1,object_id:e.user.id,offset:0,tag_type:d.XU}]),eS(t)}}eL(e)}else eD(e?.id)},userAvatarSize:d.je,viewParameter:Q}),td=e=>(0,u.jsxs)(a.Fragment,{children:[!!X&&(0,u.jsx)(s.gr,{container:es?ep.current??void 0:X,fetchMore:ei?void 0:e5,isAtEnd:e8,isFetching:e7}),(0,u.jsxs)(g.Z,{nodeRef:e??void 0,paddingLeft:es&&!v?8:0,paddingRight:es&&!v?8:0,children:[to,(0,u.jsx)(y.Z,{show:es&&e1&&e3&&eE,surface:"comment-body-scrolling"})]})]}),tc=0,{fiftyPercentHeight:tu}=(0,x.Re)();eo&&(tc=tu,"sm"===ed&&(tc=`calc(${tu}/2)`)),tn?ee="8px":q&&(ee="24px");let tp=`
    .comment-section-enter {
      max-height: 0;
      opacity: 0;
    }

    .comment-section-enter-active {
      max-height: ${tc};
      opacity: 1;
      transition: max-height 500ms ease-out, opacity 500ms ease-out;
    }

    .comment-section-exit {
      max-height: ${tc};
      opacity: 1;
    }

    .comment-section-exit-active {
      max-height: 0;
      opacity: 0;
      transition: max-height 500ms ease-out, opacity 500ms ease-out;
    }
  `;(0,a.useEffect)(()=>{if(!es)return()=>{};let e=()=>{(ep?.current?.scrollTop??0)>0?eC(!0):eC(!1),(ep?.current?.scrollHeight??0)>(ep?.current?.clientHeight??0)&&ej(!0)},t=ep.current;return t&&t.addEventListener("scroll",e),()=>{t&&t.removeEventListener("scroll",e)}},[es,e3]),(0,a.useEffect)(()=>{let e=setTimeout(()=>{ez(!0)},1e3*!es);return()=>clearTimeout(e)},[es]);let tm=eZ&&(e3||!e1),th=(0,a.useRef)(null),t_=(0,c.ZP)(),tg=(0,d.i$)(n,t_);return(0,u.jsx)(s.xu,{id:"canonical-card",marginBottom:ec?2:void 0,children:(0,u.jsxs)(s.kC,{dataTestId:"canonical-card",direction:"column",gap:eo?void 0:{row:0,column:eY},children:[ec?(0,u.jsxs)(s.kC,{direction:"column",gap:2,children:[e1&&(0,u.jsx)(s.X6,{size:"300",children:tg}),ti&&(0,u.jsx)(s.xu,{marginBottom:eQ,marginTop:1,children:(0,u.jsx)(_,{comment:tt})}),!e3&&e1&&(0,u.jsx)(s.kC.Item,{alignSelf:"end",children:(0,u.jsx)(s.iP,{display:"inlineBlock",fullWidth:!1,onTap:ta,children:(0,u.jsx)(s.xv,{align:"end",size:"200",weight:"bold",children:t_._('See all comments', 'productDescription.comments.toggle', 'Button to reveal more comments')})})})]}):(0,u.jsxs)(s.iP,{accessibilityLabel:"Tap area to expand/collapse the comments section if there are any comments.",disabled:!!o||!e1,onTap:ta,children:[q&&(0,u.jsx)(s.kC.Item,{children:(0,u.jsxs)(s.xu,{color:es?"light":void 0,children:[(0,u.jsx)(p,{collapsed:!e3,commentCount:o?0:Math.max(n+G,0)}),(0,u.jsx)(y.Z,{show:es&&e1&&eA&&e3&&!v&&!ec,surface:"comment-heading"})]})}),ti&&(0,u.jsx)(s.xu,{marginBottom:eQ,marginTop:1,children:(0,u.jsx)(_,{comment:tt})})]}),eo&&(0,u.jsxs)(a.Fragment,{children:[(0,u.jsx)(C.Z,{unsafeCSS:tp}),(0,u.jsx)(r.Z,{classNames:"comment-section",in:eZ&&(e3||!e1),nodeRef:th,timeout:1e3,unmountOnExit:!0,children:td(th)})]}),tm&&!ec&&!eo&&!v&&td(),(v||ec)&&(0,u.jsxs)(a.Fragment,{children:[tn&&(0,u.jsx)(f.default,{inCommentsImprovedDropdownExp:!0,pinKey:el,viewParameter:Q}),tm&&(0,u.jsxs)(a.Fragment,{children:[(0,u.jsx)(s.gr,{container:ep.current??void 0,fetchMore:ei?void 0:e5,isAtEnd:e8,isFetching:e7}),to]}),(0,u.jsxs)(s.Le,{bottom:0,children:[eX&&(0,u.jsx)(Z.Z,{onClose:tr,replyToComment:eR}),(0,u.jsx)(y.Z,{show:es&&e1&&e3&&eE,surface:"comment-body-scrolling"}),eJ&&(0,u.jsx)(s.xu,{color:"default",dangerouslySetInlineStyle:{__style:{paddingTop:ee,paddingBottom:q?"24px":"32px"}},children:(0,u.jsx)(k.Z,{clientTrackingParams:er,commentCount:e0,commentWarningModalState:eh,disablePhotoCommentSelection:!!eG,dismissCommentWarningModal:()=>e_(d.A9.NONE),inCommentsImprovedDropdownExp:!0,initialTags:eb,initialText:eP,isEditing:!!ew,isReplying:!!eR,objectType:O.o.pin,onAddItem:ts,onCancelItem:tr,onEnter:()=>eT(!0),pinId:$,postedPhoto:ef,privatePin:"secret"===eW,replyToCommentFirstName:eq,showCommentComposer:!0,statusType:eI?"textInflightCreation":"textStaticDisplay",viewParameter:Q})})]})]})]})})};function V(e){let t=(0,l.I0)();return(0,u.jsx)(U,{...e,featuredCommentId:(0,v.K)(),pinUpdateCommentCount:(e,i)=>t((0,N.R)(e,i))})}},309144:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(667294),a=i(20256),l=i(460632),r=i(785893);let s=(0,n.forwardRef)(({accessibilityLabel:e,handleClick:t,icon:i,iconColor:s,iconOnly:o,testId:d,buttonText:c,tabIndex:u,bgColor:p,isActive:m},h)=>{let[_,g]=(0,n.useState)(!1),y=(0,n.useRef)(null);(0,n.useImperativeHandle)(h,()=>y.current);let{setAbortNoActionPlacementTimeout:f}=(0,l.x4)(),x=()=>{g(e=>!e),t(),f(!0)},b=e=>{y&&e.target instanceof Element&&!y.current?.contains(e.target)&&g(!1)};return(0,n.useEffect)(()=>(window.addEventListener("mousedown",b),()=>{window.removeEventListener("mousedown",b)}),[]),(0,n.useEffect)(()=>{void 0!==m&&g(m)},[m]),(0,r.jsx)(a.xu,{"data-test-id":d||"closeup-action-bar-button",children:(0,r.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,r.jsx)(a.hU,{ref:y,accessibilityLabel:e,bgColor:p,icon:i,iconColor:s||"darkGray",onClick:x,selected:_,size:o?"md":"lg",tabIndex:u}),c&&(0,r.jsx)(a.iP,{onTap:x,rounding:2,children:(0,r.jsx)(a.X6,{color:"light",overflow:"normal",size:"400",children:c})})]})})})},760316:(e,t,i)=>{"use strict";i.d(t,{Z:()=>m});var n=i(667294),a=i(20256),l=i(781785),r=i(233846),s=i(51340),o=i(121006),d=i(785893);function c({minutes:e}){let t=(0,r.ZP)(),i=e%60,n=Math.floor(e/60),o=i>0?(0,s.nk)(t._('{{ mins }}min', 'closeup.storyPin.basicsLayout.cookTimeUnit', 'Minutes label indicating the cooking time of this Story Pin'),{mins:i}).join(""):"",c=n>0?(0,s.nk)(t._('{{ hours }}hr', 'closeup.storyPin.basicsLayout.cookTimeUnit', 'Hours label indicating the cooking time of this Story Pin'),{hours:n}).join(""):"";return(0,d.jsx)(a.xu,{display:"inlineBlock",marginEnd:1,children:(0,d.jsx)(a.xv,{inline:!0,size:l.n,children:(0,s.nk)(t._('{{ hoursText }} {{ minsText }}', 'closeup.storyPin.basicsLayout.cookTime', 'Combined label for story pin cooktime (ex: "1hr 13min")'),{hoursText:c,minsText:o})})})}function u({servingSize:e}){let t=(0,r.ZP)(),i=(0,o.Z)(t.ngettext('{{servingSize}} serving', '{{servingSize}} servings', e, 'number of servings for a recipe', 'number of servings for a recipe'),{servingSize:e});return(0,d.jsx)(a.xu,{display:"inlineBlock",marginEnd:1,children:(0,d.jsx)(a.xv,{inline:!0,size:l.n,children:(0,s.nk)(t._('{{ servingText }}', 'closeup.storyPin.basicsLayout.servings', 'Combined label for story pin servings (ex: "Servings: 10 servings")'),{servingText:i})})})}function p({difficulty:e}){let t=(0,r.ZP)(),i={1:t._('Easy', 'closeup.storyPin.basicsLayout.difficulty', 'Easy difficulty level'),2:t._('Intermediate', 'closeup.storyPin.basicsLayout.difficulty', 'Intermediate difficulty level'),3:t._('Expert', 'closeup.storyPin.basicsLayout.difficulty', 'Expert difficulty level')},n=e?i[e]:null;if(!n)return null;let o=t._('Difficulty:', 'closeup.storyPin.basicsLayout.difficultyLevelLabel', 'Label indicating the difficulty level of this Story Pin');return(0,d.jsx)(a.xu,{display:"inlineBlock",marginEnd:1,children:(0,d.jsx)(a.xv,{inline:!0,size:l.n,children:(0,s.nk)(t._('{{ label }} {{ difficultyLevel }}', 'closeup.storyPin.basicsLayout.difficulty', 'Combined label for story pin difficulty (ex: "Difficulty: Intermediate")'),{label:o,difficultyLevel:n})})})}function m({keyValueBlocks:e,hasMetadataTemplateType:t}){if(!t)return null;let i=e||[];return(0,d.jsx)(a.xu,{"data-test-id":"categories-metadata",children:(i||[]).map((e,t)=>{let r=`kv-${t}`,s=function(e){let t=e.category_type??e.categoryType,{value:i}=e;if(2===t)return(0,d.jsx)(p,{difficulty:i});let n=parseInt(i,10);return 1===t?(0,d.jsx)(u,{servingSize:n}):0===t&&n?(0,d.jsx)(c,{minutes:n}):null}(e);return s?t<i.length-1?(0,d.jsxs)(n.Fragment,{children:[s,(0,d.jsx)(a.xu,{display:"inlineBlock",marginEnd:1,children:(0,d.jsx)(a.xv,{inline:!0,size:l.n,children:"  "})})]},r):(0,d.jsx)(n.Fragment,{children:s},r):null}).filter(e=>null!=e)})}},762546:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(967312),a=i(174646),l=i(538645);function r({dangerouslySkipActivation:e}){let{isAuthenticated:t,userAgent:{browserName:i,browserVersion:r}}=(0,a.B)(),s=(0,l.HG)(),{checkExperiment:o}=(0,n.r)();return{isEnabled:"Chrome"===i&&Number(r.split(".")[0])>=135&&t&&s&&o("closeup_google_css_carousel_dweb",{dangerouslySkipActivation:e}).anyEnabled}}},161772:(e,t,i)=>{"use strict";i.d(t,{Z:()=>m});var n,a=i(545007);i(167912);var l=i(458892),r=i(19963),s=i(78039),o=i(801393),d=i(460632),c=i(440232),u=i(785893);let p=(void 0!==n||(n=i(820287)).hash&&"9ab15ab4baca1bcd4b35d42d577e0b0e"!==n.hash&&console.error("The definition of 'CloseupFavoriteButtonTest_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function m({pinKey:e}){let t,i,{logContextEvent:n}=(0,r.u)(),m=(0,s.Z)(p,e),h=(0,a.I0)(),{closeupWithinMasonryEnabled:_}=(0,d.x4)(),{board:g,entityId:y,favoritedByMe:f,section:x}=m;g&&([t,i]=(0,c.J)(g.url??""));let b=e=>{n({event_type:101,component:13791,element:e?12225:12226,object_id_str:y,view_type:3})};return(0,u.jsx)(l.Z,{favorited:f,isCloseupButton:!0,onFavorite:()=>{b(!0),h((0,o.jB)("BoardResource",{username:i,slug:t,field_set_key:"detailed"})),h((0,o.jB)("BoardSectionResource",{board_slug:t,section_slug:x?.slug,username:i}))},onUnfavorite:()=>{b(!1)},pinId:y,size:_?"sm":24})}},911475:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(20256),a=i(233846),l=i(884895),r=i(785893);function s({digitalMediaType:e,isMobile:t=!1,isViewedByOwnerEmployeeOrAgency:i=!1}){let s=(0,a.ZP)(),o={[l.s.TRAINED_ALGORITHMIC_MEDIA]:s._('AI modified', 'closeup.aIModifiedLabel.label', 'Label for AI Modified images'),[l.s.COMPOSITE_WITH_TRAINED_ALGORITHMIC_MEDIA]:s._('AI modified', 'closeup.aIModifiedLabel.label', 'Label for AI Modified images'),[l.s.DETECTED_TRAINED_ALGORITHMIC_MEDIA]:s._('AI modified', 'closeup.aIModifiedLabel.label', 'Label for AI Modified images')},d=()=>(0,r.jsx)(n.xu,{alignItems:"center",color:"transparentDarkGray","data-test-id":"ai-generated-label",display:"flex",height:t?48:44,justifyContent:"center",paddingX:4,rounding:4,children:(0,r.jsx)(n.xv,{color:"light",size:"300",children:o[e]})});return i?(0,r.jsx)(n.u,{idealDirection:"up",text:s._('This label won\u2019t appear on Pins in a promoted state. Your paid ads will include the disclosure on the "Why am I seeing this ad" page.', 'AICloseupLabel.tooltip.text', 'Tooltip text for AICloseupLabel'),children:d()}):d()}},727264:(e,t,i)=>{"use strict";i.d(t,{Z:()=>k});var n,a,l=i(667294);i(167912);var r=i(20256),s=i(554048),o=i(78039),d=i(233846),c=i(158759),u=i(789634),p=i(992114),m=i(785893);let h=(void 0!==n||(n=i(892559)).hash&&"08b89bb2190b936e38e11d4ce341058f"!==n.hash&&console.error("The definition of 'DomainLinkButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function _({clientTrackingParams:e,domain:t,link:i,pinKey:n,trafficSource:a,size:_="lg",onMiddleBtnClick:g,viewType:y=3,hovered:f}){let x,b=(0,d.ZP)(),v=(0,o.Z)(h,n),P=(0,u.Z)({clickthroughType:"middleClick",location:"closeup.domainLinkButton"}),S=(0,l.useCallback)(()=>{(0,p.nP)(`web.closeup.media_viewer_stats.clickthrough.clicked_from.${675===y?"media_viewer":"closeup"}`)},[y]);return i.startsWith("https://i.pinimg.com")?(0,m.jsx)(l.Fragment,{}):(x=(0,c.vj)(i)?b._('See recipe', 'closeup.defaultMetadata.visitButton', 'Button to visit recipe link on Pin'):t?b._('Visit site', 'closeup.pinActionDropDown.visitSite', 'Button allowing user to clickthrough Pin'):b._('Learn more', 'closeup.image.domainLinkButton', 'Text indicating where clickthrough will navigate to'),(0,m.jsx)(s.Z,{clientTrackingParams:e,hovered:f,pinKey:v,trafficSource:a,viewType:y,children:(0,m.jsx)(r.zx,{_onAuxClick:({event:e})=>{(0,c.UE)(e)&&(P(),e.preventDefault(),e.stopPropagation(),S(),g(e))},accessibilityLabel:x,color:"semiTransparentWhite",dataTestId:"visit-button",iconStart:"arrow-up-right",onClick:S,size:_,tabIndex:-1,text:x})}))}let g=({onClick:e,href:t,children:i,onNavigation:n,toggleHover:a})=>(0,m.jsx)(r.xu,{"data-test-id":"image-link",children:(0,m.jsx)(r.Tg,{href:t,onMouseEnter:a,onMouseLeave:a,onTap:({event:t,dangerouslyDisableOnNavigation:i})=>{i(),e(),n({event:t})},rel:"nofollow",children:i})});var y=i(19963),f=i(95460),x=i(840962),b=i(516511),v=i(967312),P=i(181710),S=i(460632);let w=(void 0!==a||(a=i(789494)).hash&&"4c99d4ae49479ef8ed3083d59d4343c1"!==a.hash&&console.error("The definition of 'DomainLinkButtonWrapper_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function k({auxData:e,domain:t,link:i,onClick:n,pinKey:a,trafficSource:r,viewType:s}){let d=(0,o.Z)(w,a),{logContextEvent:c}=(0,y.u)(),{checkExperiment:u}=(0,v.r)(),p=d.isInstagramApi&&d.nativeCreator?.websiteUrl&&d.nativeCreator?.isPrimaryWebsiteVerified&&d.nativeCreator?.isDirectToSiteAllowed,h=p&&u("dweb_closeup_links").anyEnabled?d.nativeCreator?.websiteUrl:i,{clientTrackingParams:k}=(0,S.x4)(),I=(0,x.Z)({href:{pathname:h,state:{trackingParams:k}},target:"blank",clientTrackingParams:k,externalData:{auxData:e,pin:d&&{attributionSourceId:d.attributionSourceId,board:d.board&&{url:d.board.url},campaignId:d.campaignId,entityId:d.entityId,isDownstreamPromotion:d.isDownstreamPromotion,isPromoted:d.isPromoted,pinner:d.pinner&&{username:d.pinner.username},pinPromotionId:d.pinPromotionId,promoter:d.promoter&&{entityId:d.promoter.entityId},storyPinDataId:d.storyPinDataId,trackingParams:d.trackingParams,advertiserId:d.advertiserId}}}),[T,A]=(0,l.useState)(!1),C=(0,l.useCallback)(()=>A(e=>!e),[]);return(0,m.jsx)(f.Z,{name:"SafeSuspense_DomainLinkButtonWrapper_DomainLinkButton",children:(0,m.jsx)(P.Z,{children:(0,m.jsx)(b.Z,{children:(0,m.jsx)(g,{href:h,onClick:()=>{n(),c({event_type:102,element:162,component:4,aux_data:{is_claimed_domain:p}})},onNavigation:I,toggleHover:C,children:(0,m.jsx)(_,{clientTrackingParams:k,domain:t,hovered:T,link:h,onMiddleBtnClick:e=>{n(),c({event_type:102,element:162,component:4,aux_data:{is_claimed_domain:p}}),I({event:e})},pinKey:d,trafficSource:r,viewType:s})})})})})}},670752:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>k});var n=i(667294),a=i(615071),l=i(303151),r=i(20256),s=i(970601),o=i(785893);let d="animated-text";function c({duration:e,show:t,text:i}){let l=(0,n.useRef)(null),c=`
    .${d}-enter {
      opacity: 0;
    }
    .${d}-enter-active {
      opacity: 1;
      transition: opacity ${e}ms cubic-bezier(1,0,1,0);
    }
    .${d}-enter-done {
      opacity: 1;
    }
    .${d}-exit {
      opacity: 1;
    }
    .${d}-exit-active {
      opacity: 0;
      transition: opacity ${e}ms cubic-bezier(0,1,0,1);
    }
    .${d}-exit-done {
      opacity: 0;
    }
  `;return(0,o.jsxs)(n.Fragment,{children:[(0,o.jsx)(s.Z,{unsafeCSS:c}),(0,o.jsx)(a.Z,{appear:!0,classNames:d,in:t,nodeRef:l,timeout:e,children:(0,o.jsx)(r.xu,{ref:l,opacity:0,children:(0,o.jsx)(r.mg,{size:"md",children:i})})})]})}var u=i(141031),p=i(547504),m=i(838380),h=i(219308),_=i(640935),g=i(66938),y=i(967312),f=i(174646),x=i(943369),b=i(756493),v=i(538645),P=i(755090);let S="animated-button-container",w=`
  .${S}-enter  {
    width: 0px;
  }
  .${S}-enter-active {
    width: 100% !important;
    transition: width 200ms ease-in;
  }
  .${S}-enter-done {
    width: 100% !important;
  }
  .${S}-exit {
    width: 100% !important;
  }
  .${S}-exit-active {
    width: 0px !important;
    transition: width 200ms ease-in;
  }
  .${S}-exit-done {
    width: 0px;
  }
`;function k({animateOnMount:e,animationDelayOnMount:t=1e3,leaveOnDurationOnMount:i=3e3,dataTestId:d,icon:k,imageSignature:I,onTap:T,variant:A}){let C=(0,h.Z)(),{isRTL:E}=(0,f.B)(),j=(0,_.vs)(),R=(0,v.HG)(),L=(0,x.M0)(),F=(0,b.Nl)(),{checkExperiment:D}=(0,y.r)(),O=(0,n.useRef)(null),[M,Z]=(0,n.useState)(!1),[z,N]=(0,n.useState)(!1),K=(0,u.Z)({variant:A}),B=(0,n.useMemo)(()=>j&&R?"rgba(17, 17, 17, 0.9)":M?g.Xq:g.XF,[j,R,M]),U="visual-search"===A,V=F.getItem(m.Ml)||0,{animationSeenCount:H,lastAnimationTimestamp:G}=L.getItem(p.Yn)||{animationSeenCount:0,lastAnimationTimestamp:0},W=(0,l.Z)(new Date(G),new Date);return(0,P.Z)(()=>{if(U&&!W&&L.setItem(p.Yn,{animationSeenCount:0,lastAnimationTimestamp:G}),!e||U&&![0,1].includes(V)&&D("sg_dweb_improved_share_animation_on_closeup").anyEnabled)return;let n=setTimeout(()=>{N(!0),U&&L.setItem(p.Yn,{animationSeenCount:H+1,lastAnimationTimestamp:Date.now()});let e=setTimeout(()=>{N(!1)},i);return()=>clearTimeout(e)},t);return()=>clearTimeout(n)}),(0,P.Z)(()=>{C({event_type:120,component:128,element:"view-larger"===A?15864:234,view_type:3,aux_data:{image_signature:I}})}),(0,o.jsxs)(r.iP,{accessibilityLabel:K,onMouseEnter:()=>Z(!0),onMouseLeave:()=>Z(!1),onTap:T,rounding:"circle",children:[(0,o.jsx)(s.Z,{unsafeCSS:w}),(0,o.jsx)(r.kC,{alignItems:"stretch",justifyContent:"end",children:(0,o.jsx)(a.Z,{appear:!0,classNames:S,in:M||z,nodeRef:O,timeout:200,children:(0,o.jsxs)(r.xu,{ref:O,alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:B}},"data-test-id":d,display:"flex",justifyContent:"end",minHeight:48,minWidth:48,position:"relative",rounding:4,width:0,children:[(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},marginEnd:2,marginStart:3,overflow:"hidden",children:(0,o.jsx)(c,{duration:200,show:M||z,text:K})}),(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:E?"12px":0,paddingRight:E?0:"12px"}},children:(0,o.jsx)(r.JO,{accessibilityLabel:K,color:"default",icon:k,size:24})})]})})})]})}},381064:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>C});var n=i(667294),a=i(616550),l=i(303151),r=i(20256),s=i(221384),o=i(141031),d=i(764271),c=i(484465),u=i(640935),p=i(66938),m=i(233846),h=i(174646),_=i(538645),g=i(839284),y=i(785893);function f({animateShopButton:e,buttonText:t,onButtonClick:i,dataTestId:a,handleAnimationEnd:l,icon:s,isHovering:o,surfaceType:f,textRef:x,showButtonText:b}){let v=(0,m.ZP)(),{isRTL:P}=(0,h.B)(),S=(0,u.vs)(),w=(0,_.HG)(),[k,I]=(0,n.useState)(),[T,A]=(0,n.useState)(),{isCloseupMediaViewerEnabled:C}=(0,d.Z)({isShufflePin:!1}),E=(0,g.Z)(),{mWebCloseupRedesignEnabled:j}=(0,c.Z)(),R=j?24:16;(0,n.useEffect)(()=>{!E&&(C?o?(I(`buttonSlideIn${f} 1s ease-in forwards`),A("stelaSlideIn 1s ease-in forwards")):(I(`shopButtonSlideOut${f} .3s ease-in-out forwards`),A("stelaSlideOut .3s ease-in-out forwards")):e&&(I("shopButtonSlideInThenOut 3s ease-in-out forwards"),A("stelaSlideInThenOut 3s ease-in-out forwards")))},[e,E,C,o,f]);let L=v._('closeup image action button', 'closeup.image.button.defaultAccessibilityLabel', 'accessibility label for the button on the closeup image overlay. This button navigates users to the image search landing page. buttonText: image search button text'),F=t||L,D=(0,y.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{animation:k}},children:b&&(0,y.jsx)(r.xu,{ref:x,dangerouslySetInlineStyle:{__style:{animation:T,whiteSpace:"nowrap"}},children:(0,y.jsx)(r.mg,{size:"md",children:t})})}),O=(48-R)/2,M=(0,y.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{bottom:O,right:P?void 0:O,left:P?O:void 0}},position:"absolute",children:(0,y.jsx)(r.JO,{accessibilityLabel:F,color:"default",icon:s,size:R})}),Z=(0,n.useMemo)(()=>S&&w?"rgba(17, 17, 17, 0.9)":o?p.Xq:p.XF,[S,w,o]);return(0,y.jsx)(r.iP,{accessibilityLabel:F,onTap:i,rounding:"circle",children:(0,y.jsx)(r.xu,{alignItems:"center",color:"default",dangerouslySetInlineStyle:{__style:{backgroundColor:Z}},"data-test-id":a,display:"flex",justifyContent:"center",minHeight:48,minWidth:48,onAnimationEnd:C?void 0:l,paddingX:4,paddingY:2,position:"relative",rounding:4,children:(0,y.jsx)(r.kC,{alignItems:"stretch",justifyContent:"center",children:P?(0,y.jsxs)(n.Fragment,{children:[M,D]}):(0,y.jsxs)(n.Fragment,{children:[D,M]})})})})}var x=i(547504),b=i(838380),v=i(219308),P=i(970601),S=i(967312),w=i(552544),k=i(943369),I=i(756493),T=i(755090),A=i(555587);function C({actionUrl:e,animateOnRender:t,animateShopButton:i,dataTestId:c,id:u,imageSignature:p,onAnimationComplete:m=()=>{},onButtonClick:h,surfaceType:_,variant:g}){let C,{checkExperiment:E}=(0,S.r)(),j=(0,n.useRef)(null),R=(0,v.Z)(),[L,F]=(0,n.useState)(),[D,O]=(0,n.useState)(!1),M=(0,a.k6)(),Z=(0,k.M0)(),z=(0,I.Nl)(),{isCloseupMediaViewerEnabled:N}=(0,d.Z)({isShufflePin:!1}),K=(0,o.Z)({variant:g}),B="visual-search"===g&&"media-viewer"!==_,U=z.getItem(b.Ml)||0,{animationSeenCount:V,lastAnimationTimestamp:H}=Z.getItem(x.Yn)||{animationSeenCount:0,lastAnimationTimestamp:0},G=(0,l.Z)(new Date(H),new Date);return(0,T.Z)(()=>{if("media-viewer"===_?R({event_type:120,element:15864,view_type:3,aux_data:{image_signature:p}}):"stl"===_?R({event_type:120,element:11963,view_type:3,aux_data:{image_signature:p}}):R({event_type:120,component:128,element:234,view_type:3,aux_data:{image_signature:p}}),B&&!G&&Z.setItem(x.Yn,{animationSeenCount:0,lastAnimationTimestamp:H}),!t||B&&![0,1].includes(U+1)&&E("sg_dweb_improved_share_animation_on_closeup").anyEnabled)return;let e=setTimeout(()=>{O(!0),B&&Z.setItem(x.Yn,{animationSeenCount:V+1,lastAnimationTimestamp:Date.now()});let e=setTimeout(()=>{O(!1)},3e3);return()=>clearTimeout(e)},s.S);return()=>clearTimeout(e)}),C="media-viewer"===_&&"view-larger"===g?"maximize":"magnifying-glass-sparkle",(0,n.useEffect)(()=>{if(j.current&&!L&&(i&&!N||D&&N)){let e=j.current.getBoundingClientRect().width;e&&F(e)}},[j,L,i,N,D]),(0,y.jsxs)(r.xu,{onMouseEnter:()=>O(!0),onMouseLeave:()=>O(!1),children:[(0,y.jsx)(P.Z,{unsafeCSS:N?(0,w.q)(L||0,_):(0,w.Z)(L||0)}),(0,y.jsx)(f,{animateShopButton:i,buttonText:K,dataTestId:c,handleAnimationEnd:m,icon:C,isHovering:D,onButtonClick:N?h:({event:t})=>{["flashlight","stela"].includes(_)&&R({event_type:101,component:128,element:234,view_type:3,aux_data:{image_signature:p}}),t?.stopPropagation(),e?M.push(e):M.push((0,A.Z)({checkExperiment:E,pinId:u,isProductPage:!1,surfaceType:_}))},showButtonText:N?D:i,surfaceType:_,textRef:j})]})}},141031:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(233846);function a({variant:e}){let t=(0,n.ZP)();return"view-larger"===e?t._('View larger', 'closeup.image.mediaViewerButton', 'clicking on this button will open a full screen view of the Pin image'):t._('Explore', 'closeup.explore.icon', 'clicking on this text will open a visual search feed')}},221384:(e,t,i)=>{"use strict";i.d(t,{S:()=>n,Z:()=>a});let n=1e3,a=3},769372:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o,p:()=>s}),i(167912);var n,a=i(762546),l=i(78039);let r=(void 0!==n||(n=i(459669)).hash&&"239c809acefcd1b75df8f18c8ffb91ff"!==n.hash&&console.error("The definition of 'useBuildCloseupImageOverlayProps_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function s(e,t,i,n,a){return!t&&!!e&&e.includes("tag")&&!i&&!a||n||!1}function o({carouselInfo:e,disablePinTagButton:t,domain:i,hasMetTrustAndSafetyCheck:n,isCollageEnabled:o,isEmployee:d,isORBACProfileManager:c,isScenePin:u,navLink:p,pinKey:m,showProductDetailPage:h}){let _=(0,l.Z)(r,m),{isEnabled:g}=(0,a.Z)({dangerouslySkipActivation:!1}),{access:y,aggregatedPinData:f,storyPinDataId:x,isPromoted:b}=_,v=!!f?.isShopTheLook,P=!1,S=!1;u||(P=!(S=!!p&&!o)&&!!i&&!!_.link&&!_.link.startsWith("https://i.pinimg.com")&&!(h&&e)&&!o),S=S&&!_?.isGoLinkless;let w=n&&!c&&!b;return{showCarouselControls:!!e&&!g,showCloseupShopDomainLinkButton:u,showDebugSignalsFeedbackButton:!!d,showDomainLink:P,showDomainLinkButton:S,showFlashlightButton:w,showPinTagButton:s(y,x,t,c,o),surfaceType:function({isScenePin:e,isShopTheLook:t}){return t?"stl":e?"stela":"flashlight"}({isScenePin:u,isShopTheLook:v})}}},900185:(e,t,i)=>{"use strict";i.d(t,{ZP:()=>h,GJ:()=>m});var n,a=i(667294);i(422578);var l=i(660098),r=i(651646),s=i(263383),o=i(991729),d=i(78039),c=i(437318),u=i(460632);let p=(void 0!==n||(n=i(35192)).hash&&"86a6c49cecdb70d77f786a1965756cf9"!==n.hash&&console.error("The definition of 'useCalculateImageContainerDimension_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function m(e,t){return`${Math.floor(e/t*1e4)/1e4} / 1`}function h({carouselData:e,imageToDisplayWidthRatio:t=1,mainImage:i={width:1,height:1,url:""},maxCloseupImageWidth:n,pinKey:m,shouldPadImage:h=!1}){let _=(0,d.Z)(p,m),{peekCloseupEnabled:g,viewportSize:y}=(0,u.x4)(),{numericValues:f}=(0,l.Re)(),{maxHeight:x}=(0,r.Z)({pinKey:_}),{fiftyPercentHeight:b,fiftyPercentWidth:v,maxHeight:P,maxWidth:S}=f??{},{peekRedesignFastFollowsEnabled:w}=(0,s.Z)(i);return(0,a.useMemo)(()=>{let a,l=n-c.d2,r=Math.min(h?l:n,S??1/0,v??1/0),s=Math.min(...[i,...e?.carousel_slots?.map(e=>{var t;return(0,o.Z)(e.images)||((t=e.videos?.video_list)?t.V_720P?.url?t.V_720P:t.V_HLSV4?.url?t.V_HLSV4:t.V_HLSV3_MOBILE?.url?t.V_HLSV3_MOBILE:t.V_HLSV3_WEB?.url?t.V_HLSV3_WEB:null:null)}).filter(e=>!!e)||[]].map(({width:e,height:t})=>(e??1)/(t??1))),d=Math.floor(r*(e?t:1)/s),u="sm"===y?b:P;a=g?u??d:"number"==typeof x?x:d;let p=w?void 0:a,m=p?Math.min(d,p):d,_=Math.min(r*(g?m/d:1),S??1/0,v??1/0),{containerAspectRatio:f,letterBoxedWidth:k,letterBoxedHeight:I}=function(e,t,i){let n,a,l=e?.width/e.height,r=t/i;return l>r?(n=t,a=t/l):(n=i*l,a=i),{containerAspectRatio:r,letterBoxedWidth:n,letterBoxedHeight:a}}(i,_,m);return{containerAspectRatio:f,containerHeight:m,containerWidth:_,horizontalOffset:(_-k)/2,letterBoxedHeight:I,letterBoxedWidth:k,letterBoxAspectRatio:k/I,verticalOffset:(m-I)/2}},[n,h,i,e,t,y,b,P,g,x,w,S,v])}},708095:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(20256),a=i(785893);function l({children:e,paddingRight:t,paddingLeft:i,paddingBottom:l,marginTop:r,nodeRef:s}){return(0,a.jsx)(n.xu,{ref:s??void 0,dangerouslySetInlineStyle:{__style:{paddingRight:`${t}px`,paddingLeft:i?`${i}px`:void 0,paddingBottom:l?`${l}px`:void 0,marginTop:r?`${r}px`:void 0}},children:e})}},618620:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(20256),a=i(460632),l=i(785893);let r=function(e){let{show:t,surface:i}=e,{closeupWithinMasonryEnabled:r}=(0,a.x4)();return r?(0,l.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{borderTop:t?"1px solid #E9E9E9":void 0,opacity:+!!t}},"data-test-id":`${i}-divider`,width:"100%"}):t&&(0,l.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #EFEFEF"}}})}},283737:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var n=i(667294),a=i(20256),l=i(660098),r=i(233846),s=i(460632),o=i(785893);function d({collapsed:e,displayViewState:t,forceTappableHeader:i,headerHeight:d,headerPaddingRight:c,headerPreview:u,heading:p,onClick:m,showArrow:h,surface:_}){let g=(0,r.ZP)(),{closeupWithinMasonryEnabled:y,peekCloseupEnabled:f,viewportSize:x}=(0,s.x4)(),b=(0,l.rt)({peekCloseupEnabled:f,viewportSize:x,surface:_});return(0,o.jsx)(n.Fragment,{children:i||null!==t?(0,o.jsx)(a.iP,{disabled:!h,onTap:m,children:(0,o.jsx)(a.xu,{marginBottom:!e&&f?4:void 0,children:(0,o.jsxs)(a.kC,{alignItems:"center",dataTestId:"collapsible-header",direction:"row",flex:"grow",height:d,justifyContent:"between",children:[(0,o.jsx)(a.X6,{accessibilityLevel:2,align:"start",id:"comments-heading",size:"300",children:p}),(0,o.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingRight:c}},direction:"row",display:"flex",children:[e&&u,(h||y)&&(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transform:e?"rotate(0deg)":"rotate(180deg)",transition:"all 600ms cubic-bezier(.25,1,.5,1)"}},opacity:+!!h,children:(0,o.jsx)(a.hU,{accessibilityLabel:g._('Expand icon', 'accordion.actionButton', 'accessibility label on accordion'),dataTestId:"collapse-button",disabled:!h,icon:"arrow-down",size:"sm"})})]})]})})}):(()=>{let e=(0,o.jsx)(a.X6,{accessibilityLevel:2,align:"start",id:"comments-heading",size:b?"300":"400",children:p});return b?(0,o.jsx)(a.xu,{marginBottom:4,children:e}):e})()})}},935822:(e,t,i)=>{"use strict";i.d(t,{Z:()=>y});var n,a=i(667294);i(167912);var l=i(20256),r=i(583462),s=i(484465),o=i(731778),d=i(781785),c=i(605987),u=i(95460),p=i(78039),m=i(460632),h=i(785893);let _=(void 0!==n||(n=i(348943)).hash&&"7968de6cea93e071c3555836067ea32b"!==n.hash&&console.error("The definition of 'DescriptionBrokenByLineBreaks_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function g({description:e}){let{closeupWithinMasonryEnabled:t,peekCloseupEnabled:i}=(0,m.x4)(),{mWebCloseupRedesignEnabled:n}=(0,s.Z)();return(0,h.jsx)(u.Z,{name:"SimpleDescriptionWithHashtags",children:(0,o.Z)({closeupWithinMasonryEnabled:t,peekCloseupEnabled:i,mWebCloseupRedesignEnabled:n,text:e})})}function y({description:e,enableAdditionalNoteSpace:t=!1,pinKey:i}){let n=(0,p.Z)(_,i),{userMentionTags:s,descriptionLinks:o}=n,{hyperlinkKeywordsEnabled:u}=(0,r.Z)(),m=e.split(/\n/)||[];return(0,h.jsx)(a.Fragment,{children:m.map((e,i)=>{let r=e.length>0?`${e.replace(/[^a-zA-Z0-9]/g,"").slice(0,15)}-${e.length}`:"empty-line-0",p=`desc-line-${r}-${Math.random().toString(36).slice(2,8)}`;if(""===e&&t)return(0,h.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{height:"1em"}}},p);let _=0;for(let e=0;e<i;e+=1){let t=m[e];void 0!==t&&(_+=t.length+1)}let y=_+e.length,{userMentionTags:f,descriptionLinks:x}=(({lineStartPosition:e,lineEndPosition:t,userMentionTags:i,descriptionLinks:n})=>({userMentionTags:i?.map(i=>i&&"number"==typeof i.offset&&i.offset>=e&&i.offset<t?{...i,originalOffset:i.offset,offset:i.offset-e}:null).filter(e=>null!==e)||[],descriptionLinks:n?.map(i=>i&&"number"==typeof i.offset&&i.offset>=e&&i.offset<t?{...i,originalOffset:i.offset,offset:i.offset-e}:null).filter(e=>null!==e)||[]}))({lineStartPosition:_,lineEndPosition:y,userMentionTags:s,descriptionLinks:u?o:void 0});return f.length>0||x.length>0?(0,h.jsxs)(a.Fragment,{children:[(0,h.jsx)(l.xu,{children:(0,h.jsx)(c.Z,{description:e.replace(/\s+/g," "),descriptionLinks:x,mentionLinkColor:"link",pinKey:n,shouldAdjustOffset:!1,shouldMakeHashtagLinksFromText:!0,textSize:d.n,userMentionTags:f})}),(0,h.jsx)("br",{})]},p):(0,h.jsxs)(a.Fragment,{children:[(0,h.jsx)(g,{description:e}),(0,h.jsx)("br",{})]},p)})})}},943090:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=(e,t)=>{let i,{height:n=0,width:a=0}=t||{};switch(e){case"enabled_15":i=.15;break;case"enabled_25":i=.25;break;default:i=.35}return a/n<i}},839117:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var n=i(667294),a=i(20256),l=i(19963),r=i(852015),s=i(233846),o=i(970601),d=i(785893);function c({handlePause:e,handlePlay:t,musicAttributions:i,shouldMute:c,showEndCard:u}){let p=(0,s.ZP)(),{logContextEvent:m}=(0,l.u)(),[h,_]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{!u&&(i?.length||c)&&m({event_type:c?14600:14601,view_type:3,view_parameter:140})},[m,i,c,u]),u||!i?.length&&!c)return null;let g=()=>{t&&t(),_(!1)},y="";if(i?.length===1){let{artist:e="",title:t=""}=i[0];y=e&&t?`${e} - ${t}`:""}let f=(i?.length||0)>=2?(0,d.jsx)(a.xu,{children:(0,d.jsx)(a.iP,{fullHeight:!0,fullWidth:!0,onTap:()=>{e&&e(),_(!0)},children:(0,d.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,d.jsx)(a.xu,{marginEnd:2,children:(0,d.jsx)(a.JO,{accessibilityLabel:p._('Music icon', 'web.closeup.musicicon', 'Artist and song title for Pin music attribution'),color:"inverse",icon:c?"music-off":"music-on",inline:!0,size:12})}),(0,d.jsx)(a.xv,{color:"inverse",inline:!0,overflow:"noWrap",size:"100",children:p._('View the playlist', 'web.closeup.musicAttibutionModal.entryPoint', 'Entry point for playlist modal')})]})})}):(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(a.JO,{accessibilityLabel:p._('Music icon', 'web.pin.closeup.musicicon', 'Music icon for Pin music attribution'),color:"inverse",icon:c?"music-off":"music-on",inline:!0,size:12}),(0,d.jsx)(a.xu,{marginStart:2,overflow:"hidden",children:(0,d.jsxs)("span",{className:y.length>=50?"marquee":void 0,style:{display:"inline-block",maxWidth:y.length>=50?"260px":void 0},children:[(0,d.jsx)(a.xv,{color:"inverse",inline:!0,overflow:"noWrap",size:"100",children:y}),(0,d.jsx)(o.Z,{unsafeCSS:`
                  .marquee {
                   animation: marquee 10s linear infinite;
                   animation-delay: 2s;
                  }

                  .marquee:hover {
                      animation-play-state: paused;
                  }


                 @keyframes marquee {
                   0% {
                     transform: translateX(0%);
                    }
                  50% {
                    transform: translateX(-100%);
                  }
                  100% {
                    transform: translateX(0%);
                  }
              }
            `})]})})]});return(0,d.jsxs)(n.Fragment,{children:[c?(0,d.jsx)(n.Fragment,{children:(0,d.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,d.jsx)(a.xu,{marginEnd:2,children:(0,d.jsx)(a.JO,{accessibilityLabel:p._('Music icon', 'web.closeup.musicMutedIcon', 'Music muted icon for Pin music attribution'),color:"inverse",icon:"music-off",inline:!0,size:12})}),(0,d.jsx)(a.xv,{color:"inverse",inline:!0,overflow:"noWrap",size:"100",children:p._('Audio not available in your location', 'web.closeup.musicAttribution', 'Informational message to tell user audio is not available in their location')})]})}):f,h&&(0,d.jsx)(r.ZP,{accessibilityModalLabel:p._('Artist and song title for this Pin', 'web.closeup.musicAttibutionModal', 'Artist and song title for Pin music attribution'),heading:(0,d.jsxs)(a.kC,{justifyContent:"between",children:[(0,d.jsx)(a.X6,{size:"600",children:p._('Playlist for this video', 'web.closeup.musicAttibutionModal.heading', 'Title for music attribution modal')}),(0,d.jsx)(a.hU,{accessibilityLabel:p._('Close modal button', 'web.closeup.musicAttibutionModal.closeButton', 'Close modal button for music attribution modal'),bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:g,size:"sm"})]}),onDismiss:g,children:(0,d.jsx)(a.xu,{marginBottom:5,paddingX:5,paddingY:1,children:i?.map(({isrc:e,thumbnail_image_url:t,title:i,artist:n},l)=>(0,d.jsxs)(a.xu,{display:"flex",padding:1,children:[t&&(0,d.jsx)(a.xu,{color:"darkWash",height:60,rounding:7,width:60,children:(0,d.jsx)(a.Ee,{alt:p._('Image of album art', 'web.closeup.musicAttibutionModal.albumArt', 'Alt text for image of album art for associated song'),color:"darkWash",naturalHeight:1,naturalWidth:1,src:t})}),(0,d.jsxs)(a.xu,{direction:"column",display:"flex",justifyContent:"center",paddingX:2,children:[(0,d.jsx)(a.xv,{weight:"bold",children:i??""}),(0,d.jsx)(a.xv,{size:"100",children:n??""})]})]},e||`${l}`))})})]})}},594735:(e,t,i)=>{"use strict";i.d(t,{Z:()=>tt});var n,a,l,r=i(20256),s=i(785893);let o=({children:e})=>(0,s.jsx)(r.xu,{display:"flex",height:"100%",justifyContent:"center",padding:5,width:"100%",children:e});var d=i(69401),c=i(233846),u=i(174646),p=i(760214),m=i(437318),h=i(460632);let _=({embedUrl:e,isWideVideo:t,paddingBottom:i="50%",shouldPadImage:n})=>{let a=(0,c.ZP)(),l=(0,u.B)(),_=t?m.KP:m.Gg,{showCloseupContentRight:g,closeupWithinMasonryEnabled:y,peekCloseupEnabled:f,viewportSize:x}=(0,h.x4)(),b=e?.replace("http://","https://");b&&b.startsWith("https://www.youtube.com/embed/")&&(b=b.replace("https://www.youtube.com/embed/","https://www.youtube-nocookie.com/embed/"));let v=(0,s.jsx)("div",{style:{height:0,overflow:"hidden",position:"relative",width:"100%",paddingBottom:i,...(0,p.Z)({isSideBySide:!t,isPadded:n,isRTL:l.isRTL,closeupWithinMasonryEnabled:y,peekCloseupEnabled:f})?.borderStyle},children:(0,s.jsx)("iframe",{allowFullScreen:!0,id:d.ZP.VIDEO_IFRAME_ID,src:b,style:{border:0,height:"100%",left:0,position:"absolute",top:0,width:"100%"},title:a._('Embedded content', 'Accessible content for the embedded content iframe', 'Accessible content for the embedded content iframe')})}),P=g&&"lg"===x?(0,s.jsx)(r.xu,{marginBottom:6,marginEnd:t||n?0:6,width:_,children:v}):v;return n?(0,s.jsx)(o,{children:P}):P};var g=i(667294);i(167912);var y=i(762546),f=i(900185),x=i(475110),b=i(624404),v=i(278229);i(422578);var P=i(816349),S=i(219308),w=i(78039);let k=(void 0!==n||(n=i(522536)).hash&&"510195e37611b9b69a16eccfeb13e9cf"!==n.hash&&console.error("The definition of 'CarouselVideoItem_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),I=({contextLogData:e,height:t,isFocused:i,videoList:n,onFocus:a,onUnfocus:l,pinId:o,pinKey:d,width:c})=>{let u=(0,S.Z)(),p=(0,w.Z)(k,d),{V_720P:m,V_HLSV4:h,V_HLSV3_MOBILE:_}=n,{height:y=1,width:f=1,thumbnail:x}=m||h||_||{},b=y/f,v=b;"number"==typeof t&&"number"==typeof c&&(v=t/c),(0,g.useEffect)(()=>{i?a&&a():l&&l()},[i,a,l]),(0,g.useEffect)(()=>{i&&u({component:e.component,event_type:13,object_id_str:e.objectId,view_parameter:e.viewParameter,view_type:e.view})},[i,e,u]);let I=(0,g.useCallback)(()=>{u({component:e.component,event_type:3621,object_id_str:e.objectId,view_parameter:e.viewParameter,view_type:e.view})},[e,u]);return(0,s.jsx)(r.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,s.jsx)(r.xu,{width:`${100*Math.min(v/b,1)}%`,children:(0,s.jsx)(P.Z,{contextLogData:e,customThumbnail:x,disabled:!i,loop:!0,muted:!1,onPlay:I,pinId:o,pinKey:p,preferMp4:!0,showControls:"hover",variant:"default",video:{mp4:m,hls:h,hlsv3:_}})})})};var T=i(19963),A=i(49541),C=i(999637),E=i(298568),j=i(349057),R=i(372312),L=i(472856),F=i(592889),D=i(991729),O=i(826111);let M=({fit:e,highResOnly:t,onError:i,onLoad:n,slot:a,slotIndex:l})=>{let o=(0,c.ZP)(),{details:d=""}=a,{url:u="",width:p=1,height:m=1}=(0,D.Z)(a.images)||{};return u&&(0,s.jsx)(r.Ee,{alt:(0,O.GH)(d,o,l),fit:e,naturalHeight:m??1,naturalWidth:p??1,onError:i,onLoad:n,src:u,srcSet:(0,O.gA)({slot:a,highResOnly:t})})},Z=(void 0!==a||(a=i(477895)).hash&&"83e61e6fc89222c2a0b03276839f44a5"!==a.hash&&console.error("The definition of 'CloseupCarousel_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function z({displayHeight:e,displayWidth:t,pinKey:i}){let{logContextEvent:n}=(0,T.u)(),{closeupWithinMasonryEnabled:a,isCloseupMediaViewerOpen:l,showProductDetailPage:o,peekCloseupEnabled:d}=(0,h.x4)(),{pauseAutoplay:c,setCurrentVideo:u}=(0,L.G)(),{isEnabled:p}=(0,y.Z)({dangerouslySkipActivation:!1}),{carouselInfo:m,mainImage:_}=(0,v.G)(),{carouselData:P,handleCarouselSwipe:S}=m||{},{index:k=0}=P||{},{height:D,width:O}=_,z=(0,w.Z)(Z,i),N=(0,x.Z)({showProductDetailPage:!!z.isEligibleForPdp}),{entityId:K}=z,B=(0,g.useRef)(null),U=(0,R.Z)(z),V=z.isEligibleForPdp?U():void 0,H=z.isEligibleForPdp?144:void 0,G=z.isEligibleForPdp?3:void 0,W=(0,E.A)(),$=(0,g.useCallback)(e=>{e>=1&&((0,j.Nx)("image"),W&&W.markConstraintComplete("image"))},[W]),Y=(0,g.useMemo)(()=>({viewParameter:o?144:156,view:3,component:o?14012:179,objectId:K}),[K,o]),X=(0,g.useCallback)(()=>{u({pinId:K,isPromoted:!1})},[u,K]),q=(0,g.useCallback)(()=>{c({pinId:K,isPromoted:!1})},[c,K]);(0,g.useEffect)(()=>{P?.carousel_slots?.find(e=>e.videos?.video_list)&&n({event_type:120,view_type:Y.view,view_parameter:Y.viewParameter,component:Y.component,object_id_str:Y.objectId})},[n,P?.carousel_slots,Y]);let J=B.current&&d,Q=(0,g.useCallback)((i,n,a,o,d)=>{let c,u;return i.videos?.video_list?(c=(0,s.jsx)(I,{contextLogData:Y,height:e,isFocused:a,onFocus:o,onUnfocus:d,pinId:K,pinKey:z,videoList:i.videos.video_list,width:t}),u=i.videos.id):(c=(0,s.jsx)(b.Z,{_enableViewTransitions:!0,suppressViewTransitionTags:l||n!==k,type:"image",children:(0,s.jsx)(M,{fit:"cover",onLoad:()=>$(n),slot:i,slotIndex:n})}),u=i.image_signature),(0,s.jsx)(r.xu,{height:"100%",width:"100%",children:c},`${K}-${u||n}`)},[k,l,K,Y,e,z,t,$]);return(0,s.jsx)(r.xu,{ref:B,dangerouslySetInlineStyle:{__style:{aspectRatio:a?(0,f.GJ)(O,D):void 0,contain:"strict",justifySelf:"center"}},height:"100%",overflow:a?"hidden":void 0,rounding:a&&!N?4:void 0,width:a?void 0:"100%",children:p?(0,s.jsxs)(g.Fragment,{children:[(0,s.jsx)(A.Z,{carouselData:{...P,type:"canonical"},contextLogData:V,height:e,id:K,impressionType:"Pin",index:k,slideWidth:t,view:G??3,viewParameter:H??156}),(0,s.jsx)(C.Z,{itemHeight:e,items:P?.carousel_slots||[],itemWidth:t,mode:"single",onIndexChange:S,renderItem:({item:e,index:t,isFocused:i,onFocus:n,onUnfocus:a})=>Q(e,t,i,n,a),selectedIndex:k,showNavigationButtons:!0,showScrollMarkers:!z.isEligibleForPdp})]}):(!d||J)&&(0,s.jsx)(F.Z,{containerRef:B.current,contextLogData:V,height:e,id:K,index:k,responsiveSizing:a,slideWidth:t,view:G,viewParameter:H,children:(P?.carousel_slots||[]).map((e,t)=>Q(e,t,k===t,X,q))})})}var N=i(660098),K=i(685402),B=i(857656);let U=(0,g.memo)(function({borderStyle:e,dominantColor:t,imageWithPreview:i,fit:n,sizes:a,srcSet:l}){let o=(0,E.A)(),d=(0,g.useCallback)(()=>{(0,j.Nx)("image"),o&&o.markConstraintComplete("image")},[o]),{closeupWithinMasonryEnabled:c,isCloseupMediaViewerOpen:u,showProductDetailPage:p}=(0,h.x4)(),{fiftyPercentWidth:m}=(0,N.Re)(),_=(0,x.Z)({showProductDetailPage:p}),y=(0,K.b)(),b="closeup-image-main",v=""!==i.mainImage.src?(0,s.jsx)(r.xu,{"data-test-id":b,height:"100%",width:"100%",children:(0,s.jsx)(B.Z,{_enableViewTransitions:!0,_fixCompletedOnLoad:!0,alt:i.mainImage.alt,borderStyle:_?void 0:e,color:t,elementTiming:`${b}-MainPinImage`,fetchPriority:"high",fit:n,naturalHeight:i.naturalHeight,naturalWidth:i.naturalWidth,onLoad:d,sizes:a,src:i.mainImage.src,srcSet:l,suppressViewTransitionTags:u})}):null;return(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{aspectRatio:c?(0,f.GJ)(i.naturalWidth,i.naturalHeight):void 0,contain:"strict",justifySelf:c?"center":void 0}},height:"100%",maxWidth:m,overflow:c?"hidden":void 0,rounding:_?void 0:6,width:c?void 0:"100%",children:!y&&i.previewImage?.src?(0,s.jsx)(r.Ee,{alt:i.previewImage?.alt??"",color:t,fetchPriority:"high",fit:n,naturalHeight:i.naturalHeight,naturalWidth:i.naturalWidth,role:"img",src:i.previewImage.src,children:v}):v})}),V=e=>(0,s.jsx)(U,{...e});var H=i(911475),G=i(221384),W=i(516511),$=i(181710);let Y=112+G.Z;function X({digitalMediaType:e,shouldMoveAILabel:t,isViewedByOwnerEmployeeOrAgency:i}){return(0,s.jsxs)(g.Fragment,{children:[(0,s.jsx)(r.xu,{height:`calc(100% - ${t?Y:56}px)`}),(0,s.jsx)(r.xu,{display:"flex",justifyContent:"start",maxWidth:"147px",paddingX:G.Z,children:(0,s.jsx)($.Z,{children:(0,s.jsx)(W.Z,{children:(0,s.jsx)(H.Z,{digitalMediaType:e,isViewedByOwnerEmployeeOrAgency:i})})})})]})}var q=i(727264);let J=({children:e,horizontalOffset:t=0,name:i,verticalOffset:n=0})=>{let a=new r.Ry(1),{closeupWithinMasonryEnabled:l}=(0,h.x4)(),{mainImage:o}=(0,v.G)(),{height:d,width:c}=o;return(0,s.jsx)(r.xu,{bottom:!l,dangerouslySetInlineStyle:{__style:{aspectRatio:l?c/d:void 0,justifySelf:l?"center":void 0,pointerEvents:"none",padding:l?void 0:`${n}px ${t}px`}},"data-test-id":`closeup-image-overlay-layer-${i}`,height:"100%",left:!0,marginEnd:"auto",marginStart:"auto",position:"absolute",right:!0,top:!l,zIndex:a,children:e})};var Q=i(764271),ee=i(263383),et=i(95460),ei=i(297934),en=i(967312),ea=i(299537);function el({carouselData:e,children:t,disableAnimations:i=!1,displayWidth:n,hide:a}){let l=(0,g.useCallback)(()=>(({carouselData:e,containerWidth:t,slotWidth:i})=>{let{index:n,carousel_slots:a}=e||{},l=Math.floor(i);return void 0===n||!a||n>=a.length-1?0:t-l})({carouselData:e,containerWidth:n,slotWidth:n}),[e,n]),[o,d]=(0,g.useState)(l()),[c,u]=(0,g.useState)(i),[p,m]=(0,g.useState)(),h=(0,g.useCallback)(()=>{d(l())},[l]);return(0,g.useEffect)(()=>{let e=!0;return i||(u(!1),m(t=>(clearTimeout(t),setTimeout(()=>{e&&(h(),a||u(!0))},500)))),()=>{e=!1}},[e?.index,i,h,a]),(0,g.useEffect)(()=>()=>clearTimeout(p),[p]),(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginRight:o,transition:i?void 0:"opacity 500ms, visibility 500ms ease-in-out",visibility:c?"visible":"hidden"}},"data-test-id":"animated-fab",opacity:+!!c,children:t})}var er=i(218502),es=i(921475);let eo=(0,g.lazy)(()=>i.e(90907).then(i.bind(i,962421))),ed=(0,g.lazy)(()=>i.e(90907).then(i.bind(i,753600))),ec=(0,g.lazy)(()=>i.e(87122).then(i.bind(i,686743))),eu=(0,g.lazy)(()=>i.e(69713).then(i.bind(i,423046))),ep=(0,g.lazy)(()=>Promise.resolve().then(i.bind(i,670752))),em=(0,g.lazy)(()=>Promise.resolve().then(i.bind(i,381064))),eh=(0,g.lazy)(()=>i.e(44065).then(i.bind(i,244065))),e_=({animateShopButton:e,auxData:t,carouselInfo:i,domain:n,handleMediaButtonClick:a,isHovered:l,link:o,mediaViewerExpandButtonRef:d,onImageClick:c,onShopButtonAnimationComplete:u,pin:p,showCarouselControls:m,showCarouselEllipsis:h,showCloseupShopDomainLinkButton:_,showDebugSignalsFeedbackButton:b,showDomainLink:P,showDomainLinkButton:S,showFlashlightButton:w,showPinTagButton:k,surfaceType:I,trafficSource:T,maxCloseupImageWidth:A,shouldPadImage:C,verticalOffset:E,horizontalOffset:j})=>{let{isRelatedPins10PercentVisible:R}=(0,ea.K)(),{mainImage:L,mediaViewerImage:F}=(0,v.G)(),D=(0,ei.Z)(),{peekRedesignFastFollowsEnabled:O}=(0,ee.Z)(L),{isEnabled:M}=(0,y.Z)({dangerouslySkipActivation:!1}),Z=(0,x.Z)({showProductDetailPage:!!p.is_eligible_for_pdp}),{checkExperiment:z}=(0,en.r)(),N=z("web_animated_closeup_button_v2").anyEnabled,[K,B]=(0,g.useState)(!1),U=l||K,V=(0,g.useCallback)(()=>B(!0),[]),H=(0,g.useCallback)(e=>{e.currentTarget.contains(e.relatedTarget)||B(!1)},[]),{containerWidth:Y}=(0,f.ZP)({carouselData:i?.carouselData,mainImage:L,maxCloseupImageWidth:A,shouldPadImage:C,pinKey:{type:"deprecated",data:p}}),e_=4*G.Z,eg=e_+(R||Z?0:56),ey=48+eg+8,ef=e=>O?{bottom:e,position:R?"absolute":"sticky",transition:"position 0.1s ease"}:{bottom:e,position:"sticky"},{isCloseupMediaViewerEnabled:ex}=(0,Q.Z)({isShufflePin:!!p?.shuffle}),eb=p&&p.origin_pinner&&D.isAuth&&D.id===p.origin_pinner.id||!p?.is_go_linkless,ev=(0,es.zX)(p.digital_media_source_type),eP=(S||_)&&eb,eS=eP&&!o.startsWith("https://i.pinimg.com"),ew=!i||0===i.carouselData.index;return(0,s.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{display:"contents"}},onBlur:H,onFocus:V,children:[P&&(0,s.jsx)(J,{horizontalOffset:j,name:"domain-link",verticalOffset:E,children:(0,s.jsxs)(r.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:[(0,s.jsx)(r.xu,{paddingX:1,children:(0,s.jsx)(r.JO,{accessibilityLabel:"",color:"inverse",icon:"arrow-up-right",size:16})}),(0,s.jsx)(r.xu,{paddingX:1,children:(0,s.jsx)(r.xv,{color:"inverse",weight:"bold",children:n})})]})}),m&&i&&!M&&(0,s.jsxs)(J,{horizontalOffset:j,name:"carousel-controls",verticalOffset:E,children:[(0,s.jsx)(et.Z,{name:"SafeSuspense_CloseupImageOverlay_CarouselSliders",children:(0,s.jsx)($.Z,{children:(0,s.jsx)(ed,{backNode:(0,s.jsx)(er.Z,{backgroundColor:"default",hoverColor:"secondary",iconColor:"default",iconType:"back",showFab:U}),carouselData:{carouselSlots:i.carouselData.carousel_slots?.map(({id:e,title:t})=>({id:e,title:t})),entityId:i.carouselData.id??"",index:i.carouselData.index},carouselIndex:i.carouselData&&i.carouselData.index,componentType:i.componentType,forwardNode:(0,s.jsx)(er.Z,{backgroundColor:"default",hoverColor:"secondary",iconColor:"default",iconType:"forward",showFab:U}),handleCarouselSwipe:i.handleCarouselSwipe,pinKey:{type:"deprecated",data:p},sliderStyleOverride:{padding:"30px 12px"},viewParameter:i.viewParameter,viewType:i.viewType})})}),(0,s.jsx)(r.xu,{alignItems:"end",bottom:!0,display:"flex",height:405,justifyContent:"center",left:!0,padding:G.Z,position:"absolute",right:!0,children:!S&&h&&(0,s.jsx)(et.Z,{name:"SafeSuspense_CloseupImageOverlay_CarouselEllipsis",children:(0,s.jsx)($.Z,{children:(0,s.jsx)(W.Z,{children:(0,s.jsx)(eo,{carouselData:{carouselSlots:i.carouselData.carousel_slots?.map(({id:e,title:t})=>({id:e,title:t})),entityId:i.carouselData.id??"",index:i.carouselData.index},carouselIndex:i.carouselData&&i.carouselData.index,componentType:i.componentType,handleCarouselSwipe:i.handleCarouselSwipe,isCloseup:!0,pinKey:{type:"deprecated",data:p},variant:"default",viewParameter:i.viewParameter,viewType:i.viewType})})})})})]}),w&&(0,s.jsxs)(J,{horizontalOffset:j,name:"flashlight-button",verticalOffset:E,children:[(0,s.jsx)(r.xu,{height:`calc(100% - ${48+e_}px)`}),(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:ef(eg)},display:"flex",justifyContent:"end",paddingX:G.Z,right:!0,children:(0,s.jsx)(et.Z,{name:"SafeSuspense_CloseupImageOverlay_ShopButton",children:(0,s.jsx)($.Z,{children:(0,s.jsx)(W.Z,{children:(0,s.jsx)(eu,{imageSignature:p.image_signature,onShopButtonAnimationComplete:u,pinId:p.id,show:ew,surfaceType:I,trafficSource:T})})})})})]}),ex&&(0,s.jsxs)(J,{horizontalOffset:j,name:"media-viewer-button",verticalOffset:E,children:[(0,s.jsx)(r.xu,{height:`calc(100% - ${w?(48+e_)*2:e_+48}px)`}),(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:ef(ey)},display:"flex",justifyContent:"end",paddingX:G.Z,right:!0,children:(0,s.jsx)(el,{carouselData:i?.carouselData,disableAnimations:!0,displayWidth:Y,children:(0,s.jsx)(et.Z,{name:"SafeSuspense_CloseupImageOverlay_MediaViewerButton",children:(0,s.jsx)($.Z,{children:(0,s.jsx)(W.Z,{children:(0,s.jsx)(r.xu,{ref:d,onMouseDown:()=>{new Image().src=F.url},children:N?(0,s.jsx)(ep,{animateOnMount:!1,dataTestId:"media-viewer-button",icon:"maximize",imageSignature:p.image_signature,onTap:a,variant:"view-larger"}):(0,s.jsx)(em,{animateOnRender:!1,animateShopButton:e,dataTestId:"media-viewer-button",id:p.id,imageSignature:p.image_signature,onAnimationComplete:u,onButtonClick:a,surfaceType:"media-viewer",variant:"view-larger"})})})})})})})]}),b&&(0,s.jsxs)(J,{horizontalOffset:j,name:"debug-signals-feedback",verticalOffset:E,children:[(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{height:"calc(100% - 115px)"}}}),(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:ef(eg)},display:"flex",justifyContent:"end",paddingX:G.Z,right:!0,children:(0,s.jsx)($.Z,{children:(0,s.jsx)(eh,{pinKey:{type:"deprecated",data:p}})})})]}),p.digital_media_source_type&&ev&&(0,s.jsx)(J,{horizontalOffset:j,name:"ai-generated-label",verticalOffset:E,children:(0,s.jsx)(X,{digitalMediaType:p.digital_media_source_type,isViewedByOwnerEmployeeOrAgency:p.is_viewed_by_owner_or_employee_or_partner_of_business||!1,shouldMoveAILabel:eS&&U})}),eP&&(0,s.jsxs)(J,{horizontalOffset:j,name:"domain-link-button",verticalOffset:E,children:[(0,s.jsx)(r.xu,{height:`calc(100% - ${48+e_}px)`}),(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{...ef(eg),transition:"all 0.5s",opacity:+!!U,pointerEvents:U?"auto":"none"}},display:"flex",justifyContent:"start",maxWidth:"calc(100% - 88px)",paddingX:G.Z,tabIndex:-1,children:(0,s.jsx)(q.Z,{auxData:t,domain:n,link:o,onClick:c,pinKey:{type:"deprecated",data:p},trafficSource:T})})]}),k&&(0,s.jsx)(J,{horizontalOffset:j,name:"tag-button",verticalOffset:E,children:(0,s.jsx)(et.Z,{name:"SafeSuspense_CloseupImageOverlay_CloseupTagButton",children:(0,s.jsx)($.Z,{children:(0,s.jsx)(W.Z,{children:(0,s.jsx)(ec,{pin:p})})})})})]})};var eg=i(769372),ey=i(313565),ef=i(797348),ex=i(651646),eb=i(185408),ev=i(401587),eP=i(532896),eS=i(896798),ew=i(719311),ek=i(345617),eI=i(757653),eT=i(57797);let eA=(0,eI.Z)(()=>Promise.all([i.e(90018),i.e(25793),i.e(69220),i.e(29388),i.e(52041)]).then(i.bind(i,544348)),void 0,e=>544348,"app-common-react-components-closeup-CloseupShuffle-CloseupShuffle"),eC=(0,g.memo)(({borderStyle:e,closeupWithinMasonryEnabled:t,imageWithPreview:i,peekRedesignFastFollowsEnabled:n,sizes:a,srcSet:l})=>(0,s.jsx)(eT.Z,{metricName:"CloseupImage",children:(0,s.jsx)(ev.Z,{id:"CloseupImage",children:(0,s.jsx)(V,{borderStyle:e,dominantColor:N.yc,fit:n||t?void 0:"contain",imageWithPreview:i,sizes:a,srcSet:l})})}));function eE({onImageClick:e,isHovered:t,pin:i,shouldPadImage:n,trafficSource:a,viewParameter:l,isORBACProfileManager:o,handleMediaButtonClick:d}){let c,m,{animateShopButton:_,onShopButtonAnimationComplete:y,originalImageUrl:b,imageSignature:P,link:S,isScenePin:w,disablePinTagButton:k,showProductDetailPage:I,maxCloseupImageWidth:T,imageWithPreview:A}=(0,ef.Z)({pinKey:{type:"deprecated",data:i}}),C=(0,ei.Z)(),{mainImage:E,carouselInfo:j,srcSet:L,srcSizes:F}=(0,v.G)(),D=(0,eb.Z)(),{peekRedesignFastFollowsEnabled:O}=(0,ee.Z)(E),M=(0,g.useRef)(null),Z=(0,g.useRef)(null),{domain:K,shuffle:B}=i,U=!!j?.carouselData,{naturalWidth:V,naturalHeight:H}=A,{closeupWithinMasonryEnabled:G,peekCloseupEnabled:W,clientTrackingParams:$,showCloseupContentRight:Y,viewportSize:X,setCalculatedImageHeight:q}=(0,h.x4)(),J=(0,x.Z)({showProductDetailPage:!!i.is_eligible_for_pdp}),{isRTL:Q}=(0,u.B)();(0,g.useEffect)(()=>{M.current&&q&&q(M.current.clientHeight)},[M,q]);let et=(0,g.useMemo)(()=>A,[A]),{borderStyle:en}=(0,g.useMemo)(()=>(0,p.Z)({isSideBySide:Y,isPadded:n,isRTL:Q,closeupWithinMasonryEnabled:G,peekCloseupEnabled:W}),[Y,n,Q,G,W]),{borderStyle:ea}=(0,p.Z)({isSideBySide:Y,isPadded:n,isRTL:Q,closeupWithinMasonryEnabled:G,peekCloseupEnabled:W}),{containerHeight:el,containerWidth:er,horizontalOffset:es,verticalOffset:eo}=(0,f.ZP)({carouselData:j?.carouselData,mainImage:E,maxCloseupImageWidth:T,shouldPadImage:n,pinKey:{type:"deprecated",data:i}}),[ed,ec]=(0,g.useState)({width:er,height:el}),eu=(0,g.useCallback)(()=>{let e=er>el?el/er:1,t=M.current;if(!t)return;let i=t.offsetWidth*e;ec(e=>{let n={height:t.offsetHeight||i,width:t.offsetWidth};return e.height!==n.height||e.width!==n.width?n:e})},[el,er]);(0,ek.Z)(eu,M);let ep=!!B&&D(),em=(0,eP.Z)({isHiddenPin:i.is_hidden,isUnsafePin:i.is_unsafe}),{currentDomain:eh}=(0,ey.Z)({carouselData:i.carousel_data&&{carouselSlots:i.carousel_data.carousel_slots&&i.carousel_data.carousel_slots.map(e=>({domain:e.domain,link:e.link})),index:i.carousel_data?.index},domain:i.domain}),ev=eh||K,eI={carousel_slot_id:void 0,carousel_data_id:void 0,carousel_slot_index:void 0,commerce_data:void 0};if(j&&j.carouselData&&j.carouselData.id){let{carousel_slots:e=[],id:t,index:i=0}=j.carouselData;c=e[i]&&e[i].link,eI.carousel_slot_id=e[i]&&e[i].id,eI.carousel_data_id=t,eI.carousel_slot_index=i,ev=e[i]&&e[i].domain||ev}let eT=(0,R.Z)({type:"deprecated",data:i})();eT&&(eI.commerce_data=eT);let eE=c||S||b||"",ej=(0,s.jsx)(eC,{borderStyle:en,closeupWithinMasonryEnabled:G,imageWithPreview:et,peekRedesignFastFollowsEnabled:O,sizes:F,srcSet:L}),eR=ej;U&&(eR=(0,s.jsx)(z,{displayHeight:ed?.height,displayWidth:ed?.width,pinKey:{type:"deprecated",data:i}})),ep&&(eR=(0,s.jsx)(eA,{clientTrackingParams:$,naturalHeight:H,naturalWidth:V,pinId:i.id,shuffleId:B?.id,children:(0,s.jsx)(r.xu,{width:"100%",children:ej})}));let{maxHeight:eL,fiftyPercentWidth:eF,fiftyPercentHeight:eD}=(0,N.Re)(),{maxHeight:eO}=(0,ex.Z)({pinKey:{type:"deprecated",data:i}}),{showCarouselControls:eM,showCloseupShopDomainLinkButton:eZ,showDebugSignalsFeedbackButton:ez,showDomainLink:eN,showDomainLinkButton:eK,showFlashlightButton:eB,showPinTagButton:eU,surfaceType:eV}=(0,eg.Z)({carouselInfo:j,disablePinTagButton:k,domain:ev||"",hasMetTrustAndSafetyCheck:em,isCollageEnabled:ep,isEmployee:C.isAuth&&!!C.isEmployee,isORBACProfileManager:o,isScenePin:w,navLink:eE,pinKey:{type:"deprecated",data:i},showProductDetailPage:I});return G?m=eO:O||(m="sm"===X?eD:eL),(0,s.jsxs)(r.xu,{ref:M,alignItems:"stretch",alignSelf:G?"center":void 0,dangerouslySetInlineStyle:{__style:{aspectRatio:(0,f.GJ)(V,H),backgroundColor:G?void 0:N.yc}},"data-test-id":"closeup-body-image-container",display:"flex",height:G?"100%":el,maxHeight:m,maxWidth:eF,position:"relative",width:G?"100%":er,children:[(0,s.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{...J?void 0:ea,display:G?"grid":"block"}},"data-test-id":"closeup-image",height:"auto",overflow:"hidden",width:"100%",children:[eR,(0,s.jsx)(e_,{animateShopButton:_,auxData:eI,carouselInfo:j,domain:ev??K??"",handleMediaButtonClick:d,horizontalOffset:es,imageSignature:P,isHovered:t,link:eE,maxCloseupImageWidth:T,mediaViewerExpandButtonRef:Z,onImageClick:e,onShopButtonAnimationComplete:y,pin:i,shouldPadImage:n,showCarouselControls:eM,showCarouselEllipsis:!I,showCloseupShopDomainLinkButton:eZ,showDebugSignalsFeedbackButton:ez,showDomainLink:eN,showDomainLinkButton:eK,showFlashlightButton:eB,showPinTagButton:eU,surfaceType:eV,trafficSource:a,verticalOffset:eo,viewParameter:l})]}),Z&&(0,s.jsx)(r.mh,{zIndex:ew.lI,children:(0,s.jsx)(eS.Qp,{anchor:Z.current,experienceIds:[506692],flyoutSize:"md",idealDirection:"up",placementId:12,showCaret:!0,textWeight:"normal"})})]})}var ej=i(839117),eR=i(770304),eL=i(158759),eF=i(616693),eD=i(581288),eO=i(757686),eM=i(823440),eZ=i(755090),ez=i(606688),eN=i(14217);let eK=(e,t)=>e?13799:0===t?227:228;var eB=i(587650),eU=i(194910),eV=i(113474),eH=i(661319),eG=i(436818),eW=i(772962),e$=i(53634),eY=i(113329);let eX={backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",paddingTop:"30px",top:0};function eq({onImageClick:e,isHovered:t,pin:i,shouldPadImage:n,trafficSource:a,viewParameter:l,isORBACProfileManager:o,handleMediaButtonClick:d}){let c,{animateShopButton:m,onShopButtonAnimationComplete:_,originalImageUrl:y,imageSignature:b,link:P,isScenePin:w,disablePinTagButton:k,maxCloseupImageWidth:I,imageWithPreview:T}=(0,ef.Z)({pinKey:{type:"deprecated",data:i}}),A=(0,ei.Z)(),{closeupWithinMasonryEnabled:C,peekCloseupEnabled:L,viewportSize:F,clientTrackingParams:D,showCloseupContentRight:O}=(0,h.x4)(),{isRTL:M}=(0,u.B)(),Z=(0,g.useRef)(null),{maxHeight:z,fiftyPercentHeight:K,fiftyPercentWidth:B}=(0,N.Re)(),{maxHeight:U}=(0,ex.Z)({pinKey:{type:"deprecated",data:i}}),[H,G]=(0,g.useState)(!1),W=(0,x.Z)({showProductDetailPage:!!i.is_eligible_for_pdp}),{borderStyle:Y}=(0,p.Z)({isSideBySide:O,isPadded:n,isRTL:M,closeupWithinMasonryEnabled:C,peekCloseupEnabled:L}),X=(0,eP.Z)({isHiddenPin:i.is_hidden,isUnsafePin:i.is_unsafe}),{mainImage:q}=(0,v.G)(),{domain:J="",id:Q,story_pin_data:ee}=i,ea={carousel_slot_id:void 0,carousel_data_id:void 0,carousel_slot_index:void 0,commerce_data:void 0},el=(0,R.Z)({type:"deprecated",data:i})();el&&(ea.commerce_data=el);let er=P||y||"",{data:es=[]}=(0,eV.Z)({name:"StoryPinTaggedProductsResource",options:{id:i.id},noCache:!0}),{pages:eo=[]}=ee||{},ed=[5,6,2],ec=eo.filter(e=>{let t=e?.layout;return void 0!==t&&!ed.includes(t)}),{activePageIndex:eu,captions:ep,currentPage:em,handleMute:eh,handlePageChange:ey,handlePause:eb,handlePausePlay:ev,handlePlay:eS,handleUpdateVideoInfo:ew,handleVideoEnd:ek,handleVideoScrubbingNewPage:eI,handleWatchAgain:eT,isActive:eA,isSeeking:eC,mute:eE,progressInfo:eq,showEndCard:eJ}=(({pages:e,viewType:t,viewParameter:i,pinId:n})=>{let{checkExperiment:a}=(0,en.r)(),l=a("web_closeup_video_loop").anyEnabled,{clearSeekTime:r}=(0,eO.RC)(),{setIdeaPinActivePage:s}=(0,eN.Ut)(),[o,d]=(0,g.useState)(0),[c,p]=(0,g.useState)(!0),[m,h]=(0,g.useState)(!0),[_,y]=(0,g.useState)(!1),[f,x]=(0,g.useState)(null),b=(0,S.Z)(),v=e[o],P=(0,eF.g)(),w=(0,E.A)(),k=(0,g.useRef)(null),{blocks:[I]=[null]}=(0,eR.Z)({storyPinBlocks:v?.blocks||[],blocksToRender:[eD.h8.VIDEO]}),{seekTimes:T}=(0,eO.Hx)(),A=T&&T[n],C=I?.type===eD.h8.VIDEO&&I?.video,R=(0,u.B)().locale.toLowerCase(),L=C&&(C?.video_list?.V_720P?.captions_urls||C?.video_list?.V_HLSV3_MOBILE?.captions_urls)||{},F=R&&L[R]||Object.values(L)[0]||"",D=(0,g.useCallback)(n=>{(0,j.sX)("startNewPwt"),w&&w.abort("startNewPwt"),P&&(P.abort("startNewPwt"),P.start(),P.addBinaryAnnotation("page.current.index",n,"I16"),P.addBinaryAnnotation("page.count",e.length,"I16"),P.addBinaryAnnotation("view.type",t,"I32"),P.addBinaryAnnotation("view.parameter",i,"I32"))},[e.length,w,P,i,t]),O=(0,g.useCallback)(e=>{e&&e instanceof eM.B7&&(e.clear(),e=null)},[]),M=(0,g.useCallback)(t=>{O(k.current),!C&&e.length>1&&(k.current=new eM.B7(e=>{x({currentTime:e<1?e:1,duration:1})},()=>{t<e.length-1?(O(k.current),z(t+1)):(y(!0),p(!1))},eL.oN))},[e]),Z=(0,g.useCallback)(e=>{x({currentTime:0,duration:1}),M(e)},[M]);(0,eZ.Z)(()=>(w&&(w.addBinaryAnnotation("page.current.index",o,"I16"),w.addBinaryAnnotation("page.count",e.length,"I16"),w.addBinaryAnnotation("view.type",t,"I32"),w.addBinaryAnnotation("view.parameter",i,"I32")),(0,j.rt)("page.current.index",o,"I16"),(0,j.rt)("page.count",e.length,"I16"),(0,j.rt)("view.type",t,"I32"),(0,j.rt)("view.parameter",i,"I32"),Z(o),()=>{k.current&&k.current instanceof eM.B7&&k.current.clear()}));let z=(0,g.useCallback)(e=>{c||p(!0),_&&y(!1),Z(e),e!==o&&r(),d(e),s(e),D(e)},[o,r,Z,c,s,_,D]);(0,g.useEffect)(()=>{if(_&&y(!1),k.current&&A){let e=k.current;e.pause(),e.remaining=eL.oN-A*ez.gJ,x({currentTime:A/eL.P6,duration:1})}},[A]);let N=()=>{p(!1),k.current&&k.current.pause(),b({event_type:9324,view_type:t,view_parameter:i,component:eK(_,o),object_id_str:n,aux_data:{story_pin_page_id:o}})},K=()=>{if(p(!0),k.current){let e=k.current;A&&A>0&&r(),e.resume()}else f||Z(o);y(!1),b({event_type:9323,view_type:t,view_parameter:i,component:eK(_,o),object_id_str:n,aux_data:{story_pin_page_id:o}})},B=()=>{z(0)};return{activePageIndex:o,captions:F,currentPage:v,handleMute:()=>{h(e=>!e)},handlePageChange:z,handlePause:N,handlePausePlay:()=>{_||(c?N():K())},handlePlay:K,handleUpdateVideoInfo:e=>{x({currentTime:e?.currentTime??0,duration:e?.duration??1})},handleVideoEnd:a=>{l&&B(),a===e.length-1&&(y(!0),p(!1),s(0)),a===o&&o<e.length-1&&(z(o+1),b({event_type:101,view_type:t,view_parameter:i,component:eK(_,o),element:12261,object_id_str:n}))},handleVideoScrubbingNewPage:e=>{_&&y(!1),Z(e),d(e),s(e),D(e)},handleWatchAgain:B,isActive:c,isSeeking:!!A,mute:m,progressInfo:f,setMute:h,showEndCard:_}})({pages:ec,viewType:3,viewParameter:l,pinId:Q}),{blocks:[eQ]=[null]}=(0,eR.Z)({storyPinBlocks:em?.blocks||[],blocksToRender:[eD.h8.IMAGE,eD.h8.VIDEO]}),e0=eQ?.type===eD.h8.VIDEO,e1=e0||ec.length>1,{fontsLoaded:e2,mediaDataReceived:e3}=(0,e$.tq)({hasPin:!!i,pages:eo}),{showCloseupShopDomainLinkButton:e6,showDebugSignalsFeedbackButton:e4,showDomainLink:e5,showDomainLinkButton:e8,showFlashlightButton:e7,showPinTagButton:e9,surfaceType:te}=(0,eg.Z)({disablePinTagButton:k,domain:J,hasMetTrustAndSafetyCheck:X,isEmployee:A.isAuth&&!!A.isEmployee,isScenePin:w,navLink:er,pinKey:{type:"deprecated",data:i},isORBACProfileManager:o}),{containerHeight:tt,containerWidth:ti,horizontalOffset:tn,letterBoxAspectRatio:ta,letterBoxedHeight:tl,letterBoxedWidth:tr,verticalOffset:ts}=(0,f.ZP)({mainImage:q,maxCloseupImageWidth:I,pinKey:{type:"deprecated",data:i}}),{height:to,width:td}=q;return i.story_pin_data?.is_deleted?(0,s.jsx)(eG.Z,{color:"secondary",height:640,rounding:4,width:508}):(C?c=U:L&&(c="sm"===F?K:z),(0,s.jsx)(r.xu,{alignSelf:C?"center":void 0,dangerouslySetInlineStyle:{__style:{...W?void 0:Y,aspectRatio:C?(0,f.GJ)(td,to):void 0,background:N.yc}},"data-test-id":"closeup-body-image-container",height:C?"100%":tt,maxHeight:W?void 0:c,maxWidth:B,onMouseEnter:()=>{e1&&G(!0)},onMouseLeave:()=>{G(!1)},position:"relative",width:C?"100%":ti,children:em?(0,s.jsxs)(g.Fragment,{children:[!e1&&(0,s.jsx)(e_,{animateShopButton:m,auxData:ea,domain:J,handleMediaButtonClick:d,imageSignature:b,isHovered:t,link:er,maxCloseupImageWidth:I,mediaViewerExpandButtonRef:Z,onImageClick:e,onShopButtonAnimationComplete:_,pin:i,shouldPadImage:n,showCloseupShopDomainLinkButton:e6,showDebugSignalsFeedbackButton:e4,showDomainLink:e5,showDomainLinkButton:e8,showFlashlightButton:e7&&e3,showPinTagButton:e9,surfaceType:te,trafficSource:a,viewParameter:l}),(H||!eA)&&(0,s.jsxs)(r.xu,{children:[(0,s.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...eY.Ul,flexDirection:"column-reverse"}},display:"flex",height:eY.hy,paddingX:6,position:"absolute",width:"100%",zIndex:eD.Gf,children:(0,s.jsx)(eW.Z,{activePageIndex:eu,captionsUrl:ep,handleMute:eh,handlePause:eb,handlePausePlay:ev,handlePlay:eS,handleVideoScrubbingNewPage:eI,handleWatchAgain:eT,inMilliseconds:!0,isMuted:eE,isPanelOpen:!0,isPlaying:eA,isStoryPin:!0,onPageSelect:e=>ey(e),pageCount:ec.length,pages:ec,pinId:Q,progressInfo:eq,showEndCard:eJ,showVideoControls:!0,viewParameter:156})}),(0,s.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...eX}},"data-test-id":"music-attribution",display:"flex",justifyContent:"center",overflow:"hidden",paddingY:5,position:"absolute",width:"100%",zIndex:eD.Gf,children:(0,s.jsx)(ej.Z,{handlePause:eb,handlePlay:eS,musicAttributions:em?.music_attributions,shouldMute:em?.should_mute,showEndCard:eJ})})]}),(0,s.jsxs)(r.iP,{disabled:!H||eJ,fullHeight:!0,onTap:ev,children:[(0,s.jsx)(eU.Z,{activePageIndex:eu,clientTrackingParams:D,customEndCard:!0,fontsLoaded:e2,horizontalOffset:tn,isActive:eA,muteVideos:eE,onEnded:ek,onUpdateVideoInfo:ew,ownerId:i.native_creator?.id??"",page:em,pageAspectRatio:ta,pageHeight:tl,pageIndex:eu,pageWidth:tr,pin:i,pinId:Q,productPins:es,shouldLogTimeSpent:!0,stillLoading:!e3,verticalOffset:ts,videoPinProgress:eq,viewParameter:l,viewType:3}),!eJ&&!eC&&ec.length>1&&!e0&&(0,s.jsx)(eH.Z,{playing:eA})]}),eJ&&i.native_creator&&(0,s.jsx)(et.Z,{name:"SIIPMediaContainer_VideoEndCard",children:(0,s.jsx)($.Z,{children:(0,s.jsx)(r.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,zIndex:eD.s5,children:(0,s.jsx)(eB.default,{clientTrackingParams:i.trackingParams||i.tracking_params,imageSrc:i.image_url??"",pinDescription:i.description??"",pinId:i.id,rounded:!1,watchAgain:eT})})})})]}):em?null:(0,s.jsx)(V,{dominantColor:N.yc,fit:"contain",imageWithPreview:T})}))}var eJ=i(708446),eQ=i(5112);let e0=e=>{let{isHovered:t,onImageClick:i,pin:n,shouldPadImage:a,trafficSource:l,viewParameter:r,isORBACProfileManager:d,handleMediaButtonClick:c}=e,u=(0,R.Z)({type:"deprecated",data:n}),p=n.is_eligible_for_pdp?u():void 0,{isEligibleForStaticImageIdeaPin:m}=(0,eJ.Z)(n.story_pin_data_id),{clientTrackingParams:_}=(0,h.x4)(),g=(0,s.jsx)(eQ.Z,{auxData:p,clientTrackingParams:_,component:85,viewParameter:r,children:m?(0,s.jsx)(eq,{handleMediaButtonClick:c,isHovered:t,isORBACProfileManager:d,onImageClick:i,pin:n,shouldPadImage:a,trafficSource:l,viewParameter:r}):(0,s.jsx)(eE,{handleMediaButtonClick:c,isHovered:t,isORBACProfileManager:d,onImageClick:i,pin:n,shouldPadImage:a,trafficSource:l,viewParameter:r})});return a?(0,s.jsx)(o,{children:g}):g};var e1=i(670752),e2=i(381064),e3=i(661190),e6=i(628423),e4=i(552020);let e5=(0,g.lazy)(()=>i.e(87122).then(i.bind(i,686743))),e8=({children:e,name:t,verticalOffset:i=0,horizontalOffset:n=0})=>(0,s.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",padding:`${i}px ${n}px`}},"data-test-id":`experimental-closeup-image-overlay-layer-${t}`,left:!0,position:"absolute",right:!0,top:!0,children:e}),e7=(void 0!==l||(l=i(807811)).hash&&"89029511c11617e1150976d1002228db"!==l.hash&&console.error("The definition of 'VideoContent_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),e9=({closeupIsFirstPageInHistoryStack:e,customThumbnail:t,imageContainerRef:i,isWideVideo:n,pin:a,pinKey:l,shouldPadImage:d,flyoutShareProps:c,video:u,isORBACProfileManager:p,handleMediaButtonClick:_})=>{let y=(0,w.Z)(e7,l),f=!!a.promoter&&!a.is_downstream_promotion,x=f&&!a.is_eligible_for_web_closeup,{access:b,should_mute:v}=a||{},P=!!b&&b.includes("tag")||p,{closeupWithinMasonryEnabled:S}=(0,h.x4)(),{closeupBodyWidth:k}=(0,ea.K)(),{checkExperiment:I}=(0,en.r)(),T=(0,e6.Z)(),{fiftyPercentWidth:A}=(0,N.Re)(),{maxHeight:C}=(0,ex.Z)({pinKey:y}),{isCloseupMediaViewerEnabled:E}=(0,Q.Z)({isShufflePin:!!a?.shuffle}),j=I("web_animated_closeup_button_v2").anyEnabled,R=I("web_closeup_video_loop").anyEnabled,L=Math.max((k??1)/("number"==typeof C?C:1),(u.hls?.width??u?.mp4?.width??0)/(u.hls?.height??u?.mp4?.height??0)),F=S?k:m.Gg-m.d2,D=(0,g.useCallback)(({event:e})=>{_?.(),e.stopPropagation()},[_]),O=(0,g.useMemo)(()=>E&&I("media_viewer_videos").anyEnabled,[E,I]),M=(0,s.jsxs)(e4.Z,{isVideo:!0,isWideVideo:n,shouldPadImage:d,styleOverrides:d&&!S?{maxWidth:{maxWidth:F},minWidth:{minWidth:F},height:{},borderRadius:16}:{},variant:"default",children:[(0,s.jsx)(r.xu,{ref:i,"data-test-id":"closeup-video-with-visibility",maxHeight:C,maxWidth:A,width:"100%",children:(0,s.jsx)(e3.Z,{aspectRatio:S?L:void 0,autoplay:!T,customThumbnail:t,flyoutShareProps:c,isPromoted:f,loop:R||x,muted:v||e,objectFit:S?"contain":void 0,pinId:a.id,pinKey:y,shouldMute:v,variant:"default",video:u})}),P&&(0,s.jsx)(e8,{name:"tag-button",children:(0,s.jsx)(et.Z,{name:"SafeSuspense_VideoContent_CloseupTagButton",children:(0,s.jsx)($.Z,{children:(0,s.jsx)(W.Z,{children:(0,s.jsx)(e5,{pin:a})})})})}),O&&(0,s.jsxs)(e8,{name:"media-viewer-button",verticalOffset:136,children:[(0,s.jsx)(r.xu,{height:"100%"}),(0,s.jsx)(r.xu,{display:"flex",justifyContent:"end",paddingX:G.Z,right:!0,children:(0,s.jsx)(et.Z,{name:"SafeSuspense_CloseupImageOverlay_MediaViewerButton",children:(0,s.jsx)($.Z,{children:(0,s.jsx)(W.Z,{children:j?(0,s.jsx)(e1.default,{animateOnMount:!1,dataTestId:"media-viewer-button",icon:"maximize",imageSignature:a.image_signature,onTap:_,variant:"view-larger"}):(0,s.jsx)(e2.default,{animateOnRender:!1,animateShopButton:!0,dataTestId:"media-viewer-button",id:a.id,imageSignature:a.image_signature,onButtonClick:D,surfaceType:"media-viewer",variant:"view-larger"})})})})})]})]});return d?(0,s.jsx)(o,{children:M}):M};var te=i(554048);let tt=e=>{let{clientTrackingParams:t,closeupIsFirstPageInHistoryStack:i,imageContainerRef:n,flyoutShareProps:a,isWideVideo:l,pin:o,shouldPadImage:d,trafficSource:c,isORBACProfileManager:u,isHovered:p,onImageClick:m,viewParameter:g,handleMediaButtonClick:y}=e,{video:f,imgSrc:b,isEmbeddedVideo:P,isYoutubePin:S}=(0,v.G)(),{closeupWithinMasonryEnabled:w}=(0,h.x4)(),k=(0,x.Z)({showProductDetailPage:!!o.is_eligible_for_pdp}),{checkExperiment:I}=(0,en.r)(),T=(0,s.jsx)(ev.Z,{id:"ContextMenuClickthroughLogging",children:(0,s.jsx)(te.Z,{clientTrackingParams:t,hovered:p,pinKey:{type:"deprecated",data:o},viewType:3,children:(0,s.jsx)(ev.Z,{id:"ImageContent",children:(0,s.jsx)(e0,{handleMediaButtonClick:y,isHovered:p,isORBACProfileManager:u,onImageClick:m,pin:o,shouldPadImage:d,trafficSource:c,viewParameter:g})})})});f&&(T=(0,s.jsx)(ev.Z,{id:"VideoContent",children:(0,s.jsx)(e9,{closeupIsFirstPageInHistoryStack:i,customThumbnail:b,flyoutShareProps:a,handleMediaButtonClick:y,imageContainerRef:n,isORBACProfileManager:u,isWideVideo:l,pin:o,pinKey:{type:"deprecated",data:o},shouldPadImage:d,video:f})}));let A="50%";if(P){let e=o.attribution&&(o.attribution.author_name||o.attribution.url)?o.attribution.provider_name:null;"soundcloud"===e?A="30%":"vin"===e&&(A="100%"),T=(0,s.jsx)(ev.Z,{id:"EmbeddedVideoContent",children:(0,s.jsx)(_,{embedUrl:o.embed?.src,isWideVideo:l,paddingBottom:A,shouldPadImage:d})})}let C=I("web_closeup_youtube_player").group;if(S&&["enabled","enabled_autoplay","enabled_delay","employees"].includes(C)){let e=(0,eL.Mt)(o.link),t=["enabled_autoplay","enabled_delay"].includes(C),i=`https://www.youtube.com/embed/${e}?autoplay=${+!!t}&mute=${+!!t}&fs=0`;T=(0,s.jsx)(ev.Z,{id:"EmbeddedVideoContent-2",children:(0,s.jsx)(_,{embedUrl:i,isWideVideo:l,paddingBottom:A,shouldPadImage:d})})}return(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{overflow:w?"clip":void 0}},rounding:w&&!k?4:void 0,children:T})}},169006:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o}),i(167912);var n,a=i(451040),l=i(78039),r=i(488879);let s=(void 0!==n||(n=i(100322)).hash&&"120c47eff2cf4911de716b514608718f"!==n.hash&&console.error("The definition of 'useIsBoardOwnerOrCollaborator_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function o({pinKey:e,orbacActingAs:t,viewer:i}){let n=(0,l.Z)(s,e),o=!!n.pinner?.entityId&&(0,r.D3)(i,n.pinner.entityId,t),d=!!(n.board?.collaboratedByMe||n.board?.owner?.entityId)&&(0,a.Z)(n.board.collaboratedByMe,n.board.owner?.entityId,i);return o||d}},942257:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>D}),i(244311);var n,a,l=i(19963),r=i(78039),s=i(112800),o=i(538645),d=i(460632),c=i(545007);i(167912);var u=i(20256),p=i(586033),m=i(967312),h=i(113474),_=i(921506),g=i(667294),y=i(484465),f=i(247854),x=i(233846),b=i(265332),v=i(971518),P=i(51340),S=i(174646),w=i(785893);function k({commentCTA:e,comments:t,inCommentsPopoverExp:i,isDesktop:n,previewComment:a}){let l=(0,x.ZP)(),{checkExperiment:r}=(0,m.r)(),{isRTL:s}=(0,S.B)(),o=!n&&r("ce_mweb_iterated_comment_module_header").anyEnabled,d=!n&&r("ce_mweb_iterated_comment_module_header").group,c=(0,g.useRef)(null),[p,h]=(0,g.useState)(1),_=!!i||"enabled_text_avatar_cta"===d||"enabled_avatar_cta_text"===d,y="enabled_avatar_text_cta"!==d,{user:{first_name:f,image_medium_url:k,username:I}}=a,T=f||I,A=new Set,C=t.filter(e=>!A.has(e.user.id)&&(A.add(e.user.id),!0)).slice(0,3).map(e=>({name:e.user.first_name??"",src:e.user.image_medium_url===b.ql?"":e.user.image_medium_url??""}));(0,g.useEffect)(()=>{if(c.current){let e=c.current.children[0]?.children[0];h(1/(parseFloat(e?.style.width)/100))}},[C.length]);let E=(0,P.Wc)(l._('{{ user }} commented', 'closeupCommentModule.commentPreviewHeading.heading', 'Text before displaying a user\'s comment. user: the comment author\'s name'),{user:T});return(0,w.jsxs)(g.Fragment,{children:[(0,w.jsx)(u.xu,{ref:c,dangerouslySetInlineStyle:{__style:{float:s?"right":"left"}},height:20,marginEnd:1.5*!!y,width:20*p,children:_?(0,w.jsx)(u.HE,{accessibilityLabel:"",collaborators:C,size:"fit"}):(0,w.jsx)(v.qE,{name:T,src:k})}),y&&(0,w.jsx)(u.xv,{inline:!0,size:o||i?"300":"200",weight:"bold",children:_?e:E})]})}function I(){let e=(0,x.ZP)(),{isRTL:t}=(0,S.B)();return(0,w.jsxs)(g.Fragment,{children:[(0,w.jsx)(u.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:f.rEw,float:t?"right":"left"}},display:"flex",height:20,justifyContent:"center",marginEnd:1.5,rounding:2,width:20,children:(0,w.jsx)(u.JO,{accessibilityLabel:(0,b.yW)(e),color:"recommendation",icon:"star",inline:!0,size:12})}),(0,w.jsx)(u.xv,{color:"recommendation",inline:!0,size:"200",weight:"bold",children:(0,b._q)(e)})]})}function T({commentCount:e,commentImpressionTrackerRef:t,comments:i,hasInsight:n,inCommentsImprovedDropdownExp:a,inCommentsPopoverExp:l,isDesktop:r,previewComment:s}){let o=(0,x.ZP)(),{checkExperiment:d}=(0,m.r)(),c=!r&&d("ce_mweb_iterated_comment_module_header").anyEnabled,p=!r&&d("ce_mweb_iterated_comment_module_header").group,{mWebCloseupRedesignEnabled:h}=(0,y.Z)(),_=(0,g.useRef)(null),b=a||l,v=e>1,P=b||"enabled_text_cta"===p||"employees"===p||"enabled_avatar_text_cta"===p,S="enabled_text_avatar_cta"===p,T=c||b,A="aggregatedcomment"===s.type?s.text:s.details||"";A=P?`"${A}" ... `:`"${A}"`;let C=v?o._('view all comments', 'closeupCommentModule.commentModuleContent.cta.multipleComments.popover', 'Call to action to view comments. This is displayed when there are multiple comments on a Pin'):o._('view comment', 'closeupCommentModule.commentModuleContent.cta.singleComment.popover', 'Call to action to view comments. This is displayed when there is a single comment on a Pin'),E=v?o._('View all comments', 'closeupCommentModule.commentModuleContent.cta.multipleComments', 'Call to action to view comments. This is displayed when there are multiple comments on a Pin'):o._('View comment', 'closeupCommentModule.commentModuleContent.cta.singleComment', 'Call to action to view comments. This is displayed when there is a single comment on a Pin'),j=b?C:E;return(0,g.useEffect)(()=>{let e=t?.current,i=_?.current;T&&((e,t)=>{if(!e||!t)return;let i=e?.offsetHeight;if(e?.scrollHeight>i){let i='..." ',n=t.innerText,a=n,l=0,r=n.length;for(;l<=r;){let s=Math.floor((l+r)/2);t.innerText=n.slice(0,s)+i,e.scrollHeight>e.offsetHeight?r=s-1:(l=s+1,a=n.slice(0,s))}return t.innerText=a+i}})(e,i)},[j,t,A,T,_]),(0,w.jsxs)(u.xu,{children:[(0,w.jsxs)(u.xu,{ref:t,dangerouslySetInlineStyle:{__style:{textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2",display:"-webkit-box",color:f.C9x}},overflow:"hidden",children:[!S&&"enabled_text_cta"!==p&&"employees"!==p&&(0,w.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{display:"inline"}},marginEnd:1.5*!b,children:n?(0,w.jsx)(I,{}):!b&&(0,w.jsx)(k,{commentCTA:j,comments:i,inCommentsPopoverExp:l,isDesktop:r,previewComment:s})}),(0,w.jsx)(u.xv,{ref:_,color:"subtle",inline:!0,size:T&&!h?"300":"200",children:A}),P&&(0,w.jsx)(u.xu,{display:"inlineBlock",children:(0,w.jsx)(u.xv,{size:h?"200":"300",weight:"bold",children:j})})]}),S&&(0,w.jsx)(u.xu,{marginTop:.5,children:(0,w.jsx)(k,{commentCTA:j,comments:i,isDesktop:r,previewComment:s})})]})}var A=i(393995);let C=(void 0!==n||(n=i(7881)).hash&&"361dbb7eac9d64408e9e81f7b01b2b75"!==n.hash&&console.error("The definition of 'CloseupCommentModule_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function E({inCommentsImprovedDropdownExp:e,inCommentsPopoverExp:t,onTap:i,pinKey:n,viewParameter:a}){let l=(0,_.lV)(),s=(0,o.HG)(),d=(0,r.Z)(C,n),{checkExperiment:g}=(0,m.r)(),y=!s&&g("ce_mweb_iterated_comment_module_header").group,{aggregatedPinData:f}=d||{},{commentCount:x,entityId:b}=f||{},v=(0,c.v9)(e=>(0,A.Z)(e,{aggregatedPinDataId:b,aggregatedComments:l})),P=v[0],S=P?.type==="aggregatedcomment"?!!P.text:!!P?.details,k=(0,h.Z)(b?{name:"UnifiedCommentsPreviewResource",options:{aggregated_pin_id:b,page_size:"enabled_text_avatar_cta"===y||"enabled_avatar_cta_text"===y?3:1,redux_normalize_feed:!e}}:null).isLoaded&&S,I=(0,p.ZP)({componentType:13696,impressionType:"Comment",loggingId:P?.id,viewParameter:a,viewType:3});return k?(0,w.jsx)(u.iP,{onTap:i,children:(0,w.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:e?12:4,paddingBottom:e?16:4}},children:(0,w.jsx)(T,{commentCount:x??0,commentImpressionTrackerRef:I,comments:v,hasInsight:!1,inCommentsImprovedDropdownExp:!!e,inCommentsPopoverExp:!!t,isDesktop:s,previewComment:P})})}):null}var j=i(625753);let R=(void 0!==a||(a=i(401280)).hash&&"3a8cd51fec23643de121636949bbbcf6"!==a.hash&&console.error("The definition of 'UnifiedCommentModule_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function L({logCommunityViewIntent:e,pinKey:t,viewParameter:i}){let n=(0,r.Z)(R,t),{commentModalConfig:{setIsCommentThreadModalOpen:a}}=(0,j.B)();return(0,w.jsx)(E,{onTap:()=>{a(!0),e()},pinKey:n,viewParameter:i})}function F({inCommentsImprovedDropdownExp:e,inCommentsPopoverExp:t,logCommunityViewIntent:i,pinKey:n,viewParameter:a}){let l=(0,r.Z)(R,n),{setIsCommentThreadExpanded:s}=(0,d.x4)();return(0,w.jsx)(E,{inCommentsImprovedDropdownExp:e,inCommentsPopoverExp:t,onTap:()=>{s?.(!0),i()},pinKey:l,viewParameter:a})}let D=function(e){let t=(0,o.HG)(),{logContextEvent:i}=(0,l.u)(),{inCommentsImprovedDropdownExp:n}=e,a=()=>{i({component:13464,element:11533,event_type:10554,view_type:3}),t&&(0,s.tj)("dweb.unified_comment_module.community_view_intent",{tags:{experimentGroup:n?"improved_dropdown":"popover"}})};return t?(0,w.jsx)(F,{...e,logCommunityViewIntent:a}):(0,w.jsx)(L,{...e,logCommunityViewIntent:a})}},892295:(e,t,i)=>{"use strict";i.d(t,{l6:()=>aD,ZP:()=>aM});var n,a,l,r,s,o,d,c,u,p,m,h,_,g=i(667294),y=i(545007),f=i(616550),x=i(130845),b=i(603383);let v=Object.freeze(["JP"]);var P=i(20256),S=i(47839);i(167912);var w=i(475110),k=i(78039),I=i(586033),T=i(372312),A=i(785893);let C=(void 0!==n||(n=i(511639)).hash&&"9fe338bb0275ffff2818b274fce014af"!==n.hash&&console.error("The definition of 'CloseupMainPinImpression_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);var E=i(760316),j=i(935822),R=i(135518),L=i(278229),F=i(781785),D=i(605987),O=i(233846),M=i(51340);let Z=e=>{if(!e)return null;let{categorizedIngredients:t}=e.recipe;return t&&t.length>0?{...e,categorizedIngredients:t}:null};var z=i(204763),N=i(522539),K=i(50865),B=i(473357),U=i(919703),V=i(606898),H=i(438711),G=i(460632),W=i(581894),$=i(190460),Y=i(992435),X=i(388376);let q=(void 0!==a||(a=i(135520)).hash&&"c6b0de206743312221bd0e0b89d2f0aa"!==a.hash&&console.error("The definition of 'CardSourceDescriptionText_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),J=function(e){let{onUpdate:t,showMore:i,pinKey:n,isArticle:a,showSponsorshipAttribution:l,hasAffiliateLink:r,hasAffiliateProducts:s,instagramPostLink:o,onToggle:d}=e;(0,g.useEffect)(()=>{t?.()},[t]),(0,g.useEffect)(()=>{t?.()},[i,t]);let c=(0,O.ZP)(),u=(0,k.Z)(q,n),{closeupWithinMasonryEnabled:p,peekCloseupEnabled:m}=(0,G.x4)(),{carouselInfo:h}=(0,L.G)(),{closeupUnifiedDescription:_,userMentionTags:y,richMetadata:f,storyPinData:x}=u,b=(_||"").trim(),v=h?.carouselData;if(v){let e=v.carousel_slots??[],t=v.index??0;e[t]&&e[t].details&&(b=e[t].details)}let S=f?.tutorial?.description,w=u.pinAdditionalNote||"",I=`${b}

${w}`;I=b?I:w;let T=(b=w?I:b)&&S&&S.trim()===b,C=b?b.replace(/\s+/g," "):"",E=C=!i&&C&&C.length?(0,H.ZP)(C,a?195:200):C;C&&y&&(E=(0,A.jsx)(D.Z,{description:C,mentionLinkColor:"shopping",pinKey:u,shouldAdjustOffset:!0}));let J=b&&b.length>(a?195:200),Q=null,ee=Z((0,z.Z)((0,N.Z)((0,K.Z)(e)))),et=x?.metadata?.basics;if(et){let e,{keyValueBlocks:t,listBlocks:i}=et;u&&u.domain&&u.link&&(e={domain:u.domain,url:u.link});let n=[];e?.domain&&(n=[...n,e.domain]);let a=(t||[]).map(e=>(0,$.Z)(e.categoryType,e.value,c)).filter(e=>""!==e);a.length>0&&(n=[...n,...a]),(i??[]).forEach(({heading:e,blocks:t})=>{e&&(n=[...n,e]),(t??[]).forEach(e=>{"StoryPinListBlock"===e.__typename&&e.blocks&&(e.blocks??[]).forEach(e=>{"text"in e&&e.text&&(n=[...n,e.text])})})}),Q=(0,Y.Z)(n)}else if(ee){let{prepTime:e,cookTime:t,totalTime:i,servingSummary:n,serves:a}=ee.recipe,l=i||t||e;if(t&&e){let i=t.h||0,n=t.m||0;l={h:i+(e.h||0),m:n+(e.m||0)}}let r=l?(0,V.Z)((0,U.X)(l),c):null,s=u.richMetadata?.recipe?.aggregateRating?.reviewCount;n&&(Q=a?(0,A.jsxs)(P.xv,{inline:!0,size:F.n,children:[a," ",c._('servings', 'closeup.CardSourceDescriptionText.servesLabel', 'Label for servings')]},"recipe"):(0,A.jsx)(P.xv,{inline:!0,size:"200",children:n},"recipe")),r&&(Q=Q?(0,M.nk)("{{ timeLabel }}  {{ description }}",{timeLabel:r,description:Q}):r),"number"==typeof s&&s>0&&(Q=Q?(0,M.nk)(c._('{{ reviewCount }} reviews \xB7 {{ description }}', 'number of reviews on a recipe and the description', 'number of reviews on a recipe and the description'),{reviewCount:s,description:Q}):s);let o=u.richMetadata?.recipe?.aggregateRating?.ratingValue,d=Number(o);Number.isNaN(d)&&(d=0),d>=.25&&(Q=Q?(0,M.nk)("{{ ratings }} {{ description }}",{ratings:(0,A.jsx)(B.Z,{max_rating:u.richMetadata?.recipe?.aggregateRating?.bestRating,rating:o},o),description:Q}):(0,A.jsx)(B.Z,{max_rating:u.richMetadata?.recipe?.aggregateRating?.bestRating,rating:o},o))}if(!C||T)return null;let ei=4;return p?ei=0:m&&(ei=2),b?(0,A.jsxs)(P.xu,{marginBottom:p?0:l&&(r||s)?2:4,marginTop:ei,children:[(0,A.jsxs)(R.Z,{descriptionDir:(0,X.j)(b),children:[(0,A.jsx)(j.Z,{description:b||"",enableAdditionalNoteSpace:""!==w,pinKey:u}),o]}),l&&(0,A.jsx)(P.xu,{marginTop:1,children:(0,A.jsx)(W.Z,{hasAffiliateLink:r,hasAffiliateProducts:s})})]}):(0,A.jsxs)("span",{children:[(0,A.jsx)(P.xv,{color:p?"subtle":void 0,inline:!0,size:"200",children:(0,A.jsx)(P.xu,{dangerouslySetInlineStyle:{__style:{display:"inline"}},"data-test-id":"description",children:Q?(0,M.nk)("{{ recipeInfo }}  {{ description }}",{recipeInfo:Q,description:E}):E})}),J&&!i&&(0,A.jsx)(P.xu,{"data-test-id":"more-button",display:"inlineBlock",marginStart:1,children:(0,A.jsx)(P.iP,{fullWidth:!1,onTap:d,children:(0,A.jsx)(P.xv,{inline:!0,size:"200",weight:"bold",children:c._('More', ' - ', ' -- ')})})})]})},Q=(e,t)=>e.length>300?e:e.length+t.length+3>300?`${e} ${t}...`:`${e} ${t}`,ee=(void 0!==l||(l=i(886268)).hash&&"d6d83b429981e4bc762e3872608eedbd"!==l.hash&&console.error("The definition of 'Description_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function et(e){let[t,i]=(0,g.useState)(!1),{pinKey:n,onUpdate:a,showSponsorshipAttribution:l,hasAffiliateLink:r,hasAffiliateProducts:s,instagramPostLink:o}=e,d=(0,k.Z)(ee,n);if(!d.entityId)return null;let c=!!d.aggregatedPinData,u=!!d.description,p=d.pinAdditionalNote||"",m=!!d.richMetadata?.recipe,h=!!d.richMetadata?.article,_=d.richMetadata?.article?.description,y=!!d.richMetadata?.tutorial,f=h&&!m&&!y;return(0,A.jsx)(g.Fragment,{children:(0,A.jsx)("span",{className:"richPinInformation","data-test-id":"richPinInformation-description",children:u||p||c?(0,A.jsx)(J,{hasAffiliateLink:r,hasAffiliateProducts:s,instagramPostLink:o,isArticle:f,onToggle:()=>i(!0),onUpdate:a,pinKey:d,showMore:t,showSponsorshipAttribution:l}):f&&_&&(0,A.jsx)(P.xu,{marginBottom:3,children:(0,A.jsx)(P.xv,{children:_.split(" ").map(e=>e.trim()).reduce(Q,"")})})})})}var ei=i(947286);function en({mediaAttribution:{author:e,authorUrl:t,ccUrl:i,link:n,mediaType:a,providerName:l}}){let r=(0,O.ZP)(),s=!!(l&&n);if(!e&&!s)return null;let o=s?r._('from {{ provider }}', 'closeup.attribution.imageWithProvider', 'Image source attribution withprovider but no author on pin closeup'):null;return e&&(o="VIDEO"===a?s?r._('Video by {{ author }} on {{ provider }}', 'closeup.attribution.videoWithAuthorProvider', 'Video source attribution on pin closeup'):r._('Video by {{ author }}', 'closeup.attribution.videoWithAuthor', 'Video source attribution on pin closeup when there is an author but no provider'):s?r._('Photo by {{ author }} on {{ provider }}', 'closeup.attribution.photoWithAuthorProvider', 'Photo source attribution on pin closeup'):r._('Photo by {{ author }}', 'closeup.attribution.photoWithAuthor', 'Photo source attribution on pin closeup when there is an author but no providers')),(0,A.jsx)(P.xu,{"data-test-id":"media-attribution",display:"inlineBlock",children:(0,A.jsxs)(P.xv,{color:"default",size:"200",children:[!!o&&(0,A.jsx)(ei.Z,{text:(0,M.nk)(o,{author:(0,A.jsx)(P.rU,{display:"inlineBlock",href:t??"",rel:"nofollow",underline:"hover",children:(0,A.jsx)(P.xv,{size:"200",weight:"bold",children:e})},"author"),provider:s?(0,A.jsx)(P.xu,{display:"inlineBlock",marginEnd:1,children:(0,A.jsx)(P.rU,{display:"inlineBlock",href:n??"",rel:"nofollow",underline:"always",children:l},"provider")}):null})}),i&&(0,A.jsx)(P.rU,{href:i,rel:"nofollow",children:r._('(cc)', 'creative commons link text', 'creative commons link text')})]})})}function ea({attribution:{authorName:e,authorUrl:t,ccUrl:i,providerName:n,url:a},embed:l}){let r=(0,O.ZP)(),s=!!(n&&a);if(!e&&!s)return null;let o=null;return s?o=e?l?.src&&"gif"!==l.type&&"pinstory"!==l.subtype?r._('Video by {{ author }} on {{ provider }}', 'closeup.attribution.videoWithAuthorProvider', 'Video source attribution on pin closeup'):r._('Photo by {{ author }} on {{ provider }}', 'closeup.attribution.photoWithAuthorProvider', 'Photo source attribution on pin closeup'):r._('from {{ provider }}', 'closeup.attribution.imageWithProvider', 'Image source attribution withprovider but no author on pin closeup'):e&&(o=l?.src&&"gif"!==l.type&&"pinstory"!==l.subtype?r._('Video by {{ author }}', 'closeup.attribution.videoWithAuthor', 'Video source attribution on pin closeup when there is an author but no provider'):r._('Photo by {{ author }}', 'closeup.attribution.photoWithAuthor', 'Photo source attribution on pin closeup when there is an author but no providers')),(0,A.jsx)(P.xu,{"data-test-id":"photo-attribution",display:"inlineBlock",children:(0,A.jsxs)(P.xv,{color:"default",size:"200",children:[!!o&&(0,A.jsx)(ei.Z,{text:(0,M.nk)(o,{author:(0,A.jsx)(P.rU,{display:"inlineBlock",href:t??"",rel:"nofollow",underline:"hover",children:(0,A.jsx)(P.xv,{size:"200",weight:"bold",children:e})},"author"),provider:s?(0,A.jsx)(P.xu,{display:"inlineBlock",marginEnd:1,children:(0,A.jsx)(P.rU,{display:"inlineBlock",href:a??"",rel:"nofollow",underline:"always",children:n},"provider")}):null})}),i&&(0,A.jsx)(P.rU,{href:i,rel:"nofollow",children:r._('(cc)', 'creative commons link text', 'creative commons link text')})]})})}let el=(void 0!==r||(r=i(493658)).hash&&"7142df6a7a3c1aee54267c5441d3d50b"!==r.hash&&console.error("The definition of 'CloseupAttributionAndDescription_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),er=e=>{let{isStoryPin:t,pinKey:i,onUpdate:n,instagramPostLink:a}=e,l=(0,k.Z)(el,i),r=l.entityId&&(!!l.attribution?.providerUrl&&!!l.attribution.providerName||!!l.attribution?.authorName),s=l.entityId&&(!!l.mediaAttribution?.link&&!!l.mediaAttribution.providerName||!!l.mediaAttribution?.author),o=null;if(r||s){let{closeupUnifiedDescription:e}=l,t=(e||"").trim()?"{{ credit }}":"{{ credit }}";o=l.mediaAttribution?(0,M.nk)(t,{credit:l.mediaAttribution&&(0,A.jsx)(en,{mediaAttribution:{author:l.mediaAttribution.author,authorUrl:l.mediaAttribution.authorUrl,ccUrl:l.mediaAttribution.ccUrl,link:l.mediaAttribution.link,mediaType:l.mediaAttribution.mediaType,providerName:l.mediaAttribution.providerName}},"article-pin")}):(0,M.nk)(t,{credit:l.attribution&&(0,A.jsx)(ea,{attribution:{authorName:l.attribution.authorName,authorUrl:l.attribution.authorUrl,ccUrl:l.attribution.ccUrl,providerName:l.attribution.providerName,url:l.attribution.url},embed:l.embed&&{type:l.embed.type,src:l.embed.src,subtype:l.embed.subtype}},"article-pin")})}return(0,A.jsxs)(P.xv,{inline:!0,children:[o,!t&&(0,A.jsx)(et,{instagramPostLink:a,onUpdate:n,pinKey:l})]})};var es=i(708095),eo=i(113474);function ed({creatorId:e,children:t}){let{data:i}=(0,eo.Z)({name:"UserResource",options:{field_set_key:"grid_item",user_id:e}});return t(i)}var ec=i(313565),eu=i(158759),ep=i(740195),em=i(967312),eh=i(81945),e_=i(921475);function eg({hasOfficialUser:e,domain:t,hasLinkDomainOfficialUser:i,hasLinkUserWebsiteOfficialUser:n,hasNativeCreator:a,hasThirdPartyPinOwner:l,isPromoted:r,pinnerDomainUrl:s,pinnerDomainVerified:o}){return(n||i||l||e||o&&s===t)&&!r||!!a}let ey=(void 0!==s||(s=i(253027)).hash&&"b640d34fae5bf66634c4dffcbb8ea6d4"!==s.hash&&console.error("The definition of 'useCloseupBodyUtils_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s);function ef(e){let t=(0,k.Z)(ey,e),{checkExperiment:i}=(0,em.r)(),n=i("closeup_attribution_overhaul").anyEnabled,{currentDomain:a}=(0,ec.Z)({carouselData:t.carouselData&&{carouselSlots:t.carouselData.carouselSlots&&t.carouselData.carouselSlots.map(e=>({domain:e.domain,link:e.link})),index:t.carouselData?.index},domain:t.domain}),l=!!t?.isGoLinkless,r=!!t.link&&t.link.startsWith("https://i.pinimg.com"),s=(0,g.useCallback)(e=>!l&&(e&&!r?!!t.link:!t.isEligibleForPdp&&!!(0,eu._S)(a)&&!r),[a,t.isEligibleForPdp,t.link,l,r]),o=(0,ep.Z)({hasPin:!!t,hasPinRichMetadata:!!t.richMetadata,hasPinRichMetadataProducts:!!t.richMetadata?.products,hasPinRichMetadataArticle:!!t.richMetadata?.article,hasPinRichMetadataRecipe:!!t.richMetadata?.recipe,hasPinStoryPinData:!!t.storyPinData}),d=(0,g.useCallback)(e=>e||o,[o]),c=t.linkDomain,u=!!t.nativeCreator,p=!!t.originPinner,m=!!t.thirdPartyPinOwner,h=!!t.linkUserWebsite?.officialUser,_=!!c,y=!!c?.officialUser,f=!!t.creatorClass,x=t.pinner;x=u?t.nativeCreator:_&&c?.officialUser?c.officialUser:t.originPinner||t.pinner;let{pinCreditLink:b,pinCredit:v}=(0,e_.Xe)({hasLinkDomain:_,hasNativeCreator:u,hasOriginPinner:p,pinDomain:t.domain,sourceUserUsername:x?.username??null,sourceUserFullName:x?.fullName??null}),P=!!x,S=!!b&&!!v,w=!!t.closeupAttribution;return{getShowClickthroughLink:s,getViewParameter:d,makeDetailsArgs:(0,g.useCallback)(e=>({isShopTheLook:!!t.aggregatedPinData?.isShopTheLook,showCreatorCard:n?!!t.closeupUnifiedAttribution?.entityId:eg({hasOfficialUser:w,domain:t.domain??"",hasLinkDomainOfficialUser:y,hasLinkUserWebsiteOfficialUser:h,hasNativeCreator:u,hasThirdPartyPinOwner:m,isPromoted:!!t.isPromoted,pinnerDomainUrl:t.pinner?.domainUrl??"",pinnerDomainVerified:!!t.pinner?.domainVerified})||!w&&P&&S,creatorId:n?t.closeupUnifiedAttribution?.entityId??null:t.closeupAttribution?.entityId??x?.entityId??null,showCanonicalComments:!!t.isEligibleForAggregatedComments,showReactions:(0,eh.J6)({board:t.board?.isCollaborative||t.board?.collaboratedByMe?{isCollaborative:t.board.isCollaborative??null,collaboratedByMe:t.board.collaboratedByMe??null}:null,videos:t.videos?.entityId?{entityId:t.videos.entityId}:null,isDownstreamPromotion:t.isDownstreamPromotion,isPromoted:t.isPromoted,storyPinDataId:t.storyPinDataId},e),isCreatorClassPin:f}),[f,y,h,u,m,w,S,P,t.aggregatedPinData?.isShopTheLook,t.board?.collaboratedByMe,t.board?.isCollaborative,t.closeupAttribution?.entityId,t.domain,t.isDownstreamPromotion,t.isEligibleForAggregatedComments,t.isPromoted,t.pinner?.domainUrl,t.pinner?.domainVerified,t.storyPinDataId,t.videos?.entityId,x?.entityId,n,t.closeupUnifiedAttribution?.entityId])}}var ex=i(660098),eb=i(590104),ev=i(263383),eP=i(519664),eS=i(976675),ew=i(154554),ek=i(19963),eI=i(554048),eT=i(95460),eA=i(890360),eC=i(174646),eE=i(181710),ej=i(565194),eR=i(526319),eL=i(422378),eF=i(488879),eD=i(437318),eO=i(751805);function eM({children:e}){let{closeupWithinMasonryEnabled:t,peekCloseupEnabled:i}=(0,G.x4)(),n=8,a=4;return i?(n=0,a=eD.O5):t&&(n=void 0,a=void 0),(0,A.jsx)(P.xu,{marginBottom:n,marginTop:a,children:e})}var eZ=i(757653);let ez=(0,eZ.Z)(()=>i.e(14360).then(i.bind(i,936228)),void 0,e=>936228,"app-www-closeup-duplo-PinRecipeRating"),eN=(0,eZ.Z)(()=>Promise.resolve().then(i.bind(i,942257)),void 0,e=>942257,"app-common-react-components-closeup-CloseupCommentModule-UnifiedCommentModule"),eK=(0,g.lazy)(()=>i.e(95246).then(i.bind(i,258488))),eB=(void 0!==o||(o=i(663276)).hash&&"15807bc974d02364f9d5b356bf1164d9"!==o.hash&&console.error("The definition of 'DefaultMetadata_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),eU=(0,g.memo)(function({pinKey:e,clientTrackingParams:t,inCommentsPopoverExp:i,isStoryPin:n,isDeletedStoryPin:a,viewParameter:l,trafficSource:r,details:s,viewer:o,onClickThrough:d,onCloseupBodyUpdate:c,orbacActingAs:u,outerPaddingSize:p,viewportSize:m,shouldShowPartnerModule:h,trendsData:_,showTrendsOnPinCloseup:y,showPinStats:x,showShoppingModule:b}){let v,S=(0,O.ZP)(),{checkExperiment:w}=(0,em.r)(),{logContextEvent:I}=(0,ek.u)(),{carouselInfo:T}=(0,L.G)(),C=(0,k.Z)(eB,e),{getShowClickthroughLink:F,makeDetailsArgs:D}=ef(C),{creatorId:M,showCreatorCard:Z}=D(!!a),{sideBySideFullWidthCTAEnabled:z}=(0,ev.Z)(),N=F(n),K=(0,eP.Z)({pinKey:C,pinId:C.entityId,viewParameter:l,trafficSource:r}),{closeupUnifiedDescription:B,closeupUserNote:U,commentsDisabled:V,pinAdditionalNote:H}=C,$=B?.trim(),Y=C.storyPinData?.metadata?.basics?.keyValueBlocks?.map(({categoryType:e,value:t})=>({categoryType:e,value:t}))??[],q=Y.length>0,J=(0,eb.Z)(U)||!!C.richMetadata,Q=C.richMetadata?.recipe?.name&&C.richMetadata.recipe.categorizedIngredients&&C.richMetadata.recipe.categorizedIngredients.length>0,{closeupWithinMasonryEnabled:ee,peekCloseupEnabled:et}=(0,G.x4)(),ei=(0,eF.q6)(o,C.pinner?.entityId,u),[en,ea]=(0,g.useState)(!1),el=(0,f.TH)(),{isAuthenticated:eo,userAgent:{isMobile:ec}}=(0,eC.B)(),ep=i&&!V,eh=(0,A.jsx)(eL.q,{children:({hovered:e,onMouseEnter:i,onMouseLeave:n})=>(0,A.jsx)(eI.Z,{clientTrackingParams:t,hovered:e,pinKey:C,trafficSource:r,viewType:3,children:(0,A.jsx)(P.xu,{onMouseEnter:i,onMouseLeave:n,children:(0,A.jsx)(eO.Z,{carouselInfo:T,isLink:N,onClick:K,onTitleCheck:ea,pinKey:C})})})}),e_=()=>Z&&(0,A.jsx)(es.Z,{"data-testid":"closeup-metadata-creator",marginTop:ee?(p??eD.ER)/2:0,paddingBottom:ee?(p??eD.ER)/2:0,paddingRight:8*!ee,children:(0,A.jsx)(ed,{creatorId:M,children:e=>!!e&&(0,A.jsx)(eM,{children:(0,A.jsx)(eS.default,{clientTrackingParams:t,componentType:126,impressionType:"User",input:C,isORBACProfileManager:ei,loggingId:M,officialUser:e,slotIndex:0,viewParameter:l,viewType:3})})})}),eg=w("dweb_closeup_links").anyEnabled,ey=C.isInstagramApi&&C.nativeCreator?.websiteUrl&&C.nativeCreator?.isPrimaryWebsiteVerified&&C.nativeCreator?.isDirectToSiteAllowed,{link:eZ,trackedLink:eU,utmLink:eV}=C||{};if(T&&T.carouselData&&T.carouselData.id){let{carousel_slots:e=[],index:t=0}=T.carouselData;v=e[t]&&e[t].link}let eH=v||(0,eu.Zt)({trackedLink:eU,link:eZ,utmLink:eV})||"",eG=(0,eu.vj)(eH),eW=eH;ey&&eg?eW=C.nativeCreator.websiteUrl:eG||(eW=(0,eR.Z)(eH)??eH);let e$=!eo&&(0,eA.am)(el),eY=!!(C.promoter&&!C.isDownstreamPromotion)&&C.promoter?.entityId===C.nativeCreator?.entityId,{sponsorship:eX,storyPinData:eq,affiliateLink:eJ}=C,eQ=!!eJ,e0=!!eq?.hasAffiliateProducts,e1=(!!eX?.sponsor||e0||eQ)&&(eW||b)&&!eY&&!e$,e2=o.isAuth&&C.originPin?.originPinner?.entityId===o.id,e3=N&&eW&&(e2||!C.isGoLinkless),e6=et&&!ee?p??eD.ER:0,e4=eG?S._('See recipe', 'closeup.defaultMetadata.visitButton', 'Button to visit recipe link on Pin'):S._('Visit site', 'closeup.defaultMetadata.visitButton', 'Button to visit link on Pin'),e5=()=>e3&&(0,A.jsx)(es.Z,{marginTop:et?p??eD.ER:void 0,paddingBottom:et?(p??eD.ER)/2:void 0,paddingRight:e6,children:(0,A.jsx)(P.xu,{"data-test-id":"visit-site-button",children:(0,A.jsx)(ew.Z,{clientTrackingParams:t,color:"gray",fullWidth:z,link:eW,onClickThrough:()=>{eg&&I({event_type:102,element:162,component:4,aux_data:{is_claimed_domain:ey}}),d()},pinKey:C,text:e4})})});return(0,A.jsxs)(P.xu,{marginTop:ee?4:void 0,children:[h&&(n||ee)&&(0,A.jsx)(es.Z,{paddingRight:(p??eD.ER)/2,children:(0,A.jsx)(P.xu,{"data-test-id":"PartnerModule",width:"100%",children:(0,A.jsx)(eT.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,A.jsx)(eE.Z,{children:(0,A.jsx)(eK,{borderStyle:ex.te,isStoryPin:n,pinKey:C,showPinStats:x,trendsData:y?_?.data?.results:null,viewportSize:m})})})})}),(0,A.jsxs)(P.xu,{alignItems:ee?"start":void 0,display:ee?"flex":void 0,justifyContent:ee?"between":void 0,children:[(0,A.jsxs)(P.kC.Item,{flexBasis:ee&&e3?"77%":"100%",children:[!en&&(0,A.jsx)(es.Z,{paddingRight:ee?void 0:p,children:(0,A.jsx)(P.xu,{color:"light","data-test-id":"closeup-title",display:"inlineBlock",children:eh})}),et&&e_(),(0,A.jsx)(P.xu,{direction:et?"column":void 0,display:et?"flex":void 0,height:et?"100%":void 0,children:(0,A.jsxs)(es.Z,{paddingRight:p,children:[q&&(0,A.jsx)(P.xu,{marginTop:ee?eD.O5:4,children:(0,A.jsx)(E.Z,{hasMetadataTemplateType:!!C.storyPinData?.metadata?.templateType,keyValueBlocks:Y})}),!q&&!!Q&&(0,A.jsx)(P.xu,{marginTop:ee?eD.O5:void 0,tabIndex:0,children:(0,A.jsx)(ez,{boldText:!1,fallback:(0,A.jsx)(P.xH,{accessibilityLabel:S._('Loading Pin recipe rating', 'closeupDefaultMetadata.PinRecipeRating.loading.label', 'Spinner indicates pin recipe rating is loading'),show:!0}),pinKey:C,textSize:"300"})}),(0,A.jsxs)(g.Fragment,{children:[!!(n&&$&&J)&&(0,A.jsx)(P.xu,{marginTop:ee?eD.O5:8,width:ee?"100%":void 0,children:(0,A.jsx)(R.Z,{descriptionDir:(0,X.j)($),children:(0,A.jsx)(j.Z,{description:$||"",pinKey:C})})}),!n&&(C.attribution||$||H)&&ee&&(0,A.jsx)(P.kC,{alignItems:"baseline",direction:"row",justifyContent:"start",children:(0,A.jsx)(P.xu,{marginBottom:ee&&!Q?eD.O5:void 0,marginTop:ee?eD.O5:void 0,width:"100%",children:(0,A.jsx)(er,{instagramPostLink:(0,A.jsx)(ej.Z,{closeupLinkEnabled:eg,nativeCreatorCloseupLinkEligible:!!ey,peekCloseupEnabled:et,uriComponent:eH}),isStoryPin:n,onUpdate:c,pinKey:C})})}),e1&&(ec||ee)&&(0,A.jsx)(P.xu,{marginTop:2,children:(0,A.jsx)(W.Z,{hasAffiliateLink:eQ,hasAffiliateProducts:e0})})]})]})}),ee&&e_()]}),ee&&(0,A.jsx)(P.xu,{alignItems:"stretch",display:z?"block":"flex",flex:"grow",justifyContent:"end",children:e5()})]}),et&&e5(),ep&&(0,A.jsx)(eN,{inCommentsPopoverExp:i,pinKey:C,viewParameter:l}),(0,A.jsx)(g.Fragment,{children:s})]})});function eV(e){return(0,A.jsx)(eU,{...e})}var eH=i(216517),eG=i(161772),eW=i(618620),e$=i(169006),eY=i(708446),eX=i(896403);let eq=(0,g.lazy)(()=>i.e(34209).then(i.bind(i,763378))),eJ=(0,g.memo)(function({inCommentsImprovedDropdownExp:e,inCommentsPopoverExp:t,isCommentSectionOpen:i,isStoryPin:n,isVideoPin:a,isDeletedStoryPin:l,orbacActingAs:r,orbacSubjectId:s,onCommentSectionClick:o,onCloseupBodyUpdate:d,outerPaddingSize:c=eD.g9,pin:u,viewer:p,shouldShowStlCarouselForOwnPin:m,storyPinTaggedProducts:h=[],taggedProducts:_,closeupContext:y,isLoadingNewlyCreatedComment:x,viewParameter:b,detailsScrollContainerRef:v}){let{makeDetailsArgs:S}=ef({type:"deprecated",data:u}),{checkExperiment:w}=(0,em.r)(),{isShopTheLook:k,showCanonicalComments:I}=S(!!l),T=(0,O.ZP)(),C=(0,f.TH)(),{isAuthenticated:E}=(0,eC.B)(),j=w("dweb_closeup_links").anyEnabled,R=u.is_instagram_api&&u.native_creator?.website_url&&u.native_creator?.is_primary_website_verified,{link:L,utm_link:F,tracked_link:D}=u,M=(0,eu.Zt)({utmLink:F,link:L,trackedLink:D}),B=Z((0,z.Z)((0,N.Z)((0,K.Z)({pin:u})))),U=(_||[]).filter(e=>(function(e){if("pin_tag"===e.type){let{x_percent:t,y_percent:i}=e;if(t>0&&t<=100&&i>0&&i<=100)return!0}return!1})(e)),V=(0,eF.q6)(p,u.pinner?.id,r),{closeupWithinMasonryEnabled:H,peekCloseupEnabled:G}=y,$=!E&&(0,eA.am)(C),Y=!!(u.promoter&&!u.is_downstream_promotion)&&u.promoter?.id===u.native_creator?.id,{sponsorship:X,story_pin_data:q,affiliate_link:J}=u,Q=!!J,ee=!!q?.has_affiliate_products,et=(!!X||ee||Q)&&!Y&&!$,ei=(u.aggregated_pin_data?.comment_count??0)+(u.aggregated_pin_data?.did_it_data?.images_count??0),en=!l&&I&&(e?!u.comments_disabled:!t),ea=(e?!!ei:!G)||(u.aggregated_pin_data?.comment_count??0)>0,el=!n&&(!((u.rich_summary?.products??[]).length||(u.rich_metadata?.products??[]).length)&&k&&U.length>0||m)&&!a,eo=n&&h&&h.length>0,ed=(0,e$.Z)({pinKey:{type:"deprecated",data:u},orbacActingAs:r,viewer:p}),{isEligibleForStaticImageIdeaPin:ec}=(0,eY.Z)(u.story_pin_data_id),ep=ec&&h&&h.length>0,{paddingLeft:eh,paddingRight:e_,marginTop:eg,marginBottom:ey}=H?{paddingLeft:0,paddingRight:0,marginTop:0,marginBottom:e&&en?0:2}:G?{paddingLeft:0,paddingRight:c/2,marginTop:2,marginBottom:2}:{paddingLeft:c/2,paddingRight:c,marginTop:10,marginBottom:6},ex=u.favorited_by_me?T._('Remove from favorites', 'closeup.metadataDetails.removeFromFavorites', 'Text for button allowing users to unfavorite a saved Pin'):T._('Add to favorites', 'closeup.metadataDetails.addToFavorites', 'Text for button allowing users to favorite a saved Pin'),eb=[...el||eo||ep?[(0,A.jsx)(es.Z,{paddingLeft:H?void 0:c/2,paddingRight:H?void 0:c,children:(0,A.jsx)(eT.Z,{name:"SafeSuspense_CloseupBody_StlCloseupModule",children:(0,A.jsx)(eE.Z,{children:(0,A.jsx)(eq,{closeupImageSignature:u.image_signature??"",isOwnCreatedPin:m,pin:u,pinId:u.id,taggedObjects:eo||ep?h:U,type:el?"stl":"story",viewParameter:b})})})},"closeupStlModuleMetadataPadding")]:[],...B?[(0,A.jsx)(es.Z,{paddingLeft:0,paddingRight:H?void 0:c/2,children:(0,A.jsx)(eX.Z,{recipeProps:B})},"closeupRecipeMetadataPadding")]:[],...!l&&ed?[(0,A.jsx)(es.Z,{paddingRight:H?void 0:c/2,children:(0,A.jsxs)(P.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:2*!H,marginTop:2*!H,children:[H?(0,A.jsx)(P.xv,{size:"300",weight:"bold",children:ex}):(0,A.jsx)(P.xv,{weight:"bold",children:ex}),(0,A.jsx)(eG.Z,{pinKey:{type:"deprecated",data:u}})]})},"closeupFavoriteBarMetadataPadding")]:[]];return(0,A.jsx)(g.Fragment,{children:(0,A.jsxs)(P.kC,{alignItems:"stretch","data-testid":"closeup-metadata-details-flex",direction:"column",flex:"grow",height:G?"100%":void 0,justifyContent:"start",children:[H?null:(0,A.jsxs)(es.Z,{"data-testid":"closeup-metadata-details",paddingLeft:H?void 0:G?0:c/2,paddingRight:H?void 0:c/2,children:[(0,A.jsx)(P.kC,{alignItems:"baseline",direction:"row",justifyContent:"start",children:(0,A.jsx)(P.xu,{marginTop:G?void 0:2,width:"100%",children:(0,A.jsx)(er,{instagramPostLink:(0,A.jsx)(ej.Z,{closeupLinkEnabled:j,nativeCreatorCloseupLinkEligible:!!R,peekCloseupEnabled:G,uriComponent:M}),isStoryPin:n,onUpdate:d,pinKey:{type:"deprecated",data:u}})})}),et&&!H&&(0,A.jsx)(W.Z,{hasAffiliateLink:Q,hasAffiliateProducts:ee})]}),(0,A.jsx)(g.Fragment,{children:eb.map((e,t)=>(0,A.jsxs)(g.Fragment,{children:[e,H&&(0,A.jsx)(P.xu,{marginBottom:2,marginTop:2,width:"100%",children:(0,A.jsx)(eW.Z,{show:!!(en&&ea||t<eb.length-1),surface:"closeup-metadata-details"})})]},`detailFragment-${e.key}`))}),!eb.length&&!t&&(0,A.jsx)(P.xu,{marginBottom:2,marginTop:en&&ea?2:0,width:"100%",children:(0,A.jsx)(eW.Z,{show:H&&en&&ea,surface:"closeup-metadata-details"})}),en&&(0,A.jsx)(eT.Z,{name:"CanonicalCard",children:(0,A.jsx)(es.Z,{paddingLeft:eh,paddingRight:e_,children:(0,A.jsx)(P.xu,{marginBottom:ey,marginTop:eg,children:(0,A.jsx)(eH.Z,{aggregatedPinId:u.aggregated_pin_data?.id,closeupAttributionId:u.closeup_attribution?.id,closeupAttributionUsername:u.closeup_attribution?.username,commentCount:u.aggregated_pin_data?.comment_count??0,commentsDisabled:u.comments_disabled,inCommentsImprovedDropdownExp:e,isCommentSectionOpen:i,isLoadingNewCreatedComment:x,isORBACProfileManager:V,isShopTheLook:k,isVideo:!!u.videos?.video_list,onCommentSectionClick:o,orbacSubjectId:s,photoCount:u.aggregated_pin_data?.did_it_data?.images_count??0,pinId:u.id,pinKey:{type:"deprecated",data:u},pinnerId:u.pinner?.id,scrollContainerRef:v,shouldShowHeading:ea,storyPinDataId:u.story_pin_data?.id,viewParameter:b})})})})]})})});function eQ(e){return(0,A.jsx)(eJ,{...e})}var e0=i(414445);function e1({maxHeight:e,pin:t,showShoppingModule:i,trafficSource:n,viewParameter:a}){let l={height:"48px",padding:"80px 4px 16px 4px",pointerEvents:"none",transition:"opacity 0.1s ease-in-out",width:"100%",zIndex:1},[r,s]=(0,g.useState)(!1),[o,d]=(0,g.useState)(!0),c=(0,g.useRef)(null),u=()=>{let e=c.current;if(!e)return;let{scrollTop:t,scrollHeight:i,clientHeight:n}=e;s(0!==t),d(t+n!==i)};return(0,g.useEffect)(()=>{let e=c.current;if(e)return e.addEventListener("scroll",u),()=>{e.removeEventListener("scroll",u)}},[]),i&&(0,A.jsxs)(P.xu,{ref:c,dangerouslySetInlineStyle:{__style:{borderLeft:ex.tc}},"data-test-id":"peek-variant-shopping-module-container",height:"auto",maxHeight:e,overflow:"scrollY",children:[(0,A.jsx)(P.xu,{dangerouslySetInlineStyle:{__style:{...l,background:"linear-gradient(0deg, rgba(255, 255, 255, 0.00) 0%, #FFF 100%)",opacity:+!!r}},"data-test-id":"peek-variant-top-gradient",position:"absolute",top:!0}),(0,A.jsx)(e0.Z,{moduleWidth:ex.LV,pinKey:{type:"deprecated",data:t},trafficSource:n,viewParameter:a}),(0,A.jsx)(P.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...l,background:"linear-gradient(180deg, rgba(255, 255, 255, 0.00) 0%, #FFF 100%)",opacity:+!!o}},position:"absolute"})]})}var e2=i(755090),e3=i(344500);let e6=e3.cI+16,e4=`calc(100vh - ${e6}px)`;function e5(e=100){let[t,i]=(0,g.useState)(e4),n=(0,g.useRef)(null),a=`calc(${e??"100"}vh - ${e6}px)`;return(0,e2.Z)(()=>{if(!window)return;let t=window.innerHeight-e6,l=n.current?.clientHeight||0;l>t*(e??100)/100&&(a=l.toString()),i(t>l?a:l)}),{descriptionContentMaxHeight:t,visualContentContainerRef:n}}function e8(){let[e,t]=(0,g.useState)(""),i=(0,g.useRef)(null),n=(0,g.useRef)(null),a=(0,g.useRef)(null),l=(0,g.useRef)(null);return(0,g.useEffect)(()=>{let t=()=>{e&&i.current&&i.current.handleEgSurveyClick(e)};return window.addEventListener("focus",t),()=>window.removeEventListener("focus",t)},[e]),{clickthroughComponentForSurvey:e,setClickthroughComponentForSurvey:t,webLinkSurveyRef:i,imageContainerRef:n,legoLinkClickthroughAnchorRef:a,maybeLinkRef:l}}var e7=i(839117),e9=i(594735),te=i(651646),tt=i(764271),ti=i(655163),tn=i(401587),ta=i(219308),tl=i(896798),tr=i(297934),ts=i(468318),to=i(358410),td=i(581288),tc=i(827491),tu=i(719311);let tp=(0,g.lazy)(()=>i.e(29273).then(i.bind(i,929273))),tm=(0,g.lazy)(()=>i.e(83437).then(i.bind(i,183437)));function th({handleImageClickThrough:e,imageContainerRef:t,isStoryPin:i,isWideVideo:n,onSaveButtonClick:a,pin:l,setClickthroughComponentForSurvey:r,showRepinOnInitialRender:s,trafficSource:o,viewParameter:d,viewParameterType:c,visualContentContainerRef:u={current:null}}){let[p,m]=(0,g.useState)(!1),{previous:h}=(0,ts.ou)(),_=(0,G.x4)(),y=(0,tc.Z)(),f=(0,L.G)(),x=(0,tr.Z)(),{getViewParameter:b}=ef({type:"deprecated",data:l}),v=(0,ta.Z)(),S=0===h.length,{imgSrc:k,video:I}=f,{isCloseupMediaViewerEnabled:T}=(0,tt.Z)({isShufflePin:!!l?.shuffle}),{executeWithViewTransition:C}=(0,ti.Z)({_enableViewTransitions:T}),E=(0,w.Z)({showProductDetailPage:!!l.is_eligible_for_pdp}),{anyEnabled:j}=(0,to.Z)(),R=()=>{m(e=>!e)},F=()=>{m(!1)},D=e=>({gridDescription:l.description,imageSrc:e,isFlyoutOpen:p,onFlyoutDismiss:F,onToggleFlyout:R,pinId:l.id}),{clientTrackingParams:O,paneWidth:M,closeupWithinMasonryEnabled:Z,peekCloseupEnabled:z,setIsCloseupMediaViewerOpen:N}=_,{fiftyPercentWidth:K}=(0,ex.Re)(),{maxHeight:B}=(0,te.Z)({pinKey:{type:"deprecated",data:l}}),U=(0,g.useCallback)(()=>{e&&e(),r("imageContainer")},[e,r]);if(i)return null;let{domain:V,music_attributions:H,pinner:W,should_mute:$}=l,Y=!!V&&!!l.link&&!l.link.startsWith("https://i.pinimg.com"),X=()=>{v({aux_data:{image_signature:l.image_signature},component:128,event_type:101,element:T?15864:15865,view_type:3}),C(()=>{N(!0)})},q=(0,eF.q6)(x,W?.id,y);return(0,A.jsxs)(P.xu,{ref:u,dangerouslySetInlineStyle:{__style:{containerType:j?"inline-size":"normal",display:z||E?"flex":"block",height:z||E?"100%":void 0}},"data-test-id":"visual-content-container",children:[(0,A.jsx)(tn.Z,{id:"ElementUIStateController",children:(0,A.jsx)(eL.q,{children:({hovered:e,onMouseEnter:i,onMouseLeave:a})=>(0,A.jsxs)(P.xu,{alignSelf:z||E?"center":void 0,direction:Z?"column":void 0,display:"flex",justifyContent:"center",maxHeight:E?void 0:B,maxWidth:K,onMouseEnter:i,onMouseLeave:a,position:"relative",width:"100%",children:[I&&H?.length!==0&&(0,A.jsx)(P.xu,{alignItems:"center","data-test-id":"music-attribution",display:"flex",justifyContent:"center",marginTop:6,overflow:"hidden",paddingY:8,position:"absolute",top:!0,width:M,zIndex:td.Ls,children:(0,A.jsx)(tn.Z,{id:"MusicAttribution",children:(0,A.jsx)(e7.Z,{musicAttributions:H,shouldMute:!!$})})}),(0,A.jsx)(tn.Z,{id:"VisualContent",children:(0,A.jsx)(e9.Z,{clientTrackingParams:O,closeupIsFirstPageInHistoryStack:S,flyoutShareProps:D(k),handleMediaButtonClick:X,imageContainerRef:t,isHovered:e,isORBACProfileManager:q,isWideVideo:n,onImageClick:U,pin:l,shouldPadImage:!1,showDomainLink:Y,trafficSource:o,viewParameter:b(c)})}),l&&l.showFeedback&&(0,A.jsx)(tn.Z,{id:"VisualContentObscuredOverlay",children:(0,A.jsx)(eE.Z,{children:(0,A.jsx)(tp,{pin:l})})})]})})}),(0,A.jsx)(P.mh,{zIndex:tu.lI,children:(0,A.jsx)(tn.Z,{id:"ExperienceTooltip",children:(0,A.jsx)(tl.Qp,{anchor:u.current,experienceIds:[506204],flyoutSize:"md",forceDirection:!Z,idealDirection:Z?"right":"down",placementId:12,showCaret:!0,textWeight:"normal"})})}),T&&(0,A.jsx)(eT.Z,{name:"SafeSuspense_CloseupImageOverlay_MediaViewer",children:(0,A.jsx)(tn.Z,{id:"CloseupMediaViewer",children:(0,A.jsx)(eE.Z,{children:(0,A.jsx)(tm,{flyoutShareProps:D(k),onClose:({isExitButton:e,isClick:t})=>{v({aux_data:{image_signature:l.image_signature},component:128,event_type:t?101:97,element:e?15867:15866,view_type:3}),C(()=>{N(!1)})},onImageClick:()=>{e&&e()},onSaveButtonClick:a,pin:l,rounding:24,showRepinOnInitialRender:s,trafficSource:o,viewParameter:d})})})})]})}var t_=i(182997),tg=i(299537);let ty={__style:{marginBottom:"0",marginTop:"0",maxWidth:eD.KP,minWidth:eD.Gg}},tf=(0,g.memo)(function({children:e,isWideVideo:t}){let{showCloseupContentRight:i,maxWidth:n,paneWidth:a,peekCloseupEnabled:l,closeupWithinMasonryEnabled:r,viewportSize:s}=(0,G.x4)(),{maxHeight:o}=(0,ex.Re)(),{mainImage:d}=(0,L.G)(),{peekRedesignFastFollowsEnabled:c}=(0,ev.Z)(d),u=i||t?n:a;return u=r&&"sm"!==s||l?void 0:u,r?(0,A.jsx)(P.xu,{"data-test-id":"closeup-lego-container",height:"100%",children:e}):(0,A.jsx)(P.xu,{"data-test-id":"closeup-lego-container",display:"flex",height:"100%",maxHeight:c?void 0:o,maxWidth:u,position:"relative",rounding:8,width:"100%",children:(0,A.jsx)("div",{onClick:e=>{e.stopPropagation()},style:{display:"flex"},children:(0,A.jsx)(P.xu,{dangerouslySetInlineStyle:{__style:{cursor:"auto"}},display:"flex",children:(0,A.jsx)(P.xu,{dangerouslySetInlineStyle:t?ty:{},display:"flex",children:e})})})})});function tx(e){return(0,A.jsx)(tf,{...e})}var tb=i(622556),tv=i(708307),tP=i(345617),tS=i(992114);let tw=(0,eZ.Z)(()=>Promise.all([i.e(69965),i.e(50714),i.e(92982)]).then(i.bind(i,184290)),{ssr:!1},e=>184290,"ChangeBoardModalCommon"),tk=(0,eZ.Z)(()=>i.e(21177).then(i.bind(i,905069)),void 0,e=>905069,"CloseupActionBarCommon"),tI=(0,eZ.Z)(()=>i.e(46185).then(i.bind(i,998533)),void 0,e=>998533,"app-common-react-components-closeup-LeadGen-LeadGenCloseupBodyContent"),tT=(0,eZ.Z)(()=>i.e(68357).then(i.bind(i,900095)),void 0,e=>900095,"app-common-react-components-closeup-CloseupBody-CloseupInlineCommentComposer"),tA=(0,g.lazy)(()=>i.e(34108).then(i.bind(i,934108))),tC=({children:e,metadataContainerRef:t,closeupWithinMasonryEnabled:i})=>i?(0,A.jsx)(P.xu,{ref:t,width:"100%",children:e}):(0,A.jsx)(g.Fragment,{children:e}),tE=(0,g.memo)(({children:e,clientTrackingParams:t,pinKey:i,pinImageUrl:n,closeupNavigationType:a})=>{let l=(0,k.Z)(C,i),r=(0,w.Z)({showProductDetailPage:!!l.isEligibleForPdp}),s=(0,g.useMemo)(()=>l,[l]),o=(0,T.Z)(s),{entityId:d}=l,c=(0,g.useMemo)(()=>o(),[o]),u=(0,g.useMemo)(()=>l.isEligibleForPdp?c:{},[c,l.isEligibleForPdp]),p=(0,g.useMemo)(()=>({imageURL:n,clientTrackingParams:t}),[t,n]),m=(0,g.useMemo)(()=>({pin_id:d}),[d]);return(0,A.jsx)(I.Fw,{clientTrackingParams:t,closeupImpressionType:13,closeupNavigationType:a,componentType:85,contextLogData:u,impressionAuxFields:p,impressionType:"Pin",loggingId:d,slotIndex:-1,viewData:m,viewType:3,children:({impressionTrackerRef:t})=>(0,A.jsx)(P.xu,{ref:t,"data-test-id":"closeup-visual-container",width:r?"100%":void 0,children:e})})}),tj=(0,g.memo)(th);function tR({isWideVideo:e,didShortClickThrough:t,webLinkSurveyState:{webLinkSurveyRef:i,imageContainerRef:n,legoLinkClickthroughAnchorRef:a,maybeLinkRef:l},pin:r,outerBodyStyle:s,inCommentsImprovedDropdownExp:o,inCommentsPopoverExp:d,isEligibleForPinReactions:c,isStoryPin:u,trafficSource:p,visualContentContainer:m,isCloseupMaximized:h,outerPaddingSize:_,isInStream:x,metadataContainerRef:b,onClickThrough:v,viewParameter:S,metadata:k,viewer:I,orbacSubjectId:T,setIsLoadingNewlyCreatedComment:C=()=>{},descriptionContentMaxHeight:E,marginBottom:j=0,isDeletedStoryPin:R,onSaveButtonClick:L,showRepinOnInitialRender:F,goBack:D,onUpdate:M,routePush:Z,closeupActionBarMaxWidth:z,visualContentContainerRef:N,showPDPComments:K,actionBarContainerRef:B}){let{descriptionPaneWidth:U,viewportSize:V,clientTrackingParams:H,closeupWithinMasonryEnabled:W,peekCloseupEnabled:$,showCloseupContentRight:Y}=(0,G.x4)(),X=(0,y.v9)(({changeBoardFromToast:e})=>e)||{},q=(0,e0.F)(r.id),{makeDetailsArgs:J}=ef({type:"deprecated",data:r}),{showCanonicalComments:Q}=J(!!R),ee=q&&0!==q.length,et=(0,O.ZP)(),ei=(0,f.k6)(),en=(0,g.useRef)(null),{setCloseupBodyWidth:ea}=(0,tg.K)(),el=(0,g.useCallback)(()=>{let e=b.current;e&&ea(t=>{let i=e.offsetWidth;return t!==i?i:t})},[b,ea]);(0,tP.Z)(el,b);let er=(0,tc.Z)(),{is_eligible_for_aggregated_comments:es,pinner:eo}=r,ed=(0,eF.q6)(I,eo?.id,er),ec=r.comments_disabled?0:(r.aggregated_pin_data?.comment_count??0)+(r.aggregated_pin_data?.did_it_data?.images_count??0),eu=!(ed&&!T)&&(!r.is_eligible_for_pdp||!!K)&&!r.comments_disabled&&!!es&&!(o||d),ep=!!r.promoted_is_lead_ad,em=0!==Object.keys(r).length,eh=N?.current?.clientHeight||0,[e_,eg]=(0,g.useState)(!0);(0,g.useEffect)(()=>{let e=(0,t_.Z)(()=>{W&&eg(0===window.scrollY)},50);return window.addEventListener("scroll",e,{passive:!0}),()=>{window.removeEventListener("scroll",e)}},[W]),(0,e2.Z)(()=>{r.closeup_attribution?.id&&(0,tS.nP)("web.closeup.has_attribution.yes"),(0,tS.nP)("web.closeup.has_attribution.no")});let ey=(0,g.useMemo)(()=>(0,tv.Z)(ei,p),[ei,p]),eb=(0,g.useMemo)(()=>(r.images&&r.images["236x"]?.url)??"",[r.images]),ev=(0,g.useMemo)(()=>({type:"deprecated",data:r}),[r]),eP=(0,A.jsx)(tn.Z,{id:"CloseupMainPinImpressionAuthDesktop",children:(0,A.jsx)(tE,{clientTrackingParams:H,closeupNavigationType:ey,pinImageUrl:eb,pinKey:ev,children:m})}),{fiftyPercentWidth:eS,fiftyPercentHeight:ew}=(0,ex.Re)(),ek=e&&!W?eD.KP:void 0;ek=$?eS:ek;let eI=(u||W)&&!$?void 0:E;$&&(eI="sm"===V?ew:Math.max(ex.ql,N?.current?.clientHeight??0));let eA={...s,boxShadow:"unset",border:ex.tc,overflow:"clip"},eC=o?Q&&!r.comments_disabled:!d,ej=W&&_&&!eC?_:0,eR=(0,w.Z)({showProductDetailPage:!!r.is_eligible_for_pdp}),eL=(0,g.useMemo)(()=>(0,A.jsx)(tn.Z,{id:"CloseupInlineCommentComposer",children:(0,A.jsx)(tT,{aggregatedPinDataId:r.aggregated_pin_data?.id,closeupAttributionId:r.closeup_attribution?.id,commentCount:ec,disablePhotoCommentSelection:!!r.done_by_me,inCommentsImprovedDropdownExp:o,isEligibleForPinReactions:c,isPDP:r.is_eligible_for_pdp,orbacSubjectId:T,pinId:r.id,privatePin:"secret"===r.privacy,reactionByMe:r.reaction_by_me||0,reactionCounts:r.reaction_counts,setIsLoadingNewlyCreatedComment:C,showCommentComposer:eu,showReactBackground:!W,storyPinDataId:r.story_pin_data_id,viewParameter:S})}),[r.aggregated_pin_data?.id,r.closeup_attribution?.id,ec,r.done_by_me,o,c,r.is_eligible_for_pdp,T,r.id,r.privacy,r.reaction_by_me,r.reaction_counts,C,eu,W,r.story_pin_data_id,S]),eO=(0,g.useMemo)(()=>(!W||eR)&&eu?Y?(0,A.jsx)(P.Le,{bottom:0,children:eL}):eL:null,[W,eR,eu,Y,eL]);return(0,A.jsx)(g.Fragment,{children:(0,A.jsxs)(P.xu,{height:"100%",marginBottom:j,position:"relative",width:"100%",children:[(0,A.jsx)(tx,{isWideVideo:e,children:(0,A.jsxs)(P.xu,{display:W?void 0:"flex",position:"relative",children:[!t&&(0,A.jsx)(eE.Z,{children:(0,A.jsx)(tn.Z,{id:"WebLinkSurvey",children:(0,A.jsx)(tA,{ref:i,imageContainerRef:n,legoLinkClickthroughAnchorRef:a,maybeLinkRef:l,pin:{aggregatedPinData:r.aggregated_pin_data&&{isShopTheLook:r.aggregated_pin_data.is_shop_the_look},board:r.board&&{entityId:r.board.id,owner:r.board.owner&&{entityId:r.board.owner.id??""}},entityId:r.id,imageSignature:r.image_signature,isDownstreamPromotion:r.is_downstream_promotion,isPromoted:r.is_promoted,link:r.link,recommendationReason:r.recommendation_reason&&{reason:r.recommendation_reason.reason}}})})}),(0,A.jsx)(P.xu,{color:em?"default":"transparent",dangerouslySetInlineStyle:{__style:{...eA}},"data-test-id":"closeup-body-style",display:"flex",paddingX:W&&!eR?4:void 0,position:"relative",children:(0,A.jsx)(tC,{closeupWithinMasonryEnabled:W,metadataContainerRef:b,children:(0,A.jsx)(P.kC,{alignItems:"stretch",height:W?"100%":void 0,justifyContent:"start",children:(0,A.jsx)(tb.Z,{children:em?(0,A.jsx)(g.Fragment,{children:r.promoted_is_lead_ad?(0,A.jsx)(tn.Z,{id:"LeadGenCloseupBodyContent",children:(0,A.jsx)(tI,{clientTrackingParams:H,pin:r,data:!!r,goBack:D,onUpdate:M,viewParameter:S,onSaveButtonClick:L,showRepinOnInitialRender:F,actionBarContainerRef:B,trafficSource:p,onClickThrough:v,isStoryPin:u,descriptionPaneWidth:U,metadataContainerRef:b,visualContentContainer:m,visualContentContainerHeight:eh,showLeadPinStdBeta:ep})}):(0,A.jsxs)(g.Fragment,{children:[(0,A.jsxs)(P.xu,{alignContent:"center",alignItems:"stretch",alignSelf:"center",dangerouslySetInlineStyle:{__style:eR?{overflowY:"auto",overflowX:"hidden"}:{}},direction:"column",display:"flex",justifyContent:"start",maxHeight:eR?eD.Id:void 0,width:"100%",children:[!eR&&W&&(0,A.jsx)(P.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...!e_?eD.fF:{},borderTop:e_?void 0:ex.tc,position:"sticky",top:"80px"}},"data-test-id":"closeup-action-bar",display:"flex",justifyContent:"center",marginEnd:-4,marginStart:-4,overflow:"visible",paddingX:4,zIndex:tu.$8,children:(0,A.jsx)(tn.Z,{id:"CloseupActionBar",children:(0,A.jsx)(tk,{actionBarContainerRef:B,goBack:D,gridDescription:r.description??"",inCommentsImprovedDropdownExp:o,inCommentsPopoverExp:d,isDeletedStoryPin:!!R,isEligibleForAggregatedComments:!!es,isEligibleForPinReactions:c,isOnSecretBoard:!1,isStoryPin:u,onEditSubmit:M,onSaveButtonClick:L,outerPaddingSize:_,pin:r,routePush:Z,showRepinOnInitialRender:F,viewParameter:S})})}),eP]}),(0,A.jsx)(P.xu,{dangerouslySetInlineStyle:{__style:{containerType:eR&&Y?"size":void 0,overflow:$&&"sm"===V?"scroll":void 0,flexBasis:eR?"70%":void 0}},"data-test-id":"description-content-container",direction:"column",display:"flex",flex:"grow",height:h?0:"100%",maxHeight:eR?eD.Id:eI,maxWidth:ek,minHeight:eR?eD.dm:void 0,paddingX:eR?4:void 0,width:e||W?void 0:U,children:r?(0,A.jsxs)(g.Fragment,{children:[(!x&&!W||eR)&&(0,A.jsx)(eT.Z,{name:"SafeSuspense_CloseupBody_CloseupActionBar",children:(0,A.jsx)(tk,{actionBarContainerRef:en,goBack:D,gridDescription:r.description??"",inCommentsImprovedDropdownExp:o,inCommentsPopoverExp:d,isDeletedStoryPin:!!R,isEligibleForAggregatedComments:!!es,isEligibleForPinReactions:c,isOnSecretBoard:!1,isStoryPin:u,maxWidth:z,onEditSubmit:M,onSaveButtonClick:L,outerPaddingSize:_,pin:r,routePush:Z,showRepinOnInitialRender:F,viewParameter:S})}),(0,A.jsx)(P.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:W?void 0:$?ex.Gd:eD.g9,paddingBottom:W?ej:void 0}},direction:"column",display:"flex",flex:"grow",children:(0,A.jsxs)(P.xu,{ref:W?void 0:b,alignItems:"stretch",direction:"column",display:"flex",flex:"grow",justifyContent:"start",overflow:W||eR?void 0:"auto",children:[(0,A.jsx)(P.xu,{alignItems:"stretch",dangerouslySetInlineStyle:{__style:{rowGap:W?4*eD.O5:void 0}},direction:"column",display:"flex",height:$||eR?"100%":void 0,justifyContent:"start",width:$?"100%":void 0,children:k}),W&&!eR&&eu&&eL]})}),eO]}):(0,A.jsx)(P.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingY:4,children:(0,A.jsx)(P.xH,{accessibilityLabel:et._('Pin details loading', ' - ', ' -- '),show:!0})})}),$&&"lg"===V&&(0,A.jsx)(tn.Z,{id:"PeekVariantShoppingModule",children:(0,A.jsx)(e1,{maxHeight:N?.current?.clientHeight,pin:r,showShoppingModule:ee,trafficSource:p,viewParameter:S})})]})}):(0,A.jsx)(P.kC,{alignItems:"center",height:300,justifyContent:"center",width:"100%",children:(0,A.jsx)(P.xH,{accessibilityLabel:et._('Pin loading', ' - ', ' -- '),show:!0})})})})})})]})}),X.shouldOpenModal&&X.newPin&&X.originalPinId===r.id&&(0,A.jsx)(eT.Z,{name:"SafeSuspense_CloseupBody_ChangeBoardModal",children:(0,A.jsx)(tn.Z,{id:"ChangeBoardModal",children:(0,A.jsx)(tw,{experience:X.experience,pinKey:{type:"deprecated",data:X.newPin}})})})]})})}let tL=(0,g.memo)(tR),tF=(0,g.memo)(function({isStoryPin:e,isVideoPin:t,isWideVideo:i,pin:n,taggedProducts:a,trafficSource:l,viewParameterType:r,onClickThrough:s,didShortClickThrough:o,goBack:d,isCloseupMaximized:c=!1,isInStream:u=!1,isDeletedStoryPin:p,onSaveButtonClick:m,onUpdate:h,outerBodyStyle:_,outerPaddingSize:y,routePush:f,showRepinOnInitialRender:x,viewType:b,isCommentSectionOpen:v,onCommentSectionClick:w,onCloseupBodyUpdate:k,shouldShowStlCarouselForOwnPin:I,storyPinTaggedProducts:T,clientTrackingParams:C,viewportSize:E,shouldShowPartnerModule:j,trendsData:R,showTrendsOnPinCloseup:L,showPinStats:F}){let{checkExperiment:D}=(0,em.r)(),[O,M]=(0,g.useState)(!1),Z=(0,g.useRef)(null),z=(0,g.useRef)(null),N=(0,G.x4)(),{closeupWithinMasonryEnabled:K}=N,B=(0,tr.Z)(),U=K&&!!n.is_eligible_for_aggregated_comments&&"enabled_popover"===D("ce_dweb_new_closeup_comment_module").group,V=K&&!!n.is_eligible_for_aggregated_comments&&"enabled_dropdown"===D("ce_dweb_new_closeup_comment_module").group,H=!n.is_promoted&&!n.is_downstream_promotion&&!p,W=(0,tc.Z)(),$=(0,eF.lJ)(B,W),Y=e8(),X=(0,g.useCallback)(()=>{s&&s({componentType:129}),Y.setClickthroughComponentForSurvey("legoMaybeLink")},[s,Y]),q=e5(),{getViewParameter:J}=ef({type:"deprecated",data:n}),Q=J(r),{setClickthroughComponentForSurvey:ee,imageContainerRef:et}=Y,{group:ei}=D("webpack_react_profiler");if("enabled_slow_closeupbody"===ei){let e=performance.now(),t=e;for(;t-e<30;)t=performance.now()}let en=(0,g.useCallback)(()=>{s({wasImageClicked:!0})},[s]),ea=(0,g.useMemo)(()=>n,[n]),el=(0,g.useMemo)(()=>l,[l]),er=(0,g.useMemo)(()=>Q,[Q]),es=(0,g.useMemo)(()=>r,[r]),eo=(0,A.jsx)(tj,{handleImageClickThrough:en,imageContainerRef:et,isStoryPin:e,isWideVideo:i,onSaveButtonClick:m,pin:ea,setClickthroughComponentForSurvey:ee,showRepinOnInitialRender:x,trafficSource:el,viewParameter:er,viewParameterType:es,visualContentContainerRef:q.visualContentContainerRef}),ed=(0,A.jsx)(tn.Z,{id:"MetadataDetails",children:(0,A.jsx)(eQ,{closeupContext:N,detailsScrollContainerRef:z.current,inCommentsImprovedDropdownExp:V,inCommentsPopoverExp:U,isCommentSectionOpen:v,isDeletedStoryPin:p,isLoadingNewlyCreatedComment:O,isStoryPin:e,isVideoPin:t,onCloseupBodyUpdate:k,onCommentSectionClick:w,orbacActingAs:W,orbacSubjectId:$,outerPaddingSize:y,pin:n,shouldShowStlCarouselForOwnPin:I,storyPinTaggedProducts:T,taggedProducts:a,viewer:B,viewParameter:Q})}),ec=(0,g.useMemo)(()=>({type:"deprecated",data:n}),[n]),eu=(0,A.jsx)(tn.Z,{id:"DefaultMetadata",children:(0,A.jsx)(eV,{clientTrackingParams:C,details:ed,inCommentsPopoverExp:U,isDeletedStoryPin:p,isStoryPin:e,onClickThrough:s,onCloseupBodyUpdate:k,orbacActingAs:W,outerPaddingSize:y,pinKey:ec,shouldShowPartnerModule:j,showPinStats:F,showTrendsOnPinCloseup:L,trafficSource:l,trendsData:R,viewer:B,viewParameter:Q,viewportSize:E})}),ep=(0,A.jsx)(tL,{actionBarContainerRef:Z,descriptionContentMaxHeight:q.descriptionContentMaxHeight,didShortClickThrough:o,goBack:d,inCommentsImprovedDropdownExp:V,inCommentsPopoverExp:U,isCloseupMaximized:c,isEligibleForPinReactions:H,isInStream:u,isStoryPin:e,isWideVideo:i,metadata:eu,metadataContainerRef:z,onClickThrough:X,onSaveButtonClick:m,onUpdate:h,orbacSubjectId:$,outerBodyStyle:_,outerPaddingSize:y,pin:n,routePush:f,setIsLoadingNewlyCreatedComment:M,showRepinOnInitialRender:x,trafficSource:l,viewer:B,viewParameter:Q,viewType:b,visualContentContainer:eo,visualContentContainerRef:q.visualContentContainerRef,webLinkSurveyState:Y}),eh=(0,A.jsx)(tn.Z,{id:"CloseupPostDownloadUpsellProvider",children:(0,A.jsx)(S.z8,{pin:n,children:ep})}),e_=(0,g.useMemo)(()=>({web_gestalt_calico:{anyEnabled:!0,group:"enabled"}}),[]);return n?.ad_data?.exclude_from_grid_rep_tests&&D("web_exclude_from_grid_rep_tests").anyEnabled?(0,A.jsx)("div",{className:"excludeFromGridRepTests",children:(0,A.jsx)(P.II,{value:e_,children:eh})}):eh});function tD(e){return(0,A.jsx)(tF,{...e})}var tO=i(261806);let tM=[tO.gO.ADMIN,tO.gO.CAMPAIGN_MANAGER];var tZ=i(348240),tz=i(819362),tN=i(15415),tK=i(765557),tB=i(766234);let tU=(0,eZ.Z)(()=>i.e(95246).then(i.bind(i,258488)),{ssr:!1},e=>258488,"CloseupPartnerModule"),tV=(0,eZ.Z)(()=>i.e(75754).then(i.bind(i,637310)),{ssr:!1},e=>637310,"SponsorshipApprovalModule"),tH=(0,g.memo)(function({permissions:e,pinId:t,sponsorshipStatus:i,creatorUsername:n}){return(0,A.jsx)(P.xu,{"data-test-id":"sponsorship-approval-module",display:"flex",children:(0,A.jsx)(eT.Z,{name:"SafeSuspense_Closeup_SponsorshipApprovalModule",children:(0,A.jsx)(tV,{business_role:e,creatorUsername:n??"",pinId:t,sponsorshipStatus:i})})})}),tG=(0,g.memo)(function({borderStyle:e,isStoryPin:t,closeupWidth:i,isWideVideo:n,viewportSize:a,pinKey:l,showPinStats:r,trendsData:s}){return(0,A.jsx)(P.xu,{"data-test-id":"PartnerModule",width:"lg"===a&&n?i:"100%",children:(0,A.jsx)(eT.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,A.jsx)(tU,{borderStyle:e,isStoryPin:t,pinKey:l,showPinStats:r,trendsData:s,viewportSize:a})})})}),tW=(0,g.memo)(function({clientTrackingParams:e,closeupWithinMasonryEnabled:t,didShortClickThrough:i,executeClickthrough:n,handleBackButtonClick:a,handleCarouselSwipe:l,handleCloseupBodyContainerRef:r,handleIdeaCloseupCommentIconClick:s,handleSaveClicked:o,isCloseupMaximized:d,isCommentThreadExpanded:c,isEligibleForStaticImageIdeaPin:u,isLimitedLogin:p,maxWidth:m,onToggleIdeaPinCloseupPanel:h,peekCloseupEnabled:_,pin:y,pinDerivedData:f,pinResource:x,relatedPinsContainerRef:v,routePush:S,shopping:w,showRepinOnInitialRender:k,storyPinTaggedProducts:I,trafficSource:T,trendsData:C,updateViewportSize:E,userBusinessRoleResource:j,viewportSize:R}){let L,F=(0,eC.B)(),D=(0,tr.Z)(),{checkExperiment:O}=(0,em.r)(),M=(0,tc.Z)(),{id:Z,sponsorship:z,story_pin_data_id:N,story_pin_data:B}=y,U=!!N&&!u,V=!!B?.is_deleted,{creator:H,sponsor:G,status:W}=z||{},{username:$}=H||{},{username:Y}=G||{},{refresh:X}=x,q=(0,eF.lJ)(D,M),{data:J}=j||{},Q=!y.is_repin&&!!Y,ee=Y===(D.isAuth?D.username:void 0)?[tO.V3.OWNER]:J?.permissions,et=(0,g.useMemo)(()=>Y===(D.isAuth?D.username:void 0)?[tO.V3.OWNER]:J?.permissions,[J?.permissions,Y,D]),ei=Y===(D.isAuth?D.username:void 0)||!!ee?.find(e=>tM.includes(e)),en=Y===(D.isAuth?D.username:void 0)||!!ee?.find(e=>tM.includes(e)),{isWideVideo:ea}=(0,tN.Z)((0,K.Z)({pin:y}))||{},el=(0,tz.Z)({type:"deprecated",data:y},D,q),er=(0,b.CA)(C?.data),es=Q&&D.isAuth&&O("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled&&(ei&&0===W||en&&1===W),eo=y.link_domain?.official_user?.username||y.native_creator?.username,ed=(0,eF.Ms)(D,M)===eo&&(0,eF.nl)(D,M)&&F.experimentsClient.checkExperiment("web_stl_tooling").anyEnabled,ec=U&&(B?.pages?.length??0)>0,eu=(0,tZ.WE)(D,R,el,er,C,es);L=U?{boxShadow:void 0,borderRadius:void 0}:t?ex.ko:ex.te;let ep=es&&"number"==typeof W,eh=eu&&!U&&!t,e_=(0,g.useMemo)(()=>er?C?.data?.results:null,[er,C]),eg=(0,g.useMemo)(()=>({type:"deprecated",data:y}),[y]);return(0,A.jsx)(P.xu,{dangerouslySetInlineStyle:{__style:U?{...ex.BI.storyPinGradientStyle}:{}},"data-test-id":"gradient",display:"flex",flex:_?void 0:"grow",id:"gradient",justifyContent:"center",marginBottom:4*!t,width:_?void 0:"100%",children:(0,A.jsxs)(g.Fragment,{children:[ec&&B&&(0,A.jsx)(tK.Z,{appConfig:{type:"authDesktop",onClickThrough:n,onNavigateBack:a},clientTrackingParams:e,onIdeaPinCloseupCommentClick:()=>{s(!0)},onTogglePanel:h,pin:y,storyPinData:B,variant:"closeup",viewParameterType:157,viewType:3}),(0,A.jsx)(tB.Z,{isStoryPin:U,isWideVideo:ea,children:(0,A.jsx)(eT.Z,{name:"CloseupBody",children:(0,A.jsxs)(P.xu,{ref:r,color:"default",direction:"column",display:"flex",height:"100%",width:"100%",children:[(0,A.jsxs)(P.xu,{alignItems:ea?"center":void 0,direction:ea?"column":void 0,display:ea?"flex":void 0,children:[ep&&(0,A.jsx)(tH,{creatorUsername:$,permissions:et,pinId:Z,sponsorshipStatus:W}),eh&&(0,A.jsx)(tG,{borderStyle:L,closeupWidth:m,isStoryPin:U,isWideVideo:ea,pinKey:eg,showPinStats:el,trendsData:e_,viewportSize:R})]}),(0,A.jsx)(P.xu,{"data-test-id":"closeup-body",flex:"grow",children:(0,A.jsx)(tn.Z,{id:"CloseupBody",children:(0,A.jsx)(tD,{clientTrackingParams:e,data:x.data,didShortClickThrough:i,goBack:a,handleCarouselSwipe:l,isCloseupMaximized:d,isCommentSectionOpen:c,isDeletedStoryPin:!!V,isStoryPin:U,isVideoPin:f.isVideoPin,isWideVideo:ea,onClickThrough:n,onCloseupBodyUpdate:E,onCommentSectionClick:s,onSaveButtonClick:o,onUpdate:X,outerBodyStyle:L,outerPaddingSize:eD.ER,pin:y,relatedPinsContainerRef:v,routePush:S,shopping:w,shouldShowPartnerModule:eu,shouldShowStlCarouselForOwnPin:ed,showPinStats:el,showRepinOnInitialRender:!p&&k,showTrendsOnPinCloseup:er,storyPinTaggedProducts:I,trafficSource:T,trendsData:C,viewParameterType:ec?157:void 0,viewportSize:R,viewType:3})})})]})})})]})})});function t$(e){return(0,A.jsx)(tW,{...e})}var tY=i(762546);let tX=e=>"enabled_onclick_compare_copy"===e||"enabled_onclick_explore_copy"===e,tq=e=>"enabled_onhover_compare_copy"===e||"enabled_onhover_explore_copy"===e||"employees"===e;function tJ({url:e,images:t,id:i,label:n,onPinClick:a,position:l=0}){let[r,s]=(0,g.useState)(!1),{logContextEvent:o}=(0,ek.u)();return(0,A.jsx)(P.xu,{"aria-selected":r?"true":"false","data-test-id":"recent-pin",id:i,role:"option",children:(0,A.jsx)(P.Tg,{href:e,onMouseEnter:()=>{s(!0),o({event_type:105,component:15421,element:18070,aux_data:{position:l.toString()}})},onMouseLeave:()=>{s(!1)},onTap:()=>{o({event_type:101,component:15421,element:18070,aux_data:{position:l.toString()}}),a&&a()},rounding:3,tabIndex:-1,tapStyle:"compress",children:(0,A.jsx)(P.zd,{height:137,rounding:3,wash:r,width:103,children:t["236x"]?.url&&(0,A.jsx)(P.Ee,{alt:n,fit:"cover",naturalHeight:t["236x"]?.height??1,naturalWidth:t["236x"]?.width??1,src:t["236x"].url})})})})}let tQ={backdropFilter:"blur(4px)",backgroundColor:"rgba(255, 255, 255, 0.90)"},t0={...tQ,transitionDuration:"0.3s",transitionTimingFunction:"cubic-bezier(0.34, 1.56, 0.64, 1)",transitionProperty:"transform, opacity",transformOrigin:"bottom left"},t1={...tQ};function t2({toggle:e,recentPins:t,experimentGroup:i,onPinClick:n,l2Interest:a,isAnimatingOut:l,splitByVertical:r,handleMouseLeave:s}){var o;let d=(0,O.ZP)(),c=(0,g.useRef)(null),u=(0,P.JZ)(),[p,m]=(0,g.useState)(!1),{logContextEvent:h}=(0,ek.u)();(0,e2.Z)(()=>{m(!0)});let _=(0,g.useMemo)(()=>{let e=u?t1:t0;if(u){let t=0;return l?t=0:p&&(t=1),{...e,opacity:t,transform:"scale(1)"}}let t=0,i=.9;return l?(t=0,i=.9):p&&(t=1,i=1),{...e,opacity:t,transform:`scale(${i})`}},[u,p,l]);o=()=>{tX(i)&&e()},(0,g.useEffect)(()=>{let e=e=>{!c.current||c.current.contains(e.target)||o(e)},t=e=>{"Escape"===e.key&&o(e)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e),document.removeEventListener("keydown",t)}},[c,o]);let y=(0,g.useMemo)(()=>"enabled_onclick_explore_copy"===i||"enabled_onhover_explore_copy"===i?d._('Previously explored', 'breadcrumbs.expanded.previouslyExplored', 'Title shown when users can view previously explored pins in the breadcrumbs'):d._('Compare ideas', 'breadcrumbs.expanded.compareIdeas', 'Title shown when users can view recently viewed pins in the breadcrumbs'),[i,d]),f="enabled_onclick_compare_copy"===i||"enabled_onhover_compare_copy"===i||"employees"===i,x=tX(i);return(0,A.jsxs)(P.xu,{ref:c,alignItems:"start",borderStyle:"shadow",dangerouslySetInlineStyle:{__style:_},"data-test-id":"breadcrumbs-expanded",direction:"column",display:"flex",justifyContent:"center",onMouseLeave:s,padding:4,rounding:5,children:[(0,A.jsxs)(P.kC,{alignItems:"center",justifyContent:"between",width:"100%",children:[(0,A.jsx)(P.xv,{weight:"bold",children:y}),x&&(0,A.jsx)(P.hU,{accessibilityLabel:d._('Close breadcrumbs', 'breadcrumbs.expanded.closeBreadcrumbs', 'Label for the button that closes the expanded breadcrumbs view'),icon:"minimize",iconColor:"darkGray",onClick:()=>{h({event_type:101,component:15421,element:18071}),e()},size:"sm"})]}),f&&(0,A.jsx)(P.xv,{color:"subtle",size:"100",children:r&&a?(0,M.nk)(d._('Recently viewed {{ interestName }} ideas', 'breadcrumbs.expanded.recentlyViewedInterestIdeas', 'Subtitle shown above the list of recently viewed ideas for a specific interest in the breadcrumbs, interestName: the name of the interest category'),{interestName:a.toLowerCase()}).join(""):d._('Recently viewed Pins', 'breadcrumbs.expanded.recentlyViewedPins', 'Subtitle shown above the list of recently viewed pins in the breadcrumbs')}),(0,A.jsx)(P.xu,{marginTop:2,children:(0,A.jsx)(P.kC,{gap:2,children:t.map((e,t)=>(0,A.jsx)(tJ,{...e,onPinClick:n,position:t},e.id))})})]})}var t3=i(685402);let t6={backdropFilter:"blur(4px)",backgroundColor:"rgba(255, 255, 255, 0.90)",animationDelay:"100ms",transitionDelay:"100ms",transitionDuration:".85s",transitionTimingFunction:"cubic-bezier(.19, 1.32, .48, 1)",transitionProperty:"transform, opacity",filter:"drop-shadow( 0px 0px 8px rgba(0,0,0,0.1))",shrink:0},t4={backdropFilter:"blur(4px)",backgroundColor:"rgba(255, 255, 255, 0.90)",transitionProperty:"opacity",transitionDuration:".85s",transitionTimingFunction:"ease-out",filter:"drop-shadow( 0px 0px 8px rgba(0,0,0,0.1))"},t5={...t6,transform:"translateY(200px)",opacity:0},t8={...t6,transform:"translateY(0)",opacity:1},t7={...t4,transform:"translateY(200px)",opacity:0},t9={...t4,transform:"translateY(0)",opacity:1},ie={...t6,transform:"translateY(0)",opacity:1},it={...t4,transform:"translateY(0)",opacity:1},ii={border:"1px solid white",transform:"rotate(-3deg)",borderRadius:"9px",transition:"transform 0.2s ease-out",marginBottom:"1px"},ia={border:"1px solid white",transform:"rotate(-3deg)",borderRadius:"9px"};function il({toggle:e,recentPins:t,shouldShow:i,experimentGroup:n,showFirstTimeUI:a,isHovered:l=!1,isAnimatingOut:r,handleMouseEnter:s,handleMouseLeave:o}){let d=(0,g.useMemo)(()=>t.slice(0,3),[t]),[c,u]=(0,g.useState)(!1),p=(0,P.JZ)(),m=(0,t3.b)(),h=(0,O.ZP)(),{logContextEvent:_}=(0,ek.u)();(0,g.useEffect)(()=>{u(!0)},[]);let y=(0,g.useMemo)(()=>71,[]),f=(0,g.useMemo)(()=>r?{...p?it:ie,opacity:1}:m?p?{...i?t9:t7,opacity:c&&i?1:0}:{...i?t8:t5,opacity:c&&i?1:0}:{...p?it:ie,opacity:+!!c},[i,p,m,c,r]),x=(0,g.useCallback)(()=>{tX(n)&&(_({event_type:101,component:15421,element:18069}),e())},[e,n,_]),b=(0,g.useCallback)(e=>{let t=`${-(14*e)}px`;if(p)return{...ia,transform:`rotate(-3deg) translateX(${t})`};if(!(a||l&&!tq(n)))return{...ii,transform:`rotate(-3deg) translateX(${t})`};switch(e){case 0:return{...ii,transform:`rotate(-5deg) translateX(${-(14*e)-2}px) translateY(0px)`};case 1:return{...ii,transform:`rotate(-3deg) translateX(${-(14*e)}px) translateY(-2px)`};case 2:return{...ii,transform:`rotate(1deg) translateX(${-(14*e)+2}px) translateY(1px)`};default:return{...ii,translate:t}}},[l,p,n,a]);return(0,A.jsx)(P.iP,{accessibilityLabel:h._('Recently viewed Pins', 'breadcrumbs.minified.recentlyViewedPins', 'Accessibility label for the breadcrumbs minified component'),onMouseEnter:s,onMouseLeave:tX(n)?o:void 0,onTap:x,rounding:5,children:(0,A.jsx)(P.xu,{borderStyle:"shadow",dangerouslySetInlineStyle:{__style:f},"data-test-id":"breadcrumbs-minified",direction:"column",display:"flex",justifyContent:"center",paddingX:3,paddingY:2,role:"button",rounding:5,children:(0,A.jsxs)(P.kC,{alignItems:"center",direction:"row",gap:2,children:[(0,A.jsx)(P.kC,{gap:0,justifyContent:"between",width:y,children:d.map(({images:e,id:t,label:i},n)=>{let a=e["236x"],l=a?.url;return(0,A.jsx)(P.xu,{borderStyle:"raisedBottomShadow",dangerouslySetInlineStyle:{__style:b(n)},height:44,width:33,zIndex:new P.Ry(3-n),children:(0,A.jsx)(P.zd,{height:42,rounding:2,width:31,children:l?(0,A.jsx)(P.Ee,{alt:i||`Pin ${n+1}`,fit:"cover",naturalHeight:a.height??1,naturalWidth:a.width??1,src:a.url}):(0,A.jsx)(P.xu,{height:"100%",width:"100%"})})},t)})}),a&&(0,A.jsx)(P.xv,{overflow:"noWrap",size:"300",weight:"bold",children:h._('Compare ideas', 'breadcrumbs.expanded.compareIdeas', 'Title shown when users can view recently viewed pins in the breadcrumbs')})]})})})}var ir=i(547504),is=i(515989),io=i(943369),id=i(630929);function ic({l2Interest:e,pinId:t}){let i,[n,a]=(0,g.useState)(!1),[l,r]=(0,g.useState)(!1),[s,o]=(0,g.useState)(!1),[d,c]=(0,g.useState)(!1),[u,p]=(0,g.useState)(!1),{checkExperiment:m}=(0,em.r)(),h=(0,g.useRef)(null),{logContextEvent:_}=(0,ek.u)(),y=m("closeup_dweb_breadcrumbs"),f=m("closeup_dweb_breadcrumbs_by_vertical"),{experience:x}=(0,tl.Ow)(12),b=!1;y.anyEnabled?i=y.group:f.anyEnabled&&(i=f.group,b=!0),(0,e2.Z)(()=>{let e=setTimeout(()=>{r(!0)},1e3);return()=>clearTimeout(e)}),(0,e2.Z)(()=>{_({event_type:120,component:15421}),x?.experience_id===507740&&c(!0)}),(0,g.useEffect)(()=>{if(tX(i))try{let e=(0,io.M0)().getItem(ir.GT);"true"===e&&(a(!0),(0,io.M0)().removeItem(ir.GT))}catch{(0,tS.nP)("web.closeup.breadcrumbs.localStorage_errors",{tags:{operation:"getItem"}})}},[i]);let{data:v,refresh:S,isFetching:w,isLoaded:k}=(0,is.Z)({url:"/v3/users/me/recent/engaged/pin/stories/",params:{pin_preview_count:6,l2_interest:b&&e?e:void 0,fields:"pin.description,pin.id,pin.images[236x]"},enabledRouteRefresh:!0,noCache:!0});(0,g.useEffect)(()=>{S()},[t,S]);let I=(0,g.useMemo)(()=>{if(!v||!Array.isArray(v))return[];let e=v?.find(e=>"user_recently_viewed_pins"===e.story_type)?.objects?.map(({id:e,images:t,description:i})=>({images:t,id:e,label:i,url:`/pin/${e}`}))||[],i=v?.find(e=>"user_recently_saved_pins"===e.story_type)?.objects?.map(({id:e,images:t,description:i})=>({images:t,id:e,label:i,url:`/pin/${e}`}))?.filter(t=>!e.some(e=>e.id===t.id))||[],n=[...e,...i].filter(e=>e.id!==t).slice(0,5);return(0,tS.nP)(`web.closeup.breadcrumbs.displayed_pins.${n.length}`),n},[v,t]),T=(0,g.useCallback)(()=>{tX(i)&&(c(!1),n?(o(!0),p(!1),setTimeout(()=>{a(!1),o(!1)},300)):a(!0))},[n,i]),C=(0,g.useCallback)(()=>{p(!0),tq(i)&&(d&&(h?.current?.click(),c(!1)),_({event_type:105,element:18069,component:15421}),a(!0))},[i,d,_]),E=(0,g.useCallback)(()=>{p(!1),tq(i)&&(o(!0),setTimeout(()=>{a(!1),o(!1)},300))},[i]),j=(0,g.useCallback)(()=>{if(tX(i)&&(n||s))try{(0,io.M0)().setItem(ir.GT,"true")}catch{(0,tS.nP)("web.closeup.breadcrumbs.localStorage_errors",{tags:{operation:"setItem"}})}},[i,n,s]),R=(0,g.useMemo)(()=>({toggle:T,recentPins:I,shouldShow:l,experimentGroup:i,l2Interest:e,onPinClick:j,isAnimatingOut:s,isHovered:u,splitByVertical:b,showFirstTimeUI:d,handleMouseEnter:C,handleMouseLeave:E}),[T,I,l,i,e,j,s,u,b,d,C,E]);return!i||b&&!e||I.length<3||w||!k?null:(0,A.jsx)(eT.Z,{name:"BreadCrumbs",children:(0,A.jsxs)(eE.Z,{children:[(0,A.jsxs)(P.xu,{position:"relative",children:[(0,A.jsx)(P.xu,{ref:h,bottom:!0,left:!0,position:"absolute",children:(0,A.jsx)(il,{...R})}),(n||s)&&(0,A.jsx)(P.xu,{bottom:!0,left:!0,position:"absolute",zIndex:new P.Ry(1),children:(0,A.jsx)(t2,{...R})})]}),(0,A.jsx)(P.mh,{zIndex:id.pS,children:(0,A.jsx)(tl.N,{anchors:{3022:h.current},idealDirection:"up",onAnchorTouch:"complete",placementId:12,scrollToDismiss:!0})})]})})}var iu=i(56063),ip=i(298568),im=i(349057),ih=i(169650),i_=i(511814),ig=i(12624),iy=i(486838);function ix({pin:e,pinResource:t,topLevelTrafficSource:i,firstLoadComplete:n,relatedModulesContent:a,onWrapperClick:l,beforeBodyContent:r,afterBodyContent:s,isVideoPin:o,bodyContent:d,backButton:c}){let u=(0,ip.A)(),{closeupWithinMasonryEnabled:p,peekCloseupEnabled:m,viewportSize:h}=(0,G.x4)(),{mainImage:_}=(0,L.G)(),{sideBySideRedesignFastFollowsEnabled:y}=(0,ev.Z)(),f=(0,ig.t)(),x=(0,iy.Z)(),{isAuth:b}=(0,tr.Z)(),{checkExperiment:v}=(0,em.r)(),[S,k]=(0,g.useState)(!1),I=v("closeup_dweb_breadcrumbs").anyEnabled||v("closeup_dweb_breadcrumbs_by_vertical").anyEnabled&&e.l2_dominant_interest,T=(0,w.Z)({showProductDetailPage:!!e.is_eligible_for_pdp});(0,g.useEffect)(()=>{let e;return I&&(e=setTimeout(()=>{k(!0)},1e3)),()=>clearTimeout(e)},[I]),(0,e2.Z)(()=>{e.l2_dominant_interest?(0,tS.nP)("web.closeup.breadcrumbs.has_vertical.yes"):(0,tS.nP)("web.closeup.breadcrumbs.has_vertical.no")});let{error:C}=t,{story_pin_data_id:E}=e||{},[j,R]=(0,g.useState)(p||!o);(0,g.useEffect)(()=>{let e=j?void 0:setTimeout(()=>R(!0),1e3*!p);return()=>clearTimeout(e)},[p,j]);let{isEligibleForStaticImageIdeaPin:F}=(0,eY.Z)(e.story_pin_data_id),D=(0,g.useRef)(null),O=(0,g.useRef)(null),[M,Z]=(0,g.useState)(void 0),z=iu.yF+iu.oX,N=Math.floor((M??1)/z),K=z*N-iu.oX,B=(0,g.useCallback)(()=>{D.current&&O.current&&Z(window.innerWidth)},[]);(0,tP.Z)(()=>{window&&(0,tS.nP)("web.closeup.closeup_redesign.handleResize",{sampleRate:.1,tags:{sideBySideEnabled:y,isStoryPin:!!E,isVideoPin:o,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}),m&&B()},D),(0,e2.Z)(()=>{window&&(0,tS.nP)("web.closeup.closeup_redesign.initialRender",{sampleRate:.1,tags:{sideBySideEnabled:y,isStoryPin:!!E,isVideoPin:o,windowHeight:window.innerHeight,windowWidth:window.innerWidth}})}),(0,g.useEffect)(()=>{m&&B()},[B,m]);let[U,V]=(0,g.useState)(!1);(0,g.useEffect)(()=>{let e=(0,ih.Z)(function(){_&&window&&(window.scrollY>_.height?V(!0):V(!1))},150);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[_]);let{maxWidth:H}=(0,ex.Re)();if(0===Object.keys(e).length&&C)return(0,A.jsx)(i_.Z,{});let W=!!E&&!F,$=j&&a,Y=(0,ep.Z)({hasPin:!!e,hasPinRichMetadata:!!e?.rich_metadata,hasPinRichMetadataProducts:!!e?.rich_metadata?.products,hasPinRichMetadataArticle:!!e?.rich_metadata?.article,hasPinRichMetadataRecipe:!!e?.rich_metadata?.recipe,hasPinStoryPinData:!!e?.story_pin_data}),X=(0,A.jsx)("div",{ref:O,className:"Closeup Module","data-test-id":n?"closeup-data-loaded":"",onClick:e=>{!b&&(W||l(e),(0,im.sX)("closefakemodal"),u&&u?.abort("closefakemodal"))},role:"presentation",style:{cursor:b?void 0:"zoom-out",display:"flex",width:"100%",maxWidth:H,margin:m?"0 auto":void 0},children:(0,A.jsxs)(P.kC,{alignItems:"stretch",direction:"row",flex:"grow",justifyContent:"center",children:[m?(0,A.jsxs)(P.xu,{dangerouslySetInlineStyle:{__style:{flexDirection:"column"}},display:"flex",marginTop:5,children:[c,r]}):(0,A.jsx)(g.Fragment,{children:r}),d,s]})},"closeup-content");return(0,A.jsxs)(P.xu,{ref:D,width:"100%",children:[(0,A.jsxs)(P.kC,{direction:p?"row":"column",justifyContent:"center",children:[!p&&X,p&&!T&&(c||r)&&(0,A.jsx)(P.xu,{alignItems:"center","data-test-id":n?"closeup-data-loaded":"",direction:"column",display:"flex",marginStart:4,children:(0,A.jsxs)(P.Le,{top:f+2,children:[c,(0,A.jsx)(P.xu,{"aria-hidden":U,dangerouslySetInlineStyle:{__style:{transition:"opacity 300ms ease-in-out"}},opacity:+!U,children:r})]})}),(0,A.jsx)(P.kC.Item,{flex:"grow",children:(0,A.jsxs)(P.xu,{alignItems:"stretch",dangerouslySetInlineStyle:{__style:{paddingRight:p&&!T?"80px":void 0}},direction:"column",display:"flex",justifyContent:"center",paddingX:4*!p,width:"100%",children:[m&&K&&"lg"!==h&&(0,A.jsx)(P.kC.Item,{alignSelf:"center",children:(0,A.jsx)(tn.Z,{id:"ShoppingModule",children:(0,A.jsx)(e0.Z,{moduleWidth:K,pinKey:{type:"deprecated",data:e},trafficSource:i,viewParameter:Y})})}),T&&(0,A.jsx)(P.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:`${x+24}px`,marginTop:`${f+8}px`}},left:!0,position:"fixed",top:!0,zIndex:new P.Ry(1),children:c}),$]})})]}),S&&(0,A.jsx)(P.Le,{bottom:0,children:(0,A.jsx)(P.xu,{bottom:!0,left:!0,padding:4,position:"absolute",children:(0,A.jsx)(tn.Z,{id:"BreadCrumbs",children:(0,A.jsx)(ic,{l2Interest:e.l2_dominant_interest?.label,pinId:e.id})})})})]})}var ib=i(516312),iv=i(425237),iP=i(5112);let iS=(0,eZ.Z)(()=>Promise.resolve().then(i.bind(i,664171)),{ssr:!1},e=>664171,"ExperienceHeroCommon"),iw=function({abortNoActionPlacementTimeout:e,classProps:t,classState:i,commerceData:n,showCloseupContentRight:a,showProductDetailPage:l,paneWidth:r,maxWidth:s,descriptionPaneWidth:o,handleCarouselSwipe:d,handleFocus:c,setIsCommentAttachmentSelectorOpen:u,setIsCommentComposerFocused:p,setIsCommentPopoverInteractionActive:m,setIsCommentThreadExpanded:h,setIsCloseupMediaViewerOpen:_,setIsMediaViewerOpen:y,setIsProductDetailsExpanded:f,setIsShoppingModuleExpanded:x,handleBackButtonClick:b,closeupContent:v,isCommentAttachmentSelectorOpen:P,isCommentComposerFocused:S,isCommentPopoverInteractionActive:w,isCommentThreadExpanded:k,isCloseupMediaViewerOpen:I,isMediaViewerOpen:T,isProductDetailsExpanded:C,isShoppingModuleExpanded:E,closeupWithinMasonryEnabled:j,peekCloseupEnabled:R,setAbortNoActionPlacementTimeout:F,clientTrackingParams:D,calculatedImageHeight:O,setCalculatedImageHeight:M}){let{pin:Z,pinId:z}=t,{visualState:{carouselData:N,mainImage:B,previewImage:U},viewportSize:V}=i,H=!T&&!I&&!P&&!j,W=(0,g.useMemo)(()=>({showCloseupContentRight:a,showProductDetailPage:l,viewportSize:V,paneWidth:r,maxWidth:s,descriptionPaneWidth:o,isCommentAttachmentSelectorOpen:P,isCommentComposerFocused:S,isCommentPopoverInteractionActive:w,isCommentThreadExpanded:k,isCloseupMediaViewerOpen:I,isMediaViewerOpen:T,isProductDetailsExpanded:C,isShoppingModuleExpanded:E,setIsCommentAttachmentSelectorOpen:u,setIsCommentComposerFocused:p,setIsCommentPopoverInteractionActive:m,setIsCommentThreadExpanded:h,setIsCloseupMediaViewerOpen:_,setIsMediaViewerOpen:y,setIsProductDetailsExpanded:f,setIsShoppingModuleExpanded:x,closeupWithinMasonryEnabled:j,peekCloseupEnabled:R,setAbortNoActionPlacementTimeout:F,clientTrackingParams:D,calculatedImageHeight:O,setCalculatedImageHeight:M}),[O,D,j,o,I,P,S,w,k,T,C,E,s,r,R,F,M,_,u,p,m,h,y,f,x,a,l,V]),$=(0,g.useMemo)(()=>({mainImage:B,previewImage:U,carouselInfo:N&&{carouselData:N,handleCarouselSwipe:d,viewType:I?675:3,componentType:Z.is_eligible_for_pdp?14186:85,viewParameter:(0,ep.Z)({hasPin:!0,hasPinRichMetadata:!!Z.rich_metadata,hasPinRichMetadataProducts:!!Z.rich_metadata?.products,hasPinRichMetadataArticle:!!Z.rich_metadata?.article,hasPinRichMetadataRecipe:!!Z.rich_metadata?.recipe,hasPinStoryPinData:!!Z.story_pin_data})}}),[N,d,I,B,Z.is_eligible_for_pdp,Z.rich_metadata,Z.story_pin_data,U]);return(0,A.jsx)(G.bq,{value:W,children:(0,A.jsxs)(L.A,{overrideValue:$,pinKey:{type:"deprecated",data:Z},children:[(0,A.jsx)(tl.k6,{placementId:1000141}),(0,A.jsx)(tl.k6,{placementId:1000499}),(0,A.jsx)(tl.H6,{placementId:1000140}),(0,A.jsx)(tl.OR,{abortNoActionPlacementTimeout:e,extraContext:{pin_id:z,is_promoted:Z.is_promoted},placementId:1000564}),(0,A.jsx)(tl.iH,{placementId:12}),(0,A.jsx)(tl.b9,{placementId:12}),(0,A.jsx)(tl.nj,{placementId:12}),(0,A.jsx)(tl._f,{placementId:12}),(0,A.jsx)(iv.Z,{placementId:12}),(0,A.jsx)(iP.Z,{auxData:n,clientTrackingParams:D,objectId:z,view:3,viewParameter:(0,K.Z)(t)?(0,ep.Z)({hasPin:!!Z,hasPinRichMetadata:!!Z.rich_metadata,hasPinRichMetadataProducts:!!Z.rich_metadata?.products,hasPinRichMetadataArticle:!!Z.rich_metadata?.article,hasPinRichMetadataRecipe:!!Z.rich_metadata?.recipe,hasPinStoryPinData:!!Z.story_pin_data}):void 0,children:(0,A.jsxs)("div",{className:"reactCloseupScrollContainer","data-test-id":"closeup-layout",onFocus:c,children:[(0,A.jsx)(eT.Z,{name:"SafeSuspense_Closeup_ExperienceHero",children:(0,A.jsx)(iS,{placementId:12})}),(0,A.jsx)(tl.O9,{placementId:12}),v,H&&(0,A.jsx)(ib.Z,{onClose:b}),(0,A.jsx)(tl.RK,{placementId:12})]})})]})})};var ik=i(906872);let iI=(0,eZ.Z)(()=>Promise.resolve().then(i.bind(i,523372)),void 0,e=>523372,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesInclusiveFilters"),iT=(0,eZ.Z)(()=>i.e(60407).then(i.bind(i,175135)),void 0,e=>175135,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModuleOneTapConfiguration"),iA=(0,eZ.Z)(()=>i.e(60682).then(i.bind(i,168236)),void 0,e=>168236,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesHeader"),iC=(void 0!==d||(d=i(441438)).hash&&"535b0dce979f4e368b354c1d7db63f73"!==d.hash&&console.error("The definition of 'CloseupRelatedModule_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),d),iE=(0,g.forwardRef)(({clientTrackingParams:e,pinKey:t,searchQuery:i,setRelatedPinsHeaderRef:n,slotIndex:a,story:l,trafficSource:r,viewParameter:s,viewportSize:o},d)=>{let c=(0,k.Z)(iC,t),{closeupWithinMasonryEnabled:u}=(0,G.x4)();if(!l)return null;let{story_type:p}=l,m=(0,ik.oV)(p);return"related_products_collage"===p?(0,A.jsx)(P.xu,{alignSelf:"center","data-test-id":"related-modules-one-tap-configuration",children:(0,A.jsx)(iT,{pinKey:c,searchQuery:i,slotIndex:a,storyKey:{type:"deprecated",data:l},trafficSource:r,viewParameter:s,viewportSize:o})}):(0,ik.HM)(p)&&m?!u&&(0,A.jsx)(P.xu,{alignSelf:"center",children:(0,A.jsx)(iI,{filter:m,story:l,viewParameter:s})}):"related_modules_header"===p?(0,A.jsx)(P.xu,{ref:n,"data-test-id":"related-modules-header",children:(0,A.jsx)(iA,{ref:d,clientTrackingParams:e,slotIndex:a,storyId:l.id,storyType:p,title:l.title?.format,viewParameter:s})}):null});var ij=i(684855);function iR(){let e=(0,O.ZP)();return(0,A.jsxs)(P.xu,{paddingY:16,children:[(0,A.jsxs)(P.kC,{alignItems:"center",direction:"column",gap:4,children:[(0,A.jsx)(P.xv,{align:"center",size:"500",weight:"bold",children:e._('You\'ve reached the end', 'closeup.filteredFeed.enfOfFeed.title', 'message to let users know they have reached the end of the filtered feed in closeup')}),(0,A.jsx)(P.xv,{align:"center",children:e._('Try removing a few filters to help us show more results.', 'closeup.filteredFeed.enfOfFeed.actionOne', 'message to let users know they can remove filters to see more results')})]}),(0,A.jsx)(ij.Z,{})]})}function iL(){let e=(0,O.ZP)();return(0,A.jsx)(P.xu,{paddingY:16,children:(0,A.jsxs)(P.kC,{alignItems:"center",direction:"column",gap:4,children:[(0,A.jsx)(P.xv,{align:"center",size:"500",weight:"bold",children:e._('No results found', 'closeup.filteredFeed.noResultsFound.title', 'message to let users know there are no results found for the selected filters in closeup')}),(0,A.jsx)(P.xv,{align:"center",children:e._('Try removing a few filters to help us show more results.', 'closeup.filteredFeed.noResultsFound.actionOne', 'message to let users know they can remove filters to see more results')}),(0,A.jsx)(ij.Z,{})]})})}var iF=i(523372);let iD={cursor:"auto"},iO=e=>{e.stopPropagation()};function iM({className:e,children:t}){return(0,A.jsx)("div",{className:e,onClick:iO,role:"presentation",style:iD,children:t})}let iZ=["closeup_module","shopping_module","inclusive_filters_module"];function iz(e){return e.filter(e=>"object"==typeof e&&null!==e&&"type"in e&&iZ.includes(e.type)).length}function iN(e){if(!e)return"";let[t,i]=e.split(":");return t&&i?t.includes("skin_color")?JSON.stringify({10:{tab_option_selections:[i]}}):t.includes("hair_pattern")?JSON.stringify({11:{tab_option_selections:[i]}}):t.includes("body_type_range")?JSON.stringify({12:{tab_option_selections:[i]}}):"":""}var iK=i(593721),iB=i(217622),iU=i(569681),iV=i(166543);function iH({isFromBackButton:e,referringSource:t,relatedModulesRef:i}){!e&&i?.current&&t===iV.i.SHOPPING_FILTER&&setTimeout(()=>{i.current?.scrollIntoView(),window.scrollBy(0,-100)},10)}var iG=i(721687),iW=i(971518),i$=i(611395),iY=i(744117);function iX({coverImages:e,height:t,isHovered:i,onClick:n,onMouseEnter:a,onMouseLeave:l,textType:r,text:s,url:o,width:d,dataTestId:c}){let u=e&&(e["236x"]||e["280x280"]);return(0,A.jsx)(iY.Z,{backgroundColor:"gray",coverImage:u,height:t,isHovered:i,onClick:n,onMouseEnter:a,onMouseLeave:l,url:o,width:d,children:(0,A.jsx)(P.xu,{alignItems:"center","data-test-id":c,display:"flex",height:t,justifyContent:"center",padding:3,position:"absolute",top:!0,width:d||"100%",children:"text"===r?(0,A.jsx)(P.xu,{alignItems:"center",display:"flex",height:48,padding:3,children:(0,A.jsx)(P.X6,{align:"center",color:"light",size:"600",children:s})}):(0,A.jsx)(P.xu,{alignItems:"center",color:"secondary",display:"flex",height:48,padding:3,rounding:"pill",children:(0,A.jsx)(P.xv,{align:"center",weight:"bold",children:s})})})})}let iq=[81];function iJ({data:e}){let{action:t,container_type:i,objects:n,title:a}=e||{},{format:l}=a??{},{text:r,url:s,user:o={}}=t??{},{image_large_url:d,full_name:c,avatar_color_index:u}=o,{images:p}=n?.find(e=>"pin"===e.type)||{},m=null,h=(0,i$.Z)({url:s})?"nofollow":"none";return 81===i&&(m=(0,A.jsxs)(P.kC,{direction:"column",gap:{row:0,column:2},children:[(0,A.jsxs)(P.xu,{position:"relative",children:[(0,A.jsx)(iX,{coverImages:p??void 0,height:iu.yF,text:l??"",textType:"text",url:s??""}),o.imageUrl&&(0,A.jsx)(P.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,A.jsx)(iW.qE,{color:u||void 0,name:c||"",outline:!0,size:"md",src:d??""})})]}),(0,A.jsx)(P.ZP,{fullWidth:!0,href:s??"",rel:h,size:"lg",text:r??""})]})),m}var iQ=i(25035),i0=i(532896),i1=i(633569),i2=i(131714),i3=i(414374),i6=i(762422),i4=i(741594),i5=i(872678),i8=i(740744),i7=i(857147),i9=i(236062),ne=i(393383),nt=i(140042);let ni=(0,eZ.Z)(()=>i.e(93810).then(i.bind(i,211090)),void 0,e=>211090,"app-packages-StructuredFeed-ModuleReps-utils-StructuredFeedStoryModule");function nn(e){return e.columnSpan??e.display_options?.content_display?.grid_layout?.cols??1}let na=(void 0!==c||(c=i(968960)).hash&&"3fa8620068a79dc4a73dbbcde3f352f9"!==c.hash&&console.error("The definition of 'CloseupRelatedPins_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),c),nl=({closeupBody:e,surface:t="RelatedPinGrid",clientTrackingParams:i,isFilteredFeed:n,lfvExperiences:a,relatedPinsResource:l,setHasRelatedPins:r,i18n:s,closeupWithinMasonryEnabled:o,logContextEvent:d,relatedPinsInRow:c,pin:u,relatedPinsContainerRef:p,topLevelTrafficSource:m,viewParameter:h,relatedModulesStopwatch:_})=>{let y,[x,b]=(0,g.useState)(l.auxData?.grid_layout?.w_h_ratio),[v,S]=(0,g.useState)(!0),w=(0,g.useRef)(null),k=(0,g.useRef)(null),I=(0,iU.Z)(),T=(0,g.useMemo)(()=>(l.data||[]).filter(e=>[ne.Mq.SKIN,ne.Mq.HAIR,ne.Mq.BODY].includes(e?.story_type)).find(e=>(0,ik.HM)(e?.story_type??"")),[l]),{closeupMasonryModules:C,hasShoppingModule:E,inclusiveFilters:j}=(0,iK.ZP)({pinId:u.entityId,inclusiveModuleToCache:T,showProductDetailPage:!1}),R=j?(0,ik.oV)(j.story_type??""):"",{inInclusiveEfficientRefinements:L}=(0,iB.Z)(R),{search:F}=(0,f.TH)(),D=iN(new URLSearchParams(F).get("filters")??""),O=o&&L&&D,M=(0,eo.Z)(O?{name:"ApiResource",options:{url:`/v3/pins/${u.entityId}/related/pins/filter/`,data:{fields:iG.Z,related_pins_tabs_selections:D}}}:null),Z=O?M:l,{isAtEnd:z,fetchMore:N,data:K,isFetching:B,nextBookmark:U}=Z;(0,e2.Z)(()=>{d({event_type:13,view_parameter:h,view_type:3,component:86,clientTrackingParams:i})}),(0,g.useEffect)(()=>{!x&&Z.auxData?.grid_layout?.w_h_ratio&&(b(Z.auxData.grid_layout.w_h_ratio),w.current=window)},[o,x,Z]);let V=`relatedPins:${u.entityId}`,H=(0,g.useMemo)(()=>["related_products_button_footer","related_domain_carousel","related_products_feed_header"],[]),G=(K&&K?.findIndex(e=>"pin"===e.type))??0,W=(K||[]).slice(G).filter(e=>!H.includes(e?.story_type)),$=(0,g.useMemo)(()=>[...o?C:[],...W||[]],[o,C,W]),Y=(0,g.useMemo)(()=>(K||[]).slice(G).filter(e=>!H.includes(e?.story_type)),[K,G,H]),X=(0,g.useMemo)(()=>{let e=[];return o&&e.push(...C),e.push(...Y),e},[C,o,Y]),q=I?X:$,J=L&&E&&!!j,Q=(0,g.useMemo)(()=>({pin_id:u.entityId}),[u.entityId]),ee=(0,g.useMemo)(()=>iz(q),[q]),et=({data:i,itemIdx:n})=>{let l,r=(0,ep.Z)({hasPin:!!u,hasPinRichMetadata:!!u.richMetadata,hasPinRichMetadataProducts:!!u.richMetadata?.products,hasPinRichMetadataArticle:!!u.richMetadata?.article,hasPinRichMetadataRecipe:!!u.richMetadata?.recipe,hasPinStoryPinData:!!u.storyPinData}),s=n-ee;if(J&&("shopping_module"===i.type||"inclusive_filters_module"===i.type))"shopping_module"===i.type&&(l=(0,A.jsxs)(P.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,A.jsx)(e0.Z,{moduleWidth:"100%",pinKey:u,trafficSource:m,viewParameter:r}),j?.story_type&&R&&(0,A.jsx)(P.xu,{marginTop:2,children:(0,A.jsx)(iF.default,{filter:R,story:j,viewParameter:r})})]}));else switch(i.type){case"closeup_module":l=e;break;case"shopping_module":l=(0,A.jsx)(e0.Z,{moduleWidth:"100%",pinKey:u,trafficSource:m,viewParameter:r});break;case"inclusive_filters_module":R&&(l=(0,A.jsx)(iF.default,{filter:R,story:j,viewParameter:r}));break;case"story":switch((0,tS.nP)("web_story_card_type",{sampleRate:1,tags:{story_type:i.story_type||"unknown",surface:"closeup"}}),i.story_type){case"BUBBLE_ONE_COL":l=(0,A.jsx)(i9.default,{bubbles:i.objects,id:i.id,referringSource:i.referring_source,slotIndex:s,storyType:i.story_type,title:i.title,viewParameter:r,viewType:3});break;case"related_query_shop_upsell_closeup":l=(0,A.jsx)(iQ.default,{itemIdx:s,story:i,viewParameter:r,viewType:3});break;default:l=null}i.container_type&&(iq.includes(i.container_type)?l=(0,A.jsx)(iJ,{data:i}):(0,i8.Z)(i.container_type)&&(l=(0,A.jsx)(ni,{initialSlotIndex:s,story:i,storyKey:{type:"deprecated",data:i},styleOverrides:{showModuleBorder:nn(i)>1},view:3,viewParameter:r})));break;default:let o=(0,i3.Z)(a);l=(0,A.jsx)(nt.Z,{componentType:13007,duploQueryRef:null,imageOnlyOption:o?"image-only":"default",pinId:i.id,pinImageCrop:x?{height:i5.zX*x,width:i5.zX}:null,slotIndex:s,surface:t,trackingParams:i?.tracking_params,viewData:I?Q:{pin_id:u.entityId},viewParameter:r,viewType:3})}return(0,A.jsx)(iM,{children:l})},ei=Z.data?Z.data.length:0;(0,g.useEffect)(()=>{r(0!==ei)},[ei,r]);let en=(0,g.useRef)(!0),ea=(0,g.useRef)(0),el=()=>{ea.current=performance.now()};(0,g.useEffect)(()=>{en.current&&(v||(_?.abort(),en.current=!1),0!==ei&&(z&&(_?.stop(),en.current=!1),ea.current>0&&(_?.stop(ea.current),en.current=!1)))},[v,z,_,_?.isTiming,ei]);let er=(n||!!O)&&U===i4.qx,es=(0,i0.Z)({isHiddenPin:u?.isHidden,isUnsafePin:u?.isUnsafe}),ed=!!(o&&(1===q.length||E&&2===q.length)),ec=(0,g.useMemo)(()=>o?(0,iK.fz)(L):void 0,[o,L]);return I?y=ec:o&&(y=(0,iK.fz)(!!L)),(0,A.jsx)(i2.Z,{onVisibilityChange:e=>{S(e.some(e=>e.isIntersecting))},options:{threshold:[0]},children:e=>(0,A.jsx)(P.xu,{ref:e,children:(0,A.jsx)(P.xu,{ref:p,children:(0,A.jsx)(iP.Z,{clientTrackingParams:i,component:86,viewParameter:(0,ep.Z)({hasPin:!!u,hasPinRichMetadata:!!u.richMetadata,hasPinRichMetadataProducts:!!u.richMetadata?.products,hasPinRichMetadataArticle:!!u.richMetadata?.article,hasPinRichMetadataRecipe:!!u.richMetadata?.recipe,hasPinStoryPinData:!!u.storyPinData}),children:(0,A.jsxs)(g.Fragment,{children:[(0,A.jsx)(i6.Z,{isAtEndOfFeed:z,isPlaceholderGrid:B&&(!q.length||ed),itemCount:q.length,stopwatchContext:_,stopwatchSetVisuallyCompleteResult:el,children:(0,A.jsx)(i1.default,{_getResponsiveModuleConfigForSecondItem:y,align:o?"center":void 0,cacheKey:V,getColumnSpanConfig:o?nn:void 0,isFetching:B,isGridCentered:c,isLoadedAccessibilityLabel:q.length>0?s._('Loaded more related product results', 'closeup.relatedProducts.results', 'Accessibility label for loaded more related product results'):s._('Loaded related products result', 'closeup.relatedProducts.results', 'Accessibility label for loaded related products result'),isLoadingAccessibilityLabel:q.length>0?s._('Loading more related products results', 'closeup.relatedProducts.loading', 'Accessibility label for loading more related products results'):s._('Loading related products results', 'closeup.relatedProducts.loading', 'Accessibility label for loading related products results'),isLoadingStateEnabled:es,items:q,layout:"basic",loadItems:N,masonryRef:k,minCols:o?2:void 0,renderItem:et,scrollContainerRef:w,serverRender:!0,virtualize:iK.o1})}),er&&ei>0&&(0,A.jsx)(iR,{}),er&&0===ei&&(0,A.jsx)(iL,{})]})})})})})};function nr({pinKey:e,relatedModulesRef:t,...i}){let n=(0,O.ZP)(),a=(0,ta.Z)(),{clientTrackingParams:l,closeupWithinMasonryEnabled:r}=(0,G.x4)(),s=(0,f.TH)(),o=(0,f.k6)(),d=(0,k.Z)(na,e),c=(0,i7.mB)(s.search).rs,u=o?.action==="POP";return(0,g.useEffect)(()=>{iH({isFromBackButton:u,referringSource:c,relatedModulesRef:t})},[u,s,c,t]),(0,A.jsx)(nl,{...i,clientTrackingParams:l,closeupWithinMasonryEnabled:r,i18n:n,logContextEvent:a,pin:d,relatedPinsInRow:r})}var ns=i(951107),no=i(492604),nd=i(57797);let nc=new Set([...ex.aW,"related_domain_carousel","related_products_collage",ne.Mq.SKIN,ne.Mq.HAIR,ne.Mq.BODY]),nu=(void 0!==u||(u=i(721625)).hash&&"8b3eeb9b4671e020ac715d9513179386"!==u.hash&&console.error("The definition of 'CloseupRelatedModulesContainer_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),u);function np({clientTrackingParams:e,closeupBody:t,isVideoPin:i,isYoutubePin:n,pinKey:a,relatedResourceOptions:l,searchQuery:r,relatedPinsContainerRef:s,setRelatedPinsHeaderRef:o,topLevelTrafficSource:d,trafficSource:c,viewParameter:u,viewportSize:p,relatedModulesStopwatch:m}){let{closeupWithinMasonryEnabled:h}=(0,G.x4)(),[_,y]=(0,g.useState)(!i),{checkExperiment:x}=(0,em.r)(),{search:b}=(0,f.TH)(),v=new URLSearchParams(b).get("utm_source"),S=(0,eo.Z)(_&&"ads_manager"!==v?l:null),w=(0,no.Z)(),I=(0,g.useRef)(null),T=(0,g.useCallback)(e=>{e&&(I.current=e)},[]),[C,E]=(0,g.useState)(!0);(0,g.useEffect)(()=>{let e=_?void 0:setTimeout(()=>y(!0),h&&(i||n&&"enabled_delay"===x("web_closeup_youtube_player").group)?1e3:0);return()=>clearTimeout(e)},[h,i,_,x,n]);let j=(0,k.Z)(nu,a);return(0,A.jsx)(nd.Z,{metricName:"RelatedModulesFeed",children:(0,A.jsxs)(P.xu,{ref:T,"data-test-id":"relatedPins",direction:"column",display:"flex",flex:"grow",position:"relative",children:[C&&(S.data||[]).filter(e=>nc.has(e.story_type)).map((t,i)=>(0,A.jsx)(P.xu,{"data-test-id":`related-module-${t.id}`,direction:"column",display:"flex",children:(0,A.jsx)(iE,{ref:I,clientTrackingParams:e,pinKey:j,searchQuery:r,setRelatedPinsHeaderRef:o,slotIndex:i,story:t,trafficSource:c,viewParameter:u,viewportSize:p})},`related-module-${t.id}`)),(0,A.jsx)(nr,{closeupBody:t,lfvExperiences:w,pinKey:j,relatedModulesRef:I,relatedModulesStopwatch:m,relatedPinsContainerRef:s,relatedPinsResource:S,setHasRelatedPins:E,topLevelTrafficSource:d,viewParameter:u})]})})}function nm(e){let t=(0,t3.b)(),i=(0,ns.B6)(t?"related_feed_pageload":"related_feed");return(0,e2.Z)(()=>{i?.start()}),(0,A.jsx)(np,{...e,relatedModulesStopwatch:i})}let nh=["236x","474x","564x","736x"];function n_({carouselData:e,images:t,product:i,shouldUnifyImageSizes:n}){return e?.carousel_slots?.length?e:i?.additional_images?.length?function(e,t,i,n,a){let l=[...e?[{images:e}]:[],...(t??[]).map(({canonical_images:e,image_signature:t})=>({images:e||void 0,image_signature:t||void 0}))];return{carousel_slots:n?function(e){function t(e,{imageKey:t,height:i,width:n}){return e.images&&e.images[t]&&(e={...e,images:{...e.images,[t]:{...e.images[t],height:i,width:n}}}),e}let i=nh.map(function(t){let i=Math.min(...e.map(e=>e.images&&e.images[t]&&e.images[t].height||1/0)),n=Math.min(...e.map(e=>e.images&&e.images[t]&&e.images[t].width||1/0));return{imageKey:t,height:i,width:n}});return e.map(e=>i.reduce(t,e))}(l):l,index:i||0,id:a}}(t,i.additional_images,e?.index,n,i.id):e||void 0}var ng=i(966555);let ny=e=>{let{url:t,width:i,height:n}=e||{};return t&&i&&n?{url:t,width:i,height:n}:void 0};function nf(e){let{pin:t,pinId:i,pinResource:n}=e,a=(0,g.useMemo)(()=>t,[t]),l=(0,g.useMemo)(()=>({pinKey:{type:"deprecated",data:a}}),[a]),{mainPinImage:r}=(0,ng.Z)(l);return(0,g.useMemo)(()=>(e=>{let t={...e.pin,...e.pinResource.data},i=n_({carouselData:t.carousel_data,images:t.images,product:(t.rich_metadata||t.rich_summary)?.products?.[0]});return{availableWidthForContentOnRight:!1,backButtonLabelFitInScreen:null,closeupBodyContainerHeight:0,closeupContainerHeight:0,firstLoadComplete:!1,didLongClickThrough:!1,didPinClickThrough:!1,didShortClickThrough:!1,didMountAfterSavePlacement:!1,isCloseupMaximized:!1,isCommentSectionOpen:!0,isOverRelatedPins:null,isRelatedInterestsBannerDismissed:!1,intervalId:null,landOnCurrentPage:!1,loginModalOptions:null,modalOpen:!1,myTry:e.pin?{isDoneByMe:!!e.pin.done_by_me}:null,newshubCloseupCapBackButtonCount:0,passScrollThreshold:!1,pin:t,pinId:e.pinId,campaignCreationTriggered:!1,relatedPinsUpsellShown:!1,showBackButton:!0,showProductDetailPage:!!t.is_eligible_for_pdp,shopping:{catalogId:-1,variantId:void 0},viewportSize:"lg",visualState:{carouselData:i&&{...i,index:e.pin.carousel_data?.index||0},mainImage:e.mainImage,previewImage:ny(t.images?.["236x"])},v1DeprecationModalDismissed:!1}})({pin:a,pinId:i,pinResource:n,mainImage:r}),[r,a,i,n])}let nx=(0,tl.RL)(12,(e,t)=>({pin_id:e.pinId,email_id:e.emailId,did_long_clickthrough:t.didLongClickThrough||!1,did_pin_clickthrough:t.didPinClickThrough||!1,did_repin:t.didRepin||!1,is_own_or_group_pin:t.is_own_or_group_pin||!1,login_page_type:t.loginPageType||"unknown",scroll_to_threshold:t.scrollToThreshold,pin_image_signature:t.pin_image_signature,is_creator_card_shown:!!eg({domain:e.pin.domain??"",hasLinkDomainOfficialUser:!!e.pin.link_domain?.official_user,hasLinkUserWebsiteOfficialUser:!!e.pin.link_user_website?.official_user,hasNativeCreator:!!e.pin.native_creator,hasThirdPartyPinOwner:!!e.pin.third_party_pin_owner,isPromoted:!!e.pin.is_promoted,pinnerDomainUrl:e.pin.pinner?.domain_url??"",pinnerDomainVerified:!!e.pin.pinner?.domain_verified}),creator_username:e.pin?.closeup_attribution?.full_name}));var nb=i(251816),nv=i(451040),nP=i(991729),nS=i(350091),nw=i(397657),nk=i(122644),nI=i(960862),nT=i(254447),nA=i(28016),nC=i(196794),nE=i(677316),nj=i(916627),nR=i(339908),nL=i(663727),nF=i(885008);let nD=(void 0!==p||(p=i(243019)).hash&&"efee9cd30f69b524ed9920746ed65ceb"!==p.hash&&console.error("The definition of 'useHandleBackButtonClick_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),p);function nO({logCommerceAuxData:e,deepLinkBackGoesToBoard:t,element:i,goBack:n,pinKey:a,routePush:l,trafficSource:r,viewer:s,requestContext:o,viewType:d,viewParameterType:c,componentType:u},p,m){let h=(0,k.Z)(nD,a),_=(0,T.Z)(h),y=s.isAuth&&s.partner;return{onHandleBackButtonClick:(0,g.useCallback)(()=>{let a=h.promotedLeadForm?.leadId,s=e?_():null;h.promotedIsLeadAd?(p({event_type:4100,view_type:175,view_parameter:null,component:null,object_id_str:h.entityId,aux_data:{...s,lead_form_id:a,is_lead_ad:1}}),p({event_type:10369,view_type:175,view_parameter:null,component:14307,duration_ns:13606e6,object_id_str:h.entityId,aux_data:{lead_form_id:a,is_lead_ad:1}})):p({aux_data:s,event_type:101,view_type:d||3,view_parameter:c||(0,ep.Z)({hasPin:!0,hasPinRichMetadata:!!h.richMetadata,hasPinRichMetadataProducts:!!h.richMetadata?.products,hasPinRichMetadataArticle:!!h.richMetadata?.article,hasPinRichMetadataRecipe:!!h.richMetadata?.recipe,hasPinStoryPinData:!!h.storyPinData}),...u?{component:u}:void 0,element:i||34});let g="deep_linking"===r&&!t,{utm_source:f,news_hub_id:x}=function(e){let t=e.searchParams;return{utm_source:t.get("utm_source")??"",utm_medium:t.get("utm_medium")??"",utm_campaign:t.get("utm_campaign")??"",news_hub_id:t.get("news_hub_id")??""}}(new URL(o.fullPath,o.origin));return!m&&"31"==`${f}`&&x?l(`/news_hub/${x}`):g?l(y?"/homefeed/":"/"):n()},[u,t,i,_,n,e,p,h.entityId,h.promotedIsLeadAd,h.promotedLeadForm?.leadId,h.richMetadata,h.storyPinData,o.fullPath,o.origin,l,r,c,d,y,m])}}var nM=i(381366),nZ=i(852276);function nz({conversation_id:e,senderId:t,pinId:i}){(0,nw.Z)({url:`/v3/conversations/${e}/message/mark_seen/`,method:"POST",data:{sender:t,pin:i}})}function nN(e){let{clientTrackingParams:t,closeupWithinMasonryEnabled:i=!1,conversation_id:n,conversationOpen:a,didRepin:l,getStringifiedCommerceAuxData:r,isEligibleForStaticImageIdeaPin:s,isLandingPage:o,logContextEvent:d,onHandleBackButtonClick:c,openInbox:u,orbacActingAs:p,peekCloseupEnabled:m=!1,pin:h,pinDerivedData:_,pinId:y,pinResource:f,relatedPinsContainerRef:x,senderId:b,setAbortNoActionPlacementTimeout:v,setIsCommentThreadExpanded:P,setMostRecentPinId:S,setMostRecentPinImage:w,setPlacementExtraContext:k,shouldShowInbox:I,storyPinTaggedProductsResource:T,verticalNavWidth:C,viewer:E}=e,{pin:j,shopping:R,visualState:L,isCloseupMaximized:F=!1,isCommentSectionOpen:D=!1,didShortClickThrough:O=!1,didPinClickThrough:M=!1,firstLoadComplete:Z=!1,intervalId:z,viewportSize:N="lg",isOverRelatedPins:B=!1}=e.initialState||{},[U,V]=(0,g.useState)(j),[H,G]=(0,g.useState)(L),[W,$]=(0,g.useState)(F),[Y,X]=(0,g.useState)(D),[q,J]=(0,g.useState)(O),[Q,ee]=(0,g.useState)(M),[et,ei]=(0,g.useState)(Z),[en,ea]=(0,g.useState)(z),[el,er]=(0,g.useState)(N),[es,eo]=(0,g.useState)(B),ed=(0,g.useRef)(!1),ec=(0,g.useRef)(!1),em=(0,g.useRef)(0),eh=(0,g.useRef)(null),e_=(0,g.useRef)(null),eg=(0,nL.Z)(y),ey=(0,nL.Z)(l),ef=(0,nL.Z)(o),eb=(0,g.useCallback)(e=>{eh.current=e},[]),ev=(0,g.useCallback)(e=>{e_.current=e},[]),eP=(0,g.useCallback)(()=>{if(!ec.current)return;let{BREAKPOINT:e,EXP_SM_BREAKPOINT:t,SM_BREAKPOINT:n}=(0,ex.le)({verticalNavWidth:C}),a=i?t:n,l="lg";"undefined"!=typeof window&&window.innerWidth<e&&(l=window.innerWidth<a?"sm":"md"),er(l)},[i,C]),eS=(0,g.useMemo)(()=>(0,ih.Z)(eP,50),[eP]),ew=(0,g.useCallback)(()=>{clearInterval(en),k&&k({didLongClickThrough:!0})},[en,k]),{pinFormattedLink:ek,trafficSource:eI,isCloseupMediaViewerOpen:eT}=e,eA=(0,g.useCallback)(e=>{let i=!!h?.story_pin_data_id&&s,{wasImageClicked:n,auxData:a,componentType:l=i?228:4,elementType:o=n?35:i?11157:361,viewType:c=eT?675:3}=e||{},u=(0,ep.Z)({hasPin:!!h,hasPinRichMetadata:!!h?.rich_metadata,hasPinRichMetadataProducts:!!h?.rich_metadata?.products,hasPinRichMetadataArticle:!!h?.rich_metadata?.article,hasPinRichMetadataRecipe:!!h?.rich_metadata?.recipe,hasPinStoryPinData:!!h?.story_pin_data}),p={...r?.(),...a||{},is_promoted:h?.is_promoted};E?.isAuth&&!Q&&k&&(k({didPinClickThrough:!0}),ee(!0)),i&&d?.({event_type:102,view_type:132,view_parameter:3549,element:12971,aux_data:{pin_id:h?.id,url:ek}}),d?.({event_type:101,object_id_str:y,component:l,element:o,clientTrackingParams:t,aux_data:{...r?.(),...a||{}}}),d?.({event_type:12,object_id_str:y,view_type:c,view_parameter:u,component:l,element:o,aux_data:{...p,...(0,nA.Z)(h.link_utm_applicable_and_replaced)},clientTrackingParams:t}),d?.({event_type:8948,view_type:c,view_parameter:u,component:l,element:o,object_id_str:y,clientTrackingParams:t,aux_data:{click_type:"clickthrough",closeup_navigation_type:eI&&(0,eu.sV)(eI)?"deeplink":"click",...r?.(),...a||{}}}),n&&ea(window.setInterval(ew,12e4)),em.current=Date.now(),q&&J(!1),v(!0)},[ek,E,eI,d,r,s,eT,h,Q,k,y,t,q,v,ew]),eC=(0,g.useCallback)(()=>{clearInterval(en),k&&k({didLongClickThrough:!1})},[en,k]),eE=(0,g.useCallback)(()=>{em.current>0&&(J(Date.now()-em.current<5e3),em.current=0)},[]),ej=(0,g.useCallback)(()=>{d?.({event_type:101,object_id_str:U?.id,component:4,element:0,clientTrackingParams:t,aux_data:{...r?.()}}),v(!0)},[d,U?.id,t,r,v]),eR=(0,g.useCallback)(()=>{c()},[c]),{isEnabled:eL}=(0,tY.Z)({dangerouslySkipActivation:!0}),eO=(0,g.useCallback)(e=>{et&&((0,tS.nP)(`closeup.dweb.css_carousel.${eL?"enabled":"control"}.global_carousel_index_update`,{sampleRate:1,tags:{index:e}}),G(t=>({...t,carouselData:{...t.carouselData||{},index:e}})))},[et,eL]),eM=(0,g.useMemo)(()=>(0,ih.Z)(()=>{if(!e_.current)return;let e=e3.hu,t=(e_.current?.getBoundingClientRect().top??0)<=e;eo(e=>!!t||e&&t),!t&&es&&eo(!1)},10),[es]),eZ=(0,g.useCallback)(e=>{$(!e),eh&&(eh.ariaHidden=!e)},[$]),ez=(0,g.useCallback)(e=>{e.stopPropagation(),eR()},[eR]),eN=(0,g.useCallback)(e=>{X(!!e),P?.(!!e),e&&d?.({component:13464,element:11981,event_type:10554,view_type:3})},[d,P]),eK=(0,g.useCallback)(()=>{let t=h?.board||{},i=e.viewer,n=t.is_collaborative&&(0,nv.Z)(t?.collaborated_by_me,t?.owner?.id,i);return!!(i.isAuth&&h?.pinner?.id===i.id||n)},[h?.board,h?.pinner?.id,e.viewer]),eB=(0,g.useCallback)(()=>{let t,{mainImage:i}=e;if(!et)return;let n=n_({carouselData:h?.carousel_data,images:h?.images,product:h?.rich_metadata?.products?.[0]||h?.rich_summary?.products?.[0]}),a=(n?.carousel_slots||[])[0]||{},l=(0,nP.Z)(a.images),r=H.carouselData,s=H.mainImage||{url:""},o=r?.index||0;t=n&&(n.carousel_slots?.length||0)>1?{mainImage:i,carouselData:{...n,index:o},previewImage:ny(h?.images?.["236x"])}:l?.url?{mainImage:{url:l.url,height:l.height||1,width:l.width||1}}:{mainImage:i,previewImage:ny(h?.images?.["236x"])};let d=t.carouselData?.id,c=r?.id,u=t.carouselData?.carousel_slots,p=r?.carousel_slots,m=t.mainImage?.url??"",_=s.url??"";(c!==d||JSON.stringify(p)!==JSON.stringify(u)||_!==m)&&G(t)},[h,e,et,H]);(0,g.useEffect)(()=>{let{didRepin:t,isLandingPage:i,pinResource:{data:a},pwtSurfaceContext:l}=e;eB(),et&&!ed.current&&(l?.removeConstraint?.("thumbnailsLoaded"),(0,im.l7)("thumbnailsLoaded"),ed.current=!0),a&&!et&&(a.carousel_data&&(a.carousel_data.index=H.carouselData?.index||0),V(a),ei(!0)),n&&b&&y&&eg!==y&&nz({conversation_id:n,senderId:b,pinId:y});let r={};((0,io.M0)().getItem(ir.W3)||"").includes(`/pin/${y}`)&&i&&(r.loginPageType="pin"),t&&(r.didRepin=!0),h?.image_signature&&(r.pin_image_signature=h.image_signature),r.is_own_or_group_pin=eK();let s=ey!==t||e.isLandingPage!==ef||eg!==y;!(0,nI.Z)(r)&&s&&k&&k({...r})},[y,b,n,e,et,ed,H.carouselData,k,eg,eB,h.image_signature,eK,ey,ef]),(0,e2.Z)(()=>(ec.current=!0,n&&b&&y&&nz({conversation_id:n,senderId:b,pinId:y}),n&&(a?.(n),I&&u?.()),h?.image_signature&&w?.(h.image_signature),y&&S?.(y),k&&k({is_own_or_group_pin:eK()}),eP(),window.addEventListener("resize",eS),window.addEventListener("focus",eE),window?.location?.search?.includes("invite_code=")&&(0,nk.Z)(),()=>{window.removeEventListener("resize",eS),window.removeEventListener("focus",eE),ec.current=!1}));let eU=eD.u6,eV=e.isCommentThreadExpanded||!1,{recommendation_reason:eH}=h,{contextPinIds:eG,experimentsClient:{checkExperiment:eW},landingContext:e$,searchQuery:eY,topLevelTrafficSource:eX,topLevelTrafficSourceDepth:eq}=e,eJ={name:"RelatedModulesResource",options:{additional_fields:(0,g.useCallback)(()=>{let e=[],t=eW("hfp_gen_ai_topics_opt_out_dweb",{dangerouslySkipActivation:!0}).group;return t&&(["control_pwt","enabled_pwt"].includes(t)&&eW("hfp_gen_ai_topics_opt_out_dweb"),"control_pwt"!==t&&e&&!e.includes("pin.gen_ai_topics")&&(e=[...e,"pin.gen_ai_topics"])),e},[eW])(),pin_id:h.id||y,context_pin_ids:eG,homefeed_source_sig:eH&&["NAVBOOST_P2P","NAVBOOST_PFY","INSTANT_PFY_NON_MATERIALIZABLE","P2P","P2P_CLICKTHROUGH","FRESH_TEXT_EMBEDDINGS","INTENTIONAL_DISTRIBUTION_GEMINI_V5"].includes(eH.reason||"")&&eH.reason_id,page_size:12,search_query:eY,source:eI,top_level_source:eX,top_level_source_depth:eq,is_pdp:!1,landing_context:e$}},eQ=(0,eF.q6)(E,h.pinner?.id,p),e0=(!!h.id||!!y)&&!eQ||i,{data:e1}=T||{},{isLimitedLogin:e6,routePush:e4,showRepinOnInitialRender:e5,trendsData:e8,userBusinessRoleResource:e7}=e,e9=(0,A.jsx)(t$,{clientTrackingParams:t,closeupWithinMasonryEnabled:i,didShortClickThrough:q,executeClickthrough:eA,handleBackButtonClick:eR,handleCarouselSwipe:eO,handleCloseupBodyContainerRef:eb,handleIdeaCloseupCommentIconClick:eN,handleSaveClicked:ej,isCloseupMaximized:W,isCommentThreadExpanded:eV,isEligibleForStaticImageIdeaPin:s,isLimitedLogin:e6,maxWidth:eU,onToggleIdeaPinCloseupPanel:eZ,peekCloseupEnabled:m,pin:h,pinDerivedData:_,pinResource:f,relatedPinsContainerRef:x,routePush:e4,shopping:R,showRepinOnInitialRender:e5,storyPinTaggedProducts:e1,trafficSource:eI,trendsData:e8,updateViewportSize:eP,userBusinessRoleResource:e7,viewportSize:el}),te=(0,A.jsx)(nj.Z,{handleScroll:eM,onClick:eR,showShadow:es}),tt=(0,A.jsx)(ix,{backButton:te,bodyContent:e9,firstLoadComplete:et,isVideoPin:_.isVideoPin,onWrapperClick:ez,pin:h,pinResource:f,relatedModulesContent:e0?(0,A.jsx)(ns._m,{children:(0,A.jsx)(ns.IQ,{children:(0,A.jsx)(nm,{clientTrackingParams:t,closeupBody:e9,isVideoPin:_.isVideoPin,isYoutubePin:_.isYoutubePin,pinKey:{type:"deprecated",data:h},relatedPinsContainerRef:x,relatedResourceOptions:eJ,searchQuery:eY,setRelatedPinsHeaderRef:ev,topLevelTrafficSource:eX,trafficSource:eI,viewParameter:(0,ep.Z)({hasPin:!!h,hasPinRichMetadata:!!h?.rich_metadata,hasPinRichMetadataProducts:!!h?.rich_metadata?.products,hasPinRichMetadataArticle:!!h?.rich_metadata?.article,hasPinRichMetadataRecipe:!!h?.rich_metadata?.recipe,hasPinStoryPinData:!!h?.story_pin_data}),viewportSize:el})})}):(0,A.jsx)(g.Fragment,{})}),{abortNoActionPlacementTimeout:ti,calculatedImageHeight:tn,isCommentAttachmentSelectorOpen:ta,isCommentComposerFocused:tl,isCommentPopoverInteractionActive:tr,isMediaViewerOpen:ts,isShoppingModuleExpanded:to,setCalculatedImageHeight:td,setIsCloseupMediaViewerOpen:tc,setIsCommentAttachmentSelectorOpen:tu,setIsCommentComposerFocused:tp,setIsCommentPopoverInteractionActive:tm,setIsMediaViewerOpen:th,setIsShoppingModuleExpanded:t_}=e;return(0,A.jsx)(iw,{abortNoActionPlacementTimeout:ti,calculatedImageHeight:tn,classProps:e,classState:{...e.initialState,pin:U,shopping:R,visualState:H,isCloseupMaximized:W,isCommentSectionOpen:Y,didShortClickThrough:q,didPinClickThrough:Q,firstLoadComplete:et,intervalId:en,viewportSize:el,isOverRelatedPins:es},clientTrackingParams:t,closeupContent:tt,closeupWithinMasonryEnabled:i,descriptionPaneWidth:eU-eD.Gg-4*!!i,handleBackButtonClick:eR,handleCarouselSwipe:eO,handleFocus:eC,isCloseupMediaViewerOpen:eT,isCommentAttachmentSelectorOpen:ta,isCommentComposerFocused:tl,isCommentPopoverInteractionActive:tr,isCommentThreadExpanded:eV,isMediaViewerOpen:ts,isShoppingModuleExpanded:to,maxWidth:eU,paneWidth:eD.Gg,peekCloseupEnabled:m,setAbortNoActionPlacementTimeout:v,setCalculatedImageHeight:td,setIsCloseupMediaViewerOpen:tc,setIsCommentAttachmentSelectorOpen:tu,setIsCommentComposerFocused:tp,setIsCommentPopoverInteractionActive:tm,setIsCommentThreadExpanded:P,setIsMediaViewerOpen:th,setIsShoppingModuleExpanded:t_,showCloseupContentRight:!i&&(({isWideVideo:e,viewportSize:t,peekCloseupEnabled:i})=>!["md","sm"].includes(t)&&!e||i&&"sm"!==t)({isWideVideo:(0,tN.Z)((0,K.Z)({pin:h}))?.isWideVideo,viewportSize:el,peekCloseupEnabled:m}),showProductDetailPage:!1})}let nK=nx(function(e){var t;let{logContextEvent:i}=(0,ek.u)(),{pin:n,viewer:a,pinResource:l,pinId:r,goToCampaignCreation:s,deepLinkBackGoesToBoard:o,goBack:d,routePush:c,trafficSource:u}=e,p=(0,O.ZP)(),m=(0,em.r)(),h=(0,nE.Z)(),_=(0,eC.B)(),[y,x]=(0,g.useState)(!1),[P,S]=(0,g.useState)(!1),[w,k]=(0,g.useState)(!1),[I,C]=(0,g.useState)(!1),[E,j]=(0,g.useState)(!1),[R,L]=(0,g.useState)(!1),[F,D]=(0,g.useState)(!1),[M,Z]=(0,g.useState)(0),[z,N]=(0,g.useState)(!1),K=(0,iy.Z)(),B=(0,g.useRef)(null),{isRelatedPins10PercentVisible:U,setIsRelatedPins10PercentVisible:V}=(0,tg.K)();(0,g.useEffect)(()=>{let e=new IntersectionObserver(([e])=>{V(!!e&&e.isIntersecting)},{root:null,rootMargin:"-100px 0px 0px 0px",threshold:[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1]}),t=B?.current;return B?.current&&e.observe(B?.current),()=>{t&&e.unobserve(t)}},[B,V]);let{setMostRecentPinId:H,setMostRecentPinImage:G}=(0,nZ.R)(),W=(0,T.Z)({type:"deprecated",data:n}),$=(0,eu.sY)(n.embed?.type)&&"gif"||n.is_eligible_for_pdp&&"productPin"||n.rich_summary?.type_name==="recipe"&&"recipePin"||!!n.story_pin_data_id&&"storyPin"||!!n.videos?.video_list&&"video"||"image",{conversationOpen:Y}=(0,nM.Z)(),X=(0,tc.Z)(),q=(0,nb.Z)(),J=(0,ip.A)(),Q=(0,f.TH)(),ee=(0,nR.dI)(),[et,ei]=(0,g.useState)(!1),{advertiser:en}=_,ea=(0,nF.F0)(en,r),el=(0,nC.Z)({type:"deprecated",data:n}),{landingContext:er}=(0,nT.Z)(),es=(0,eF.lJ)(a,X),ed=(0,nS.Z)({pinKey:{type:"deprecated",data:n}}),ec=m.checkExperiment("web_news_hub_landing_back_to_hf")?.anyEnabled,{onHandleBackButtonClick:ep}=nO({logCommerceAuxData:n.promoted_is_lead_ad,deepLinkBackGoesToBoard:o,goBack:d,routePush:c,trafficSource:u,viewer:a,requestContext:_,pinKey:{type:"deprecated",data:n}},i,ec);(0,g.useEffect)(()=>{l.data&&!et&&s&&ei(!0)},[l.data,et,s]);let eh=!!n,e_=(0,g.useRef)(!1);eh&&J&&!e_.current&&(J.addBinaryAnnotation("pinType",$,"STRING"),(0,im.rt)("pinType",$,"STRING"),e_.current=!0);let eg=n.sponsorship?.sponsor?.id,ey=!n.is_repin&&!!eg,ef=(0,eo.Z)(eg&&ey&&a.isAuth&&"storyPin"===$?{name:"ApiResource",options:{url:`/ads/v4/business_access/businesses/${eg}/me/ad_accounts_permissions/`}}:null),ex=a.isAuth&&(t=a.country,!v.includes(t))&&(0,b.Gv)({orbacSubjectId:es,pinIsRepin:n.is_repin,pinPinnerId:n.pinner?.id,viewerId:a.id,viewerIsPartner:a.isPartner}),{data:eb,isLoaded:eP}=(0,eo.Z)(ex?{name:"ApiResource",options:{url:`/v3/trends/partner/${a.id||""}/trends_for_pin/${n.id}/`,data:{number_terms_to_return:10}}}:null),{sideBySideRedesignFastFollowsEnabled:eS}=(0,ev.Z)(),ew=(0,g.useMemo)(()=>({data:eb,isLoaded:!ex||eP}),[eb,eP,ex]),eI=!!n.story_pin_data_id,eT=nf({pin:n,pinId:r,pinResource:l}),{mainPinImage:eA}=(0,ng.Z)({pinKey:{type:"deprecated",data:n}});return et?(window.location.assign(ea),(0,A.jsx)(g.Fragment,{})):(0,A.jsx)(nN,{...e,abortNoActionPlacementTimeout:z,calculatedImageHeight:M,clientTrackingParams:ed,closeupWithinMasonryEnabled:eS,conversationOpen:Y,experimentsClient:m,getSterlingURL:q,getStringifiedCommerceAuxData:W,i18n:p,initialState:eT,isCloseupMediaViewerOpen:E,isCommentAttachmentSelectorOpen:y,isCommentComposerFocused:P,isCommentPopoverInteractionActive:w,isCommentThreadExpanded:I,isEligibleForStaticImageIdeaPin:eI,isMediaViewerOpen:R,isRelatedPins10PercentVisible:U,isShoppingModuleExpanded:F,landingContext:er,location:Q,logContextEvent:i,mainImage:eA,onHandleBackButtonClick:ep,orbacActingAs:X,peekCloseupEnabled:!eS,pinFormattedLink:el,pwtSurfaceContext:J,relatedPinsContainerRef:B,requestContext:_,setAbortNoActionPlacementTimeout:N,setCalculatedImageHeight:Z,setIsCloseupMediaViewerOpen:j,setIsCommentAttachmentSelectorOpen:x,setIsCommentComposerFocused:S,setIsCommentPopoverInteractionActive:k,setIsCommentThreadExpanded:C,setIsMediaViewerOpen:L,setIsShoppingModuleExpanded:D,setMostRecentPinId:H,setMostRecentPinImage:G,toastManager:ee,trackInteraction:h,trendsData:ew,userBusinessRoleResource:ef,verticalNavWidth:K})});function nB(e){let t=(0,eo.Z)({name:"StoryPinTaggedProductsResource",options:{noCache:!0,id:e.pin.id}});return(0,A.jsx)(nK,{...e,storyPinTaggedProductsResource:t})}var nU=i(778622),nV=i(903683);function nH(e){let{previous:t}=(0,ts.ou)(),i=0===t.length,{children:n}=e,a=(0,f.TH)(),l=(0,tr.Z)(),r=(0,y.I0)(),{isBot:s}=(0,eC.B)(),{dropdownOpen:o}=(0,nM.Z)(),d=(0,nV.JC)(),c=!!d[e.pinId]&&(d[e.pinId].saved||!!d[e.pinId].savedInfo),u=d[e.pinId]||e.pinResource.data||{},p=e.pinResource.data?.story_pin_data?.pages?.[0]?.blocks?.[0]?.video,m=u?.story_pin_data?.pages?.[0]?.blocks?.[0];p&&m&&!m?.video&&((u?.story_pin_data?.pages?.[0]?.blocks?.[0]).video=p);let h="inbox"===(0,i7.mB)(a.search).tab;return n({isLandingPage:i,isLimitedLogin:!!l.isAuth&&l.isLimitedLogin,didRepin:c,openInbox:o,pin:u,shouldShowInbox:h,updateExperienceForPlacement:e=>{r((0,nU.pz)([e],s))}})}var nG=i(904326),nW=i(995208),n$=i(970601);let nY=`
      ::view-transition-group(image),
      ::view-transition-group(video) {
        animation-timing-function: cubic-bezier(0.55, 0, 0, 1);
      }
      ::view-transition-old([view-transition-name="video"]) {
        display: none;
      }
      ::view-transition-new([view-transition-name="video"]) {
        animation: none;
      }
    `,nX=function({children:e}){return(0,A.jsxs)(g.Fragment,{children:[(0,A.jsx)(n$.Z,{unsafeCSS:nY}),e]})};var nq=i(450745),nJ=i(925091);let nQ={display:"block",position:"relative",cursor:"auto"};var n0=i(615718),n1=i(362827);function n2(e){let{disabled:t,height:i,top:n=0,zIndex:a}=e,l=(0,g.useRef)(null),r=(0,n1.Z)();if(t)return e.children;let s=l.current?.getBoundingClientRect().top||0;return(0,A.jsx)(P.xu,{ref:l,"data-test-id":"product-sticky-container",id:"product-sticky-container ",children:(0,A.jsx)(P.Le,{height:i,top:r+n+s,zIndex:a,children:e.children})})}function n3({isStoryPin:e,isWideVideo:t,pin:i,trafficSource:n,viewParameterType:a,onClickThrough:l,showStructuredDescription:r,didShortClickThrough:s,goBack:o,isInStream:d=!1,isDeletedStoryPin:c,onSaveButtonClick:u,onUpdate:p,outerBodyStyle:m,routePush:h,showPartnerModule:_,showPinStats:y,showTrendsOnPinCloseup:f,showRepinOnInitialRender:x,trendsData:b,viewType:v}){let P=(0,g.useRef)(null),S=(0,g.useRef)(null),w=(0,tr.Z)(),{closeupWithinMasonryEnabled:k,clientTrackingParams:I}=(0,G.x4)(),{checkExperiment:T}=(0,em.r)(),C=(0,tc.Z)(),E=(0,eF.lJ)(w,C),j=e5(90),R=e8(),{isCloseupMediaViewerEnabled:L}=(0,tt.Z)({isShufflePin:!!i?.shuffle}),F=(0,g.useCallback)(()=>{l&&l({componentType:129}),R.setClickthroughComponentForSurvey("legoMaybeLink")},[l,R]),[D,O]=(0,g.useState)(!1),M=!!i.is_eligible_for_aggregated_comments,Z=k&&M&&"enabled_dropdown"===T("ce_dweb_new_closeup_comment_module").group,z=k&&M&&"enabled_popover"===T("ce_dweb_new_closeup_comment_module").group,{setClickthroughComponentForSurvey:N,imageContainerRef:K}=R,{getViewParameter:B}=ef({type:"deprecated",data:i}),U=B(a),V=(0,g.useCallback)(()=>{l({wasImageClicked:!0})},[l]),H=eD.ER,W=(0,A.jsx)(tn.Z,{id:"VisualContentContainer",children:(0,A.jsx)(th,{handleImageClickThrough:V,imageContainerRef:K,isStoryPin:e,isWideVideo:t,onSaveButtonClick:u,pin:i,setClickthroughComponentForSurvey:N,trafficSource:n,viewParameter:U,viewParameterType:a,visualContentContainerRef:M?j.visualContentContainerRef:void 0})}),$=(0,A.jsx)(tn.Z,{id:"ProductStickyContainer-2",children:(0,A.jsx)(n2,{disabled:!1,top:-16,zIndex:tu.mS,children:W})}),Y=r&&!L?$:W,X=(0,e$.Z)({pinKey:{type:"deprecated",data:i},orbacActingAs:C,viewer:w}),q=(0,A.jsx)(g.Fragment,{children:(0,A.jsx)(tn.Z,{id:"ProductMetadata",children:(0,A.jsx)(n0.Z,{clientTrackingParams:I,detailsScrollContainerRef:P.current,inCommentsImprovedDropdownExp:Z,inCommentsPopoverExp:z,isBoardOwnerOrCollaborator:X,isLoadingNewlyCreatedComment:D,onClickThrough:l,outerPaddingSize:H,pinKey:{type:"deprecated",data:i},showPartnerModule:_,showPDPComments:M,showPinStats:y,showStructuredDescription:r,showTrendsOnPinCloseup:f,trendsData:b,viewParameter:U})})});return(0,A.jsx)(tn.Z,{id:"CloseupBodyLayout",children:(0,A.jsx)(tR,{actionBarContainerRef:S,closeupActionBarMaxWidth:k?void 0:eD.CI,descriptionContentMaxHeight:M?j.descriptionContentMaxHeight:void 0,didShortClickThrough:s,disableLeadPin:!0,goBack:o,inCommentsImprovedDropdownExp:Z,inCommentsPopoverExp:z,isCloseupMaximized:!1,isDeletedStoryPin:c,isEligibleForPinReactions:!i.is_promoted&&!i.is_downstream_promotion&&!c,isInStream:d,isStoryPin:e,isWideVideo:t,marginBottom:8*!k,metadata:q,metadataContainerRef:P,onClickThrough:F,onSaveButtonClick:u,onUpdate:p,orbacSubjectId:E,outerBodyStyle:m,outerPaddingSize:H,pin:i,routePush:h,setIsLoadingNewlyCreatedComment:O,showPDPComments:M,showRepinOnInitialRender:x,trafficSource:n,viewer:w,viewParameter:U,viewType:v,visualContentContainer:Y,visualContentContainerRef:M?j.visualContentContainerRef:void 0,webLinkSurveyState:R})})}let n6=(0,eZ.Z)(()=>i.e(95246).then(i.bind(i,258488)),{ssr:!1},e=>258488,"CloseupPartnerModule"),n4=(0,eZ.Z)(()=>i.e(75754).then(i.bind(i,637310)),{ssr:!1},e=>637310,"SponsorshipApprovalModule"),n5={boxShadow:"0 1px 20px 0 rgba(0, 0, 0, 0.1)",borderRadius:32},n8={boxShadow:void 0,borderRadius:16},n7=({closeupWithinMasonryEnabled:e,didShortClickThrough:t,executeClickthrough:i,handleBackButtonClick:n,handleSaveButtonClick:a,isEligibleForStlFlyout:l,isLimitedLogin:r,isRelatedPins10PercentVisible:s,maxWidth:o,orbacActingAs:d,pin:c,pinResource:u,routePush:p,showRepinOnInitialRender:m,showStructuredDescription:h,trendsData:_,userBusinessRoleResource:y,relatedResourceOptions:f,storyPinTaggedProducts:x,trafficSource:v,viewer:S,viewportSize:w})=>{let{checkExperiment:k}=(0,em.r)(),{id:I,sponsorship:T,story_pin_data_id:C,story_pin_data:E}=c,j=!!C,R=!!E?.is_deleted,{creator:L,sponsor:F,status:D}=T||{},{username:O}=L||{},{username:M}=F||{},{refresh:Z}=u,z=(0,eF.lJ)(S,d),{data:N}=y||{},B=!c.is_repin&&!!M,U=M===S.username?[tO.V3.OWNER]:N?.permissions,V=M===S.username||!!U?.find(e=>tM.includes(e)),H=M===S.username||!!U?.find(e=>tM.includes(e)),{isWideVideo:G}=(0,tN.Z)((0,K.Z)({pin:c}))||{},W=(0,tz.Z)({type:"deprecated",data:c},S,z),$=(0,b.CA)(_?.data),Y=B&&S.isAuth&&k("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled&&(V&&0===D||H&&1===D),X=j&&(E?.pages?.length??0)>0,q=(0,tZ.WE)(S,w,W,$,_,Y),J=e?n8:n5;return(0,A.jsx)(P.xu,{dangerouslySetInlineStyle:{__style:j?{...nQ,width:"100%"}:{}},"data-test-id":"gradient",display:"flex",id:"gradient",justifyContent:"center",children:(0,A.jsx)(g.Fragment,{children:(0,A.jsx)(tn.Z,{id:"ResponsiveCloseupContainer",children:(0,A.jsx)(tB.Z,{isStoryPin:j,isWideVideo:G,children:(0,A.jsx)(eT.Z,{name:"CloseupBody",children:(0,A.jsxs)(P.xu,{children:[(0,A.jsxs)(P.xu,{alignItems:G?"center":void 0,direction:G?"column":void 0,display:G?"flex":void 0,children:[Y&&"number"==typeof D&&(0,A.jsx)(P.xu,{"data-test-id":"sponsorship-approval-module",display:"flex",children:(0,A.jsx)(eT.Z,{name:"SafeSuspense_Closeup_SponsorshipApprovalModule",children:(0,A.jsx)(tn.Z,{id:"SponsorshipApprovalModule",children:(0,A.jsx)(eE.Z,{children:(0,A.jsx)(n4,{business_role:U,creatorUsername:O??"",pinId:I,sponsorshipStatus:D})})})})}),q&&!e&&(0,A.jsx)(P.xu,{"data-test-id":"PartnerModule",width:"lg"===w&&G?o:"100%",children:(0,A.jsx)(eT.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,A.jsx)(tn.Z,{id:"PartnerModule",children:(0,A.jsx)(eE.Z,{children:(0,A.jsx)(n6,{borderStyle:J,isStoryPin:j,pinKey:{type:"deprecated",data:c},showPinStats:W,trendsData:$?_?.data?.results:null,viewportSize:w})})})})})]}),(0,A.jsx)(tn.Z,{id:"ProductDetailPageBody",children:(0,A.jsx)(n3,{data:u.data,didShortClickThrough:t,goBack:n,isDeletedStoryPin:!!R,isEligibleForStlFlyout:l,isRelatedPins10PercentVisible:s,isStoryPin:j,isWideVideo:G,onClickThrough:i,onSaveButtonClick:a,onUpdate:Z,outerBodyStyle:j?null:J,pin:c,relatedResourceOptions:f,routePush:p,showPartnerModule:q,showPinStats:W,showRepinOnInitialRender:!r&&m,showStructuredDescription:h,showTrendsOnPinCloseup:$,storyPinTaggedProducts:x,trafficSource:v,trendsData:_,viewParameterType:X?157:void 0,viewType:3})})]})})})})})})},n9=(0,eZ.Z)(()=>i.e(93810).then(i.bind(i,211090)),void 0,e=>211090,"StructuredFeedStoryModule"),ae=(0,eZ.Z)(()=>i.e(64287).then(i.bind(i,510998)),void 0,e=>510998,"app-common-react-components-closeup-CloseupRelatedModules-DomainModule"),at=(0,eZ.Z)(()=>Promise.resolve().then(i.bind(i,523372)),void 0,e=>523372,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesInclusiveFilters"),ai=(0,eZ.Z)(()=>i.e(60682).then(i.bind(i,168236)),void 0,e=>168236,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesHeader"),an=(void 0!==m||(m=i(286274)).hash&&"cce8a8d5ad05c8e6c1137bf7c8845c2a"!==m.hash&&console.error("The definition of 'ProductDetailPageRelatedModule_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),m),aa=(0,g.forwardRef)(({clientTrackingParams:e,pinKey:t,setRelatedPinsHeaderRef:i,slotIndex:n,story:a,topLevelTrafficSource:l,viewParameter:r,viewportSize:s},o)=>{let d=(0,k.Z)(an,t),{closeupWithinMasonryEnabled:c}=(0,G.x4)();if(!a)return null;let{container_type:u,story_type:p}=a,m=(0,ik.oV)(p);if((0,i8.Z)(u)){let e=88===u,t=90===u;return(0,A.jsx)(P.xu,{marginBottom:e||t?0:12,paddingX:12*!!t,children:(0,A.jsx)(n9,{componentFallback:13176,initialSlotIndex:n,story:a,storyKey:{type:"deprecated",data:a},surface:"ShoppingDynamicHeightGrid",view:3,viewParameter:r})})}return(0,ik.HM)(p)&&m?!c&&(0,A.jsx)(P.xu,{alignSelf:"center",children:(0,A.jsx)(at,{filter:m,story:a,viewParameter:r})}):["related_products_feed_header","related_modules_header"].includes(p)?(0,A.jsx)(P.xu,{ref:i,"data-test-id":"related-modules-header",children:(0,A.jsx)(ai,{ref:o,clientTrackingParams:e,slotIndex:n,storyId:a.id,storyType:p,title:a.title?.format,viewParameter:r})}):"related_domain_carousel"===p?(0,A.jsx)(P.xu,{display:"flex",justifyContent:"center",marginBottom:12,children:(0,A.jsx)(ae,{closeupImageSignature:d.imageSignature||"",data:a,slotIndex:n,storyId:a.id,storyType:p,topLevelTrafficSource:l,viewParameter:r,viewportSize:s})}):null});var al=i(73631),ar=i(989629);let as=(0,eZ.Z)(()=>i.e(93810).then(i.bind(i,211090)),void 0,e=>211090,"app-packages-StructuredFeed-ModuleReps-utils-StructuredFeedStoryModule"),ao=()=>(0,A.jsx)(g.Fragment,{children:Array(12).fill(void 0).map((e,t)=>(0,A.jsx)(P.xu,{marginEnd:4,width:al.j},`empty-pin-${t}`))}),ad=(void 0!==h||(h=i(724192)).hash&&"86cb4963f4714e2184c01e13236c3616"!==h.hash&&console.error("The definition of 'ProductDetailPageRelatedPins_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),h);function ac(e){return 154===e.container_type?2:e.columnSpan??e.display_options?.content_display?.grid_layout?.cols??1}function au({surface:e="PdpRelatedPinGrid",closeupBody:t,closeupInclusiveFilters:i,isFetching:n=!1,pinKey:a,relatedPins:l,showResponsiveInclusiveFilters:r,topLevelTrafficSource:s}){let o=(0,O.ZP)(),{closeupWithinMasonryEnabled:d}=(0,G.x4)(),c=(0,k.Z)(ad,a),u=(0,no.Z)(),p=(0,g.useRef)(null),m=(0,ep.Z)({hasPin:!!c,hasPinRichMetadata:!!c.richMetadata,hasPinRichMetadataProducts:!!c.richMetadata?.products,hasPinRichMetadataArticle:!!c.richMetadata?.article,hasPinRichMetadataRecipe:!!c.richMetadata?.recipe,hasPinStoryPinData:!!c.storyPinData}),h=(0,g.useMemo)(()=>iz(l),[l]),_=({data:n,itemIdx:a})=>{let l=(0,i3.Z)(u),r=a-h,o=null;switch(n.type){case"closeup_module":o=t;break;case"shopping_module":o=(0,A.jsx)(e0.Z,{moduleWidth:"100%",pinKey:c,trafficSource:s,viewParameter:m});break;case"inclusive_filters_module":o=i;break;case"story":switch(154===n.container_type&&(o=(0,A.jsx)(ar.Z,{slotIndex:r,story:n,viewParameter:m,viewType:3})),n.story_type){case"BUBBLE_ONE_COL":o=(0,A.jsx)(i9.default,{bubbles:n.objects,id:n.id,referringSource:n.referring_source,slotIndex:r,storyType:n.story_type,title:n.title,viewParameter:m,viewType:3});break;case"related_query_shop_upsell_closeup":o=(0,A.jsx)(iQ.default,{itemIdx:r,story:n,viewParameter:m,viewType:3})}(0,i8.Z)(n.container_type)&&(o=(0,A.jsx)(as,{initialSlotIndex:r,story:n,storyKey:{type:"deprecated",data:n},styleOverrides:{showModuleBorder:ac(n)>1},view:3,viewParameter:m}));break;default:o=(0,A.jsx)(nt.r,{componentType:13176,imageOnlyOption:l?"image-only":"default",pinId:n.id,pinKey:{type:"deprecated",data:n},slotIndex:r,surface:e,trackingParams:n.tracking_params,viewData:{pin_id:c.entityId},viewParameter:m,viewType:3})}return(0,A.jsx)(iM,{children:o})},y={isLoadedAccessibilityLabel:l.length>0?o._('Loaded more related product results', 'closeup.relatedProducts.results', 'Accessibility label for loaded more related product results'):o._('Loaded related products result', 'closeup.relatedProducts.results', 'Accessibility label for loaded related products result'),isLoadingAccessibilityLabel:l.length>0?o._('Loading more related products results', 'closeup.relatedProducts.loading', 'Accessibility label for loading more related products results'):o._('Loading related products results', 'closeup.relatedProducts.loading', 'Accessibility label for loading related products results')},f=d?(0,A.jsx)(i1.default,{_getResponsiveModuleConfigForSecondItem:(0,iK.fz)(!!r),align:"center",getColumnSpanConfig:ac,isFetching:n,isLoadingStateEnabled:!0,items:l,layout:"basic",masonryRef:p,minCols:2,renderItem:_,serverRender:!0,virtualize:iK.o1,...y}):(0,A.jsxs)(P.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"5px"}},children:[(0,A.jsx)(i1.default,{getColumnSpanConfig:ac,isFetching:n,isLoadingStateEnabled:!0,items:l,renderItem:_,...y}),(0,A.jsx)(ao,{})]});return(0,A.jsx)(nd.Z,{metricName:"RelatedModulesFeed",children:(0,A.jsx)(iP.Z,{component:86,viewParameter:m,children:f})})}var ap=i(203016),am=i(606479);let ah=(void 0!==_||(_=i(698667)).hash&&"85ae0703574c2bc161bc13206c3184f8"!==_.hash&&console.error("The definition of 'ProductDetailPageRelatedModules_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),_),a_=(0,g.forwardRef)(({clientTrackingParams:e,closeupBody:t,excludeStories:i,initialSlotIndex:n=0,isFilteredFeed:a,pinKey:l,relatedModulesFeedResource:r,setRelatedPinsHeaderRef:s,topLevelTrafficSource:o,viewParameter:d,viewportSize:c},u)=>{let p=(0,k.Z)(ah,l),{search:m}=(0,f.TH)(),{closeupWithinMasonryEnabled:h}=(0,G.x4)(),_=iN(new URLSearchParams(m).get("filters")??""),y=(0,g.useMemo)(()=>(r.data||[]).filter(e=>["SKIN_TONE_FILTER_QUERIES","hair_pattern_filter_queries","inclusive_onebar_pills_on_closeup"].includes(e?.story_type??"")).find(e=>(0,ik.HM)(e?.story_type??"")),[r]),{closeupMasonryModules:x,inclusiveFilters:b}=(0,iK.ZP)({pinId:p.entityId,inclusiveModuleToCache:y,showProductDetailPage:!0}),v=b?(0,ik.oV)(b.story_type??""):"",{inInclusiveEfficientRefinements:S}=(0,iB.Z)(v),w=h&&S&&_,I=(0,eo.Z)(w?{name:"ApiResource",options:{url:`/v3/pins/${p.entityId}/related/pins/filter/`,data:{fields:iG.Z,related_pins_tabs_selections:_}}}:null),{data:T,isAtEnd:C,isFetching:E,fetchMore:j,nextBookmark:R}=w?I:r,L=(0,g.useMemo)(()=>(T||[]).filter(e=>!(i&&"story"===e.type&&e.story_type&&i.includes(e.story_type))),[T,i]),F=a&&R===i4.qx,D=T?T.length:0,O=(0,g.useMemo)(()=>(0,am.Z)(L),[L]),M=(0,g.useCallback)(e=>!!("pin"===e.type||"story"===e.type&&(ap.v8.has(e.story_type)||ap.AW.has(e.story_type)||154===e.container_type))||!1,[]),Z=(0,f.k6)(),z=(0,g.useRef)(n),N=(0,i7.mB)(m).rs,K=Z?.action==="POP";(0,g.useEffect)(()=>{iH({isFromBackButton:K,referringSource:N,relatedModulesRef:u})},[K,m,N,u]);let B=(0,g.useMemo)(()=>b&&v?(0,A.jsx)(iF.default,{filter:v,story:b,viewParameter:d}):null,[b,v,d]),{storyModules:U,allPins:V}=(0,g.useMemo)(()=>{let t=[],i=[...x],n=0;return O.length>0&&O.forEach((a,l)=>{0===l&&(z.current=0,n=0);let r=0;Array.isArray(a)?(r+=a.length,i.push(...a.filter(M))):"story"===a.type&&(r+="objects"in a&&Array.isArray(a.objects)?a.objects.length:1,t.push((0,A.jsx)(P.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:(0,A.jsx)(aa,{ref:u,clientTrackingParams:e,pinKey:p,setRelatedPinsHeaderRef:s,slotIndex:n,story:a,topLevelTrafficSource:o,viewParameter:d,viewportSize:c})},Array.isArray(a)?a[0]?.id:a.id))),z.current=n+=r}),{storyModules:t,allPins:i}},[x,O,M,e,p,s,o,d,c,u]);return(0,A.jsxs)(g.Fragment,{children:[U,(0,A.jsx)(tn.Z,{id:"ProductDetailPageRelatedPins",children:(0,A.jsx)(au,{closeupBody:t,closeupInclusiveFilters:B,initialSlotIndex:z.current,isFetching:E,pinKey:p,relatedPins:V,showResponsiveInclusiveFilters:S,surface:a?"ShoppingDynamicHeightGrid":void 0,topLevelTrafficSource:o})}),(0,A.jsx)(P.gr,{fetchMore:j,isAtEnd:C,isFetching:E}),F&&D>0&&(0,A.jsx)(iR,{}),F&&0===D&&(0,A.jsx)(iL,{})]})});function ag({relatedPinsContainerRef:e,relatedResourceOptions:t,viewParameter:i,...n}){let{search:a}=(0,f.TH)(),l=new URLSearchParams(a).get("utm_source"),r=(0,eo.Z)("ads_manager"===l?null:t);return(0,A.jsx)(P.xu,{ref:e,"data-test-id":"relatedPins",direction:"column",display:"flex",flex:"grow",position:"relative",children:(0,A.jsx)(tn.Z,{id:"RelatedModulesFeed",children:(0,A.jsx)(a_,{...n,ref:e,excludeStories:[],initialSlotIndex:0,isFilteredFeed:!1,relatedModulesFeedResource:r,relatedResourceOptions:t,viewParameter:i})})})}var ay=i(985459),af=i(629342),ax=i(219463),ab=i(552367),av=i(739951);let aP=80;function aS({conversation_id:e,senderId:t,pinId:i}){(0,nw.Z)({url:`/v3/conversations/${e}/message/mark_seen/`,method:"POST",data:{sender:t,pin:i}})}function aw(e){let{clientTrackingParams:t,closeupWithinMasonryEnabled:i,conversation_id:n,conversationOpen:a,didRepin:l,dispatch:r,goToCampaignCreation:s,i18n:o,initialState:d,isLandingPage:c,isLimitedLogin:u,logContextEvent:p,mainImage:m,onHandleBackButtonClick:h,openInbox:_,orbacActingAs:y,peekCloseupEnabled:f,pin:x,pinFormattedLink:b,pinId:v,pinResource:S,pwtSurfaceContext:k,requestContext:I,routePush:C,senderId:E,setAbortNoActionPlacementTimeout:j,setMostRecentPinId:R,setMostRecentPinImage:L,setPlacementExtraContext:F,shouldShowInbox:D,showRepinOnInitialRender:O,showStructuredDescription:M,toastManager:Z,trackInteraction:z,trafficSource:N,trendsData:B,userBusinessRoleResource:U,verticalNavWidth:V,viewer:H}=e,{visualState:G,didShortClickThrough:W=!1,isOverRelatedPins:$=!1,viewportSize:Y="lg",firstLoadComplete:X=!1,campaignCreationTriggered:q=!1,intervalId:J}=d||{},Q=d?.didPinClickThrough||!1,[ee,et]=(0,g.useState)(G),[ei,en]=(0,g.useState)(W),[ea,el]=(0,g.useState)(Y),[er,es]=(0,g.useState)($),[eo,ed]=(0,g.useState)(X),[ec,em]=(0,g.useState)(q),[eh,e_]=(0,g.useState)(J),[eg,ey]=(0,g.useState)(Q),ef=(0,g.useCallback)(()=>{et(e=>{let t=n_({carouselData:x.carousel_data,images:x.images,product:(x.rich_metadata||x.rich_summary)?.products?.[0]});return{...e,carouselData:t}})},[x]);(0,e2.Z)(()=>{let e=function({richPinData:e={}}){return e?.products?.[0]}({richPinData:x.rich_summary});!ee.carouselData&&(e?.has_multi_images||e?.videos?.length)&&ef()});let[ex,eb]=(0,g.useState)(!1),ev=(0,g.useRef)(!1),eP=(0,g.useRef)(null),eS=(0,g.useRef)(0),ew=(0,g.useMemo)(()=>{let e=(x||{}).board||{},t=e.is_collaborative&&(0,nv.Z)(e.collaborated_by_me,e.owner?.id,H);return!!(H.isAuth&&x.pinner?.id===H.id||t)},[x,H]),ek=(0,g.useCallback)(()=>{let{isWideVideo:e}=(0,tN.Z)((0,K.Z)({pin:x}))||{};ev.current&&el(function({isWideVideo:e,hasCarouselData:t,closeupWithinMasonryEnabled:i,verticalNavWidth:n}){let{BREAKPOINT:a,WIDE_VIDEO_BREAKPOINT:l,WIDE_PDP_BREAKPOINT:r,SM_BREAKPOINT:s,EXP_SM_BREAKPOINT:o,SM_WITH_CAROUSEL_BREAKPOINT:d}=(({verticalNavWidth:e})=>({BREAKPOINT:1056+e,WIDE_VIDEO_BREAKPOINT:998+e,WIDE_PDP_BREAKPOINT:1300+e,SM_BREAKPOINT:680+e,EXP_SM_BREAKPOINT:860+e,SM_WITH_CAROUSEL_BREAKPOINT:960+e,BACK_BUTTON_WIDE_BREAKPOINT:1135+e,BACK_BUTTON_WIDE_CAROUSEL_BREAKPOINT:1465+e,BACK_BUTTON_WITH_LABEL_WIDE_BREAKPOINT:1340+e,BACK_BUTTON_WITH_LABEL_WIDE_CAROUSEL_BREAKPOINT:1640+e,BACK_BUTTON_NARROW_CAROUSEL_BREAKPOINT:780+e,BACK_BUTTON_NARROW_BREAKPOINT:630+e}))({verticalNavWidth:n}),c=a,u=i?o:s;return(e&&(c=l),t&&(c=r,u=i?d:u),window?.innerWidth<u)?"sm":window?.innerWidth<c?"md":"lg"}({isWideVideo:!!e,hasCarouselData:!!ee?.carouselData,closeupWithinMasonryEnabled:i,verticalNavWidth:V}))},[i,x,V,ee?.carouselData]),eI=(0,g.useCallback)(()=>{eS.current>0&&(en(Date.now()-eS.current<5e3),eS.current=0)},[]);(0,e2.Z)(()=>{ev.current=!0,n&&E&&v&&aS({conversation_id:n,senderId:E,pinId:v}),n&&(a(n),D&&_()),x.image_signature&&L(x.image_signature),v&&R(v),F&&F({is_own_or_group_pin:ew});let e=(0,io.M0)().getItem(ir.M8)||"";return e&&e===v&&((0,io.M0)().removeItem(ir.M8),z({action:"trigger",item:"unauth-save-button-quicksave"}),(0,ay.Z)({description:x.description,entityId:x.id,link:x.link,promotedIsRemovable:x.promoted_is_removable,title:x.title},o).then(e=>{let{id:t,url:i,name:n}=e;r((0,av.d)({boardId:t,url:i,title:n||"",pinId:v,nodeId:x.node_id})),Z.showToast(({hideToast:t})=>(0,A.jsx)(ab.Z,{boardName:e.name,boardUrl:e.url,onHide:t,pinImageUrl:x.images?.["236x"]?.url??""}))})),ek(),window.addEventListener("resize",ek),window.addEventListener("focus",eI),window?.location?.search?.includes("invite_code=")&&(0,nk.Z)(),()=>{window.removeEventListener("resize",ek),window.removeEventListener("focus",eI),ev.current=!1}});let eT=(0,g.useCallback)(()=>{let{advertiser:e}=I,t=(0,nF.F0)(e,v);em(!0),window.location.assign(t)},[v,I]),eA=(0,g.useCallback)((e,t)=>{let i={visualState:ee,didShortClickThrough:ei,didPinClickThrough:eg,isOverRelatedPins:er,firstLoadComplete:eo,campaignCreationTriggered:ec,intervalId:eh,viewportSize:ea,backButtonLabelFitInScreen:!1,closeupBodyContainerHeight:0,closeupContainerHeight:0},n=function(e,t){switch(t.type){case"gallerySelect":return{shopping:t.select};case"pinLoaded":{let i=e.myTry?{}:{myTry:{isDoneByMe:t.pin.done_by_me}};return{pin:t.pin,...i,firstLoadComplete:!0}}case"tryChange":return{myTry:{isDoneByMe:t.isDoneByMe}};default:throw"impossible"}}(i,e);n.visualState!==i.visualState&&n.visualState&&et(n.visualState),n.didShortClickThrough!==i.didShortClickThrough&&n.didShortClickThrough&&en(n.didShortClickThrough),n.didPinClickThrough!==i.didPinClickThrough&&n.didPinClickThrough&&ey(n.didPinClickThrough),n.isOverRelatedPins!==i.isOverRelatedPins&&n.isOverRelatedPins&&es(n.isOverRelatedPins),n.firstLoadComplete!==i.firstLoadComplete&&n.firstLoadComplete&&ed(n.firstLoadComplete),n.campaignCreationTriggered!==i.campaignCreationTriggered&&n.campaignCreationTriggered&&em(n.campaignCreationTriggered),n.intervalId!==i.intervalId&&e_(n.intervalId),n.viewportSize!==i.viewportSize&&n.viewportSize&&el(n.viewportSize),t&&t()},[ee,ei,eg,er,eo,ec,eh,ea]),eC=(0,g.useCallback)(()=>{let e;if(!eo)return;let t=n_({carouselData:x.carousel_data,images:x.images,product:(x.rich_metadata||x.rich_summary)?.products?.[0]}),i=(t?.carousel_slots||[])[0]||{},n=(0,nP.Z)(i.images),a=ee.carouselData,l=ee.mainImage||{url:""},r=a?.index||0;e=t&&(t.carousel_slots?.length||0)>1?{mainImage:m,carouselData:{...t,index:r},previewImage:ny(x.images?.["236x"])}:n?.url?{mainImage:{url:n.url,height:n.height||1,width:n.width||1}}:{mainImage:m,previewImage:ny(x.images?.["236x"])},(a?.id!==e.carouselData?.id||JSON.stringify(a?.carousel_slots)!==JSON.stringify(e.carouselData?.carousel_slots)||l.url!==e.mainImage.url)&&(et(e),ek())},[eo,x.carousel_data,x.images,x.rich_metadata,x.rich_summary,ee.carouselData,ee.mainImage,m,ek]),eE=(0,g.useCallback)(()=>{let{carouselData:e}=ee;return function({viewportSize:e,hasCarouselData:t}){return t&&["lg","md"].includes(e)}({viewportSize:ea,hasCarouselData:!!e})},[ea,ee]);(0,g.useEffect)(()=>{eC(),!eo||eE()||ex||(k?.removeConstraint("thumbnailsLoaded"),(0,im.l7)("thumbnailsLoaded"),eb(!0));let{data:e}=S;e&&!eo&&(e.carousel_data&&(e.carousel_data.index=ee.carouselData?.index||0),eA({type:"pinLoaded",pin:e})),n&&E&&v&&aS({conversation_id:n,senderId:E,pinId:v}),S.data&&!ec&&s&&eT();let t={};((0,io.M0)().getItem(ir.W3)||"").includes(`/pin/${v}`)&&c&&(t.loginPageType="pin"),l&&(t.didRepin=!0),x.image_signature&&(t.pin_image_signature=x.image_signature),t.is_own_or_group_pin=ew,!(0,nI.Z)(t)&&F&&F({...t})},[eo,ec,S.data,v,ee.carouselData,x.image_signature,n,E,l,c,ex,s,eC,eE,S,ew,F,k,eA,eT]);let ej=(0,g.useCallback)(e=>{eP.current=e||null},[]),eR=(0,g.useCallback)(()=>{clearInterval(eh),F&&F({didLongClickThrough:!0})},[eh,F]),eL=(0,T.Z)({type:"deprecated",data:x}),eO=(0,g.useCallback)(e=>{let i=!!x.story_pin_data,{wasImageClicked:n,auxData:a,componentType:l=i?228:4,elementType:r=n?35:i?11157:361,viewType:s=3}=e||{},o=(0,ep.Z)({hasPin:!0,hasPinRichMetadata:!!x.rich_metadata,hasPinRichMetadataProducts:!!x.rich_metadata?.products,hasPinRichMetadataArticle:!!x.rich_metadata?.article,hasPinRichMetadataRecipe:!!x.rich_metadata?.recipe,hasPinStoryPinData:!!x.story_pin_data}),d={...eL(),...a||{}};H&&H.isAuth&&!eg&&F&&(F({didPinClickThrough:!0}),ey(!0)),i&&p({event_type:102,view_type:132,view_parameter:3549,element:12971,aux_data:{pin_id:x.id,url:b}}),p({event_type:101,object_id_str:v,component:l,element:r,aux_data:d,clientTrackingParams:t}),p({event_type:12,object_id_str:v,view_type:s,view_parameter:o,component:l,element:r,aux_data:d,clientTrackingParams:t}),p({event_type:8948,view_type:s,view_parameter:o,component:l,element:r,object_id_str:v,aux_data:{click_type:"clickthrough",closeup_navigation_type:N&&(0,eu.sV)(N)?"deeplink":"click",...d}}),p({event_type:12,object_id_str:v,view_type:s,view_parameter:o,component:l,element:r,aux_data:{...d,...(0,nA.Z)(x.link_utm_applicable_and_replaced)},clientTrackingParams:t}),n&&e_(window.setInterval(eR,12e4)),eS.current=Date.now(),ei&&en(!1),j(!0)},[x.story_pin_data,x.rich_metadata,x.id,eL,H,eg,F,p,v,t,N,ei,j,b,eR,x.link_utm_applicable_and_replaced]),eM=(0,g.useCallback)(()=>{clearInterval(eh),F&&F({didLongClickThrough:!1})},[eh,F]),eZ=(0,g.useCallback)(()=>{p({event_type:101,object_id_str:x.id,component:4,element:13306,clientTrackingParams:t,aux_data:{...eL()}}),j(!0)},[x.id,p,t,eL,j]),ez=(0,g.useCallback)(()=>{h()},[h]),eN=(0,g.useCallback)(e=>{eo&&et(t=>({...t,carouselData:{...t.carouselData||{},index:e}}))},[eo]),eK=(0,g.useCallback)(()=>(0,ih.Z)(()=>{if(!eP.current)return;let e=e3.hu,t=eP.current.getBoundingClientRect().top<=e;er!==t&&es(t)},10)(),[er]),eB=(0,g.useCallback)(e=>{e.stopPropagation(),ez()},[ez]),{abortNoActionPlacementTimeout:eU,contextPinIds:eV,getAdditionalFields:eH,pinDerivedData:eG,topLevelTrafficSource:eW,topLevelTrafficSourceDepth:e$,searchQuery:eY,isCommentAttachmentSelectorOpen:eX,isCommentComposerFocused:eq,isCommentPopoverInteractionActive:eJ,isCommentThreadExpanded:eQ,isProductDetailsExpanded:e0,setIsCommentAttachmentSelectorOpen:e1,setIsCommentComposerFocused:e6,setIsCommentPopoverInteractionActive:e4,setIsCommentThreadExpanded:e5,setIsProductDetailsExpanded:e8,isCloseupMediaViewerOpen:e7,setIsCloseupMediaViewerOpen:e9,landingContext:te,isRelatedPins10PercentVisible:tt,relatedPinsContainerRef:ti}=e,ta=eL(),{isWideVideo:tl}=(0,tN.Z)((0,K.Z)({pin:x}))||{},tr=(0,w.Z)({showProductDetailPage:!0})?"sm"!==ea:!i&&(({isWideVideo:e,viewportSize:t,peekCloseupEnabled:i})=>!["md","sm"].includes(t)&&!e||i&&"sm"!==t)({isWideVideo:!!tl,viewportSize:ea,peekCloseupEnabled:f}),{recommendation_reason:ts}=x,to=(0,g.useMemo)(()=>({name:"RelatedModulesResource",options:{additional_fields:eH(),pin_id:x.id,context_pin_ids:eV,homefeed_source_sig:ts&&["NAVBOOST_P2P","NAVBOOST_PFY","INSTANT_PFY_NON_MATERIALIZABLE","P2P","P2P_CLICKTHROUGH","FRESH_TEXT_EMBEDDINGS","INTENTIONAL_DISTRIBUTION_GEMINI_V5"].includes(ts.reason??"")&&ts.reason_id,page_size:12,search_query:eY,source:N,top_level_source:eW,top_level_source_depth:e$,is_pdp:x.is_eligible_for_pdp,landing_context:te}}),[eH,x.id,eV,ts,eY,N,eW,e$,x.is_eligible_for_pdp,te]),td=(0,eF.q6)(H,x.pinner?.id,y),tc=!!x.id&&!td||i,tu=i?eD.Gg:eD.CI,tp=eE()&&tr?eD.Ch:tu,tm=eE()?eD.Gb:eD.Kn,th=i||"lg"!==ea?tp:tm-tp,t_=eo&&(eE()||i),tg=t_&&(0,A.jsx)(tn.Z,{id:"ProductStickyContainer",children:(0,A.jsx)(n2,{disabled:!M||i,children:(0,A.jsx)(tn.Z,{id:"ImageContainerPerf",children:(0,A.jsx)(ax.Z,{containerId:"InnerScrollContainer",children:(0,A.jsx)(tn.Z,{id:"SecondaryCarousel",children:(0,A.jsx)(af.Z,{commerceData:ta,pinId:x.id,size:"sm",surfaceType:"closeup",viewParameter:(0,ep.Z)({hasPin:!!x,hasPinRichMetadata:!!x.rich_metadata,hasPinRichMetadataProducts:!!x.rich_metadata?.products,hasPinRichMetadataArticle:!!x.rich_metadata?.article,hasPinRichMetadataRecipe:!!x.rich_metadata?.recipe,hasPinStoryPinData:!!x.story_pin_data})})})})})})}),ty=t_&&(0,A.jsx)(P.xu,{width:aP}),tf=(0,g.useMemo)(()=>(0,A.jsx)(tn.Z,{id:"ProductDetailPageBodyContainer",children:(0,A.jsx)(n7,{closeupWithinMasonryEnabled:i,didShortClickThrough:ei,executeClickthrough:eO,handleBackButtonClick:ez,handleSaveButtonClick:eZ,isEligibleForStlFlyout:!0,isLimitedLogin:u,isRelatedPins10PercentVisible:tt,maxWidth:tm,orbacActingAs:y,pin:x,pinResource:S,relatedResourceOptions:to,routePush:C,showRepinOnInitialRender:O,showStructuredDescription:M,trafficSource:N,trendsData:B,userBusinessRoleResource:U,viewer:H,viewportSize:ea})}),[i,ei,eO,ez,eZ,u,tt,tm,y,x,S,to,C,O,M,N,B,U,H,ea]),tx=(0,A.jsx)(tn.Z,{id:"CloseupContent",children:(0,A.jsx)(ix,{isVideoPin:eG.isVideoPin,pin:x,pinResource:S,topLevelTrafficSource:eW,didShortClickThrough:ei,firstLoadComplete:eo,viewportSize:ea,relatedModulesContent:tc?(0,A.jsx)(tn.Z,{id:"ProductDetailPageRelatedModules",children:(0,A.jsx)(ag,{closeupBody:tf,pinKey:{type:"deprecated",data:x},relatedPinsContainerRef:ti,relatedResourceOptions:to,setRelatedPinsHeaderRef:ej,topLevelTrafficSource:eW,viewParameter:(0,ep.Z)({hasPin:!!x,hasPinRichMetadata:!!x.rich_metadata,hasPinRichMetadataProducts:!!x.rich_metadata?.products,hasPinRichMetadataArticle:!!x.rich_metadata?.article,hasPinRichMetadataRecipe:!!x.rich_metadata?.recipe,hasPinStoryPinData:!!x.story_pin_data}),viewportSize:ea})}):(0,A.jsx)(g.Fragment,{}),afterBodyContent:ty,beforeBodyContent:tg,bodyContent:tf,onWrapperClick:eB,backButton:(0,A.jsx)(nj.Z,{onClick:ez}),isProductDetailsExpanded:e0,peekCloseupEnabled:f,setIsCommentAttachmentSelectorOpen:e1,setIsCommentComposerFocused:e6,setIsCommentPopoverInteractionActive:e4,setIsCommentThreadExpanded:e5,setIsCloseupMediaViewerOpen:e9,setIsProductDetailsExpanded:e8,closeupWithinMasonryEnabled:i,setAbortNoActionPlacementTimeout:j})});return(0,A.jsx)(tn.Z,{id:"CloseupLayout",children:(0,A.jsx)(iw,{abortNoActionPlacementTimeout:eU,beforeBodyContent:tg,classProps:{...e,location:{pathname:"",search:"",hash:""}},classState:{...e.initialState,pin:x,visualState:ee,didShortClickThrough:ei,didPinClickThrough:eg,firstLoadComplete:eo,intervalId:eh,viewportSize:ea,isOverRelatedPins:er},clientTrackingParams:t,commerceData:ta,showCloseupContentRight:tr,showProductDetailPage:!0,paneWidth:tp,maxWidth:tm,descriptionPaneWidth:th,handleCarouselSwipe:eN,handleFocus:eM,handleScroll:eK,handleBackButtonClick:ez,closeupContent:tx,isCloseupMediaViewerOpen:e7,isCommentAttachmentSelectorOpen:eX,isCommentComposerFocused:eq,isCommentPopoverInteractionActive:eJ,isCommentThreadExpanded:eQ,isProductDetailsExpanded:e0,peekCloseupEnabled:f,setIsCommentAttachmentSelectorOpen:e1,setIsCommentComposerFocused:e6,setIsCommentPopoverInteractionActive:e4,setIsCommentThreadExpanded:e5,setIsCloseupMediaViewerOpen:e9,setIsProductDetailsExpanded:e8,closeupWithinMasonryEnabled:i,setAbortNoActionPlacementTimeout:j})})}let ak=nx(function(e){let{clientTrackingParams:t,pin:i,pinResource:n,pinId:a,viewer:l,deepLinkBackGoesToBoard:r,goBack:s,routePush:o,trafficSource:d}=e,{logContextEvent:c}=(0,ek.u)(),u=(0,nE.Z)(),p=(0,O.ZP)(),m=(0,eC.B)(),h=(0,em.r)(),{checkExperiment:_}=h,f=!!(i.is_eligible_for_pdp&&!i.story_pin_data&&i.formatted_description?.components),[x,v]=(0,g.useState)(!1),[P,S]=(0,g.useState)(!1),[w,k]=(0,g.useState)(!1),[I,C]=(0,g.useState)(!1),[E,j]=(0,g.useState)(!1),[R,L]=(0,g.useState)(!1),[F,D]=(0,g.useState)(!1),M=(0,g.useRef)(null),[Z,z]=(0,g.useState)(!1);(0,g.useEffect)(()=>{let e=new IntersectionObserver(([e])=>{z(!!e&&e.isIntersecting)},{root:null,rootMargin:"-100px 0px 0px 0px",threshold:[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1]}),t=M?.current;return M?.current&&e.observe(M?.current),()=>{t&&e.unobserve(t)}},[M]);let{setMostRecentPinId:N,setMostRecentPinImage:K}=(0,nZ.R)(),B=(0,T.Z)({type:"deprecated",data:i}),U=(0,nC.Z)({type:"deprecated",data:i}),V=(0,eu.sY)(i.embed?.type)&&"gif"||!!i.is_eligible_for_pdp&&"productPin"||i.rich_summary?.type_name==="recipe"&&"recipePin"||i.story_pin_data_id&&"storyPin"||!!i.videos?.video_list&&"video"||"image",{conversationOpen:H}=(0,nM.Z)(),G=(0,iy.Z)(),{landingContext:W}=(0,nT.Z)(),$=(0,tc.Z)(),Y=(0,eF.lJ)(l,$),X=i.sponsorship?.sponsor?.id,q=!i.is_repin&&!!X,J=(0,eo.Z)(X&&q&&l.isAuth&&"storyPin"===V?{name:"ApiResource",options:{url:`/ads/v4/business_access/businesses/${X}/me/ad_accounts_permissions/`}}:null),{onHandleBackButtonClick:Q}=nO({logCommerceAuxData:!0,deepLinkBackGoesToBoard:r,element:13310,goBack:s,routePush:o,trafficSource:d,viewer:l,requestContext:m,pinKey:{type:"deprecated",data:i}},c),ee=l.isAuth&&(0,b.Gv)({orbacSubjectId:Y,pinIsRepin:i.is_repin,pinPinnerId:i.pinner?.id,viewerId:l.id,viewerIsPartner:l.isPartner}),{data:et,isLoaded:ei}=(0,eo.Z)(ee?{name:"ApiResource",options:{url:`/v3/trends/partner/${l.id||""}/trends_for_pin/${i.id}/`,data:{number_terms_to_return:10}}}:null),{sideBySideRedesignFastFollowsEnabled:en}=(0,ev.Z)(),ea=nf({pin:i,pinId:a,pinResource:n}),{mainPinImage:el}=(0,ng.Z)({pinKey:{type:"deprecated",data:i}}),er=(0,g.useCallback)(()=>{let e=[],t=_("hfp_gen_ai_topics_opt_out_dweb",{dangerouslySkipActivation:!0}).group;return t&&(["control_pwt","enabled_pwt"].includes(t)&&_("hfp_gen_ai_topics_opt_out_dweb"),"control_pwt"!==t&&e&&!e.includes("pin.gen_ai_topics")&&(e=[...e,"pin.gen_ai_topics"])),e},[_]);return(0,A.jsx)(tn.Z,{id:"ProductDetailPageInner",children:(0,A.jsx)(aw,{...e,abortNoActionPlacementTimeout:x,clientTrackingParams:t,closeupWithinMasonryEnabled:en,conversationOpen:H,dispatch:(0,y.I0)(),experimentsClient:h,getAdditionalFields:er,getSterlingURL:(0,nb.Z)(),getStringifiedCommerceAuxData:B,i18n:p,initialState:ea,isCloseupMediaViewerOpen:F,isCommentAttachmentSelectorOpen:P,isCommentComposerFocused:w,isCommentPopoverInteractionActive:I,isCommentThreadExpanded:E,isProductDetailsExpanded:R,isRelatedPins10PercentVisible:Z,landingContext:W,logContextEvent:c,mainImage:el,onHandleBackButtonClick:Q,orbacActingAs:$,peekCloseupEnabled:!en,pinFormattedLink:U,pwtSurfaceContext:(0,ip.A)(),relatedPinsContainerRef:M,requestContext:m,setAbortNoActionPlacementTimeout:v,setIsCloseupMediaViewerOpen:D,setIsCommentAttachmentSelectorOpen:S,setIsCommentComposerFocused:k,setIsCommentPopoverInteractionActive:C,setIsCommentThreadExpanded:j,setIsProductDetailsExpanded:L,setMostRecentPinId:N,setMostRecentPinImage:K,showStructuredDescription:f,toastManager:(0,nR.dI)(),trackInteraction:u,trendsData:{data:et,isLoaded:!ee||ei},userBusinessRoleResource:J,verticalNavWidth:G})})});var aI=i(132588),aT=i(779947),aA=i(183908);function aC(e,t=!1){let i=e||window.location.href;(0,aT.Z)(`/login?next=${t?(0,aA.Z)(i,{type:"signup"}):encodeURIComponent(i)}`)}var aE=i(575481),aj=i(245406),aR=i(176436);let aL=(0,eZ.Z)(()=>i.e(24870).then(i.bind(i,565910)),void 0,e=>565910,"app-common-react-components-StatusPin-StatusPinCloseup"),aF=(0,x.Z)(e=>({isVideoPin:!!e&&(0,eu.iR)(e),isYoutubePin:!!e&&(0,eu.oU)({isVideo:e.is_video,link:e.link})}));function aD({checkExperiment:e,clientTrackingParams:t,currentHistoryStack:i,history:n,location:a,params:l,pinResource:r,requestContext:s,searchPinCloseupViewed:o,goToCampaignCreation:d,showRepin:c,closeupComponentToRender:u,...p}){let m=r.data,h=r.isLoaded,_=(0,g.useRef)(null),y=(0,tr.Z)(),f="id"in y?y.id:"",x=h&&m&&m.pinner&&y.isAuth&&y.username===m.pinner.username&&h&&m&&"extension"===m.method,{trafficSource:b,topLevelTrafficSource:v,topLevelTrafficSourceDepth:P,contextPinIds:S}=(0,nG.Z)(i,y.isAuth);P>1&&"pin"!==b&&(0,tS.nP)("p2p.traffic_source.client",{sampleRate:.1,tags:{trafficSource:b,topLevelTrafficSource:v,topLevelTrafficSourceDepth:P}});let w=(0,aI._)(i),k=(0,i7.mB)(a.search);(0,g.useEffect)(()=>{_.current!==m&&function({history:e,isBot:t,location:i,viewerId:n,viewerIsAuth:a}){!t&&n&&"undefined"!=typeof window&&(0,aE.U)(window.location,n,!1,a,t=>e.replace(t,i.state))}({history:n,isBot:s.isBot,location:a,viewerId:f,viewerIsAuth:y.isAuth}),_.current=m},[n,a,_,m,s.isBot,y.isAuth,y,f]),(0,g.useEffect)(()=>()=>{w&&m?.id&&o(m.id,w)},[m?.id,w,o]);let I=(0,g.useMemo)(()=>({viewType:3,viewParameter:(0,ep.Z)({hasPin:!!m,hasPinRichMetadata:!!m?.rich_metadata,hasPinRichMetadataProducts:!!m?.rich_metadata?.products,hasPinRichMetadataArticle:!!m?.rich_metadata?.article,hasPinRichMetadataRecipe:!!m?.rich_metadata?.recipe,hasPinStoryPinData:!!m?.story_pin_data})}),[m]),T=(0,g.useMemo)(()=>({featuredCommentId:l.comment_id||""}),[l.comment_id]),C=(0,g.useMemo)(()=>(function({boardUrl:e,currentHistoryStack:t,history:i,isFromExtension:n=!1,hasViewerPartner:a}){return()=>t.map(e=>{var t;return!!(t=e.location)&&((0,aI.C)(t)||(({pathname:e})=>/^\/pin\/[\w-]+\/activity\/tried\/?$/.test(e))(t))}).find(e=>!0===e)||n?n&&1===t.length?void i.push(e??""):void i.goBack():void(a?i.push("/homefeed/"):i.push("/"))})({boardUrl:m?.board?.url,currentHistoryStack:i,history:n,isFromExtension:!!x,hasViewerPartner:!!("partner"in y&&y.partner)}),[i,n,x,m?.board?.url,y]);return(0,A.jsx)(tn.Z,{id:"FeaturedCommentProvider",children:(0,A.jsx)(nq.Q,{value:T,children:(0,A.jsx)(tn.Z,{id:"SearchParamsContextProvider",children:(0,A.jsx)(aj.v,{value:I,children:(0,A.jsx)(tn.Z,{id:"OneBarProductFiltersContextProvider",children:(0,A.jsx)(nJ.f,{children:(0,A.jsx)(tn.Z,{id:"ViewTransitionProvider",children:(0,A.jsx)(nX,{children:(0,A.jsx)(tn.Z,{id:"ExperienceCloseupFeatures",children:(0,A.jsx)(tl.Ig,{children:(0,A.jsx)(tn.Z,{id:"CloseupBodyContextProvider",children:(0,A.jsx)(tg.C,{children:(0,A.jsx)(tn.Z,{id:"CloseupReduxWrapper",children:(0,A.jsx)(nH,{pinId:l.id||"",pinResource:r,children:({isLandingPage:e,isLimitedLogin:i,didRepin:a,openInbox:s,pin:o,shouldShowInbox:m,updateExperienceForPlacement:h})=>{let _={clientTrackingParams:t,contextPinIds:S,conversation_id:k.conversation_id,deepLinkBackGoesToBoard:x,emailId:k.e_t,forceSendFeedback:k.fsf,goBack:C,goToCampaignCreation:d,messageId:k.message,onLoginClick:aC,pinId:l.id??"",pinResource:r,routePush:n.push,searchQuery:w,senderId:k.sender,showRepinOnInitialRender:c,topLevelTrafficSource:v,topLevelTrafficSourceDepth:P,trafficSource:b,viewer:y,didRepin:a,isLandingPage:e,isLimitedLogin:i,openInbox:s,pin:o,pinDerivedData:aF(o),shouldShowInbox:m,updateExperienceForPlacement:h,...p};switch(u){case"ProductDetailPage":return(0,A.jsx)(tn.Z,{id:"ProductDetailPage",children:(0,A.jsx)(ak,{..._})});case"CloseupWithStoryPinProducts":return(0,A.jsx)(tn.Z,{id:"CloseupWithStoryPinProducts",children:(0,A.jsx)(nB,{..._})});default:return(0,A.jsx)(tn.Z,{id:"CloseupDefault",children:(0,A.jsx)(nK,{..._})})}}})})})})})})})})})})})})})})}function aO(e){let{pinResource:t}=e,i=t.data,{is_hidden:n,is_unsafe:a}=i||{},l=i?.story_pin_data?.has_product_pins,r=(0,i0.Z)({isHiddenPin:n,isUnsafePin:a});return(0,A.jsx)(tn.Z,{id:"CloseupContainerCommon",children:(0,A.jsx)(aD,{...e,closeupComponentToRender:r&&l?"CloseupWithStoryPinProducts":"CloseupDefault"})})}function aM(e){let t=(0,y.I0)(),i=(0,tr.Z)(),n=(0,f.UO)(),a=(0,ts.aX)(),l={...e,history:(0,f.k6)(),location:(0,f.TH)(),params:n,requestContext:(0,eC.B)(),searchPinCloseupViewed:(e,i)=>t((0,aR.Y4)(e,i))},{checkExperiment:r}=(0,em.r)(),s=(0,g.useMemo)(()=>{let e=[],t=r("hfp_gen_ai_topics_opt_out_closeup",{dangerouslySkipActivation:!0}).group;return t&&(["control_pwt","enabled_pwt"].includes(t)&&r("hfp_gen_ai_topics_opt_out_closeup"),"control_pwt"===t||e.includes("pin.gen_ai_topics")||(e=[...e,"pin.gen_ai_topics"])),e},[r]);return(0,A.jsx)(nW.Z,{addFields:s,orbacSubjectId:(0,eF.lJ)(i,(0,tc.Z)()),pinId:n.id||"",children:({pinResource:e})=>{let t=e&&e.data;return t&&(0,eu._J)(t.video_status)?(0,A.jsx)(G.bq,{children:(0,A.jsx)(aL,{pinKey:{type:"deprecated",data:t},...l})}):(0,A.jsx)(tn.Z,{id:"CloseupContainerInner",children:(0,g.createElement)(aO,{...l,key:n.id,checkExperiment:r,currentHistoryStack:a,pinResource:e})})}})}},523372:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>p});var n=i(660912),a=i(365099),l=i(19963),r=i(906872),s=i(967312),o=i(755090),d=i(460632),c=i(393383),u=i(785893);function p({filter:e,story:t,viewParameter:i}){let{logContextEvent:p}=(0,l.u)(),{closeupWithinMasonryEnabled:m}=(0,d.x4)(),{checkExperiment:h}=(0,s.r)(),{custom_properties:_,title:g,objects:y}=t,{format:f="",args:x=[]}=g||{},{query:b=""}=x[0]||{},v=h("web_skin_tone_filters_closeup_migration",{dangerouslySkipActivation:!0}).anyEnabled,{viewComponentType:P,viewType:S,elementType:w,inInclusiveEfficientRefinements:k,inclusiveFilterParam:I,onClickApplyFilters:T}=(0,a.Z)({filter:e,searchQuery:b,viewParameter:i,closeupSkinToneDataMigration:v});if((0,o.Z)(()=>{p({element:w,event_type:13,component:P,view_type:S,view_parameter:i,aux_data:{story_type:P}})}),!e)return null;let A=(()=>{switch(e){case c.ti.BODY:return y;case c.ti.SKIN:if(v)return _?.skin_tone_filter_list;return(0,r.ZP)(e,_)||[];case c.ti.HAIR:return(0,r.ZP)(e,_)||[];default:return[]}})();if(!A||A.length<1)return null;let C=m?c.CT.CLOSEUP_FEED:c.CT.CLOSEUP_STACKED,E=k?c.CT.CLOSEUP_RESPONSIVE:C,j=m&&!k;return(0,u.jsx)(n.Z,{currentlyAppliedFiltersParamTerm:j?void 0:k?I:void 0,filter:e,filterList:A,headerTitle:f??"",moduleType:j?c.CT.CLOSEUP_FEED:E,onClickApplyFilters:T,searchQuery:b,showAuthCloseupWithinMasonry:j,viewParameter:i,viewType:S})}},660912:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(20256),a=i(660098),l=i(615110),r=i(393383),s=i(785893);let o=({filter:e,filterList:t,headerTitle:i,searchQuery:o,viewParameter:d,showAuthCloseupWithinMasonry:c=!1,moduleType:u=r.CT.CLOSEUP_FEED,currentlyAppliedFiltersParamTerm:p,onClickApplyFilters:m,viewType:h})=>{let _=e===r.ti.HAIR,g=(0,s.jsx)(l.Z,{currentlyAppliedFiltersParamTerm:p,filters:t,headerTitle:i,moduleType:u,onClickApplyFilters:m,query:_?o:void 0,showHairPatternEducationIcon:_,type:e,viewParameter:d,viewType:h});return c?(0,s.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{border:a.tc,gap:"12px"}},"data-test-id":"auth-inclusive-filter",direction:"column",display:"flex",justifyContent:"center",padding:4,rounding:6,children:g}):g}},365099:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var n=i(616550),a=i(217622),l=i(19963),r=i(915470),s=i(241966),o=i(166543),d=i(393383);let c=({filter:e,searchQuery:t,viewParameter:i,unauthCloseupRedesignEnabled:c=!1,closeupSkinToneDataMigration:u=!1})=>{let{logContextEvent:p}=(0,l.u)(),m=(0,n.k6)(),{pathname:h,search:_}=(0,n.TH)(),g=new URLSearchParams(_).get("filters"),{inInclusiveEfficientRefinements:y}=(0,a.Z)(e),f=e===d.ti.SKIN?13863:13864,x=e===d.ti.SKIN?13803:14935,b=e===d.ti.SKIN?10418:13358;return{onClickApplyFilters:n=>{let a=u?n:(0,r.Z)(n,e),l=c?o.i.RS:o.i.TYPED;if(t&&p({element:b,view_type:3,view_parameter:i,event_type:101,component:x,aux_data:{entered_query:t,filter_value:a,story_type:f}}),y){let e=a?`?filters=${a}`:"";g&&g===a?m.push(h):m.replace(`${h}${e}`)}else{let e=(0,s.Z)({query:t||"",rs:l||"",scope:"pins",filters:a});m.push(e)}},viewComponentType:f,viewType:3,clickComponentType:x,elementType:b,inInclusiveEfficientRefinements:y,inclusiveFilterParam:g}}},135518:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var n=i(667294),a=i(615071),l=i(20256),r=i(781785),s=i(233846),o=i(970601),d=i(460632),c=i(508712),u=i(187201),p=i(785893);function m({isDarkMode:e,onPress:t,testID:i,label:n,peekCloseupEnabled:a,withShadow:s}){return(0,p.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{background:e?"black":"white"}},"data-test-id":i,display:"inlineBlock",position:"relative",children:[s&&(0,p.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{background:e?"linear-gradient(90deg, rgba(0, 0, 0, 0) 0%, black 100%)":"linear-gradient(90deg, rgba(255, 255, 255, 0) 0%, white 100%)",right:"100%"}},height:"100%",position:"absolute",width:"48px"}),(0,p.jsx)(l.iP,{fullWidth:!1,onTap:t,children:(0,p.jsxs)(l.xv,{size:a?"200":r.n,weight:"bold",children:["...",n]})})]})}function h({children:e,isDarkMode:t,descriptionDir:i}){let h=(0,n.useRef)(null),[_,g]=(0,n.useState)(0),[y,f]=(0,n.useState)(0),[x,b]=(0,n.useState)(!0),[v,P]=(0,n.useState)(!1),[S,w]=(0,n.useState)(!1),[k,I]=(0,n.useState)(!1),T=(0,s.ZP)(),{closeupWithinMasonryEnabled:A,peekCloseupEnabled:C}=(0,d.x4)(),E=A||C,j=E?1:3,R=600*!!E;(0,n.useEffect)(()=>{if(h.current&&x){let e,t=(0,c.xW)(h.current),i=(e=h.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth;P(()=>!!i&&(h.current&&(h.current.style.webkitLineClamp="unset",f(h.current?.scrollHeight??0),h.current.style.webkitLineClamp=j.toString()),!0)),b(!1),I(t>=j&&i),g(h.current?.clientHeight)}},[x,b,j,_,y,v]);let L=`${_}px`,F=`${_+y}px`,D=`
    .TruncatedDescription-enter{
      max-height: ${L};
    }
    .TruncatedDescription-enter-active {
      max-height: ${F};
      transition: max-height ${R}ms cubic-bezier(.25,1,.5,1);
    }
    .TruncatedDescription-enter-done {
      max-height: ${F};
    }
    .TruncatedDescription-exit {
      max-height: ${F};
    }
    .TruncatedDescription-exit-active {
      max-height: ${L};
      transition: max-height ${R}ms cubic-bezier(.25,1,.5,1);
    }
    .TruncatedDescription-exit-done {
      max-height: ${L};
    }
    [data-test-id="truncated-description"] div[role=button] {
      outline-offset: -2px;
      outline-width: 2px;
    }
  `,O=e=>{let i=e?T._('more', 'storyPin.previewText.more', 'Story pin preview more text truncation'):T._('less', 'storyPin.previewText.less', 'Story pin preview less text truncation');return(0,p.jsx)(m,{isDarkMode:t,label:i,onPress:()=>w(e),peekCloseupEnabled:C,testID:`${e?"more":"less"}-description-container`,withShadow:e&&E})},M=(0,n.useRef)(null);return(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(o.Z,{unsafeCSS:D}),(0,p.jsx)(a.Z,{classNames:"TruncatedDescription",in:S,nodeRef:M,onEnter:()=>P(!1),onExited:()=>P(!0),timeout:R,children:(0,p.jsx)(l.xu,{ref:M,"data-test-id":"truncated-description",flex:"grow",overflow:E?"hidden":"visible",position:"relative",width:A?"100%":void 0,children:(0,p.jsx)(u.Z,{dir:i,children:(0,p.jsxs)(l.xv,{ref:h,align:"ltr"===i?"forceLeft":void 0,lineClamp:x||v?j:0,size:C?"200":r.n,children:[e,k?(0,p.jsxs)(n.Fragment,{children:[S&&O(!1),(0,p.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{transition:E?"opacity 200ms ease-in-out":void 0,visibility:v?"visible":"hidden"}},opacity:+!!v,position:"absolute",right:!0,children:O(!0)})]}):null]})})})})]})}},590104:(e,t,i)=>{"use strict";function n(e){return"string"==typeof e&&("function"==typeof e.replaceAll?e.replaceAll(" ",""):e.replace(/ /g,"")).length>0}i.d(t,{Z:()=>n})},516312:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(667294),a=i(653810),l=i(992114);class r extends n.PureComponent{constructor(...e){var t,i,n;super(...e),t="handleKeyDown",i=e=>{let{onClose:t,goToNext:i,goToPrevious:n}=this.props,r=e.keyCode||e.code;!e.ctrlKey&&!e.metaKey&&(["input","select","button","textarea"].includes(((document.activeElement||{}).tagName||"").toLowerCase())||document.activeElement&&document.activeElement.isContentEditable||(r===a.Z.LEFT?(e.preventDefault(),e.stopPropagation(),n&&n(),(0,l.nP)("web_keydown_left")):r===a.Z.RIGHT?(e.preventDefault(),e.stopPropagation(),i&&i(),(0,l.nP)("web_keydown_right")):r===a.Z.ESCAPE&&(e.preventDefault(),e.stopPropagation(),t())))},(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in this?Object.defineProperty(this,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[t]=i}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){return null}}let s=r},797348:(e,t,i)=>{"use strict";i.d(t,{Z:()=>b});var n,a=i(667294);i(167912);var l=i(507944),r=i(185408),s=i(278229),o=i(297934),d=i(78039),c=i(233846),u=i(469422),p=i(158759),m=i(967312),h=i(839284),_=i(827491),g=i(488879),y=i(299537),f=i(460632);let x=(void 0!==n||(n=i(410242)).hash&&"c3027cfec56abe15f0990c2bc6707062"!==n.hash&&console.error("The definition of 'useMediaContainer_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function b({pinKey:e}){let t=(0,c.ZP)(),i=(0,o.Z)(),{checkExperiment:n}=(0,m.r)(),b=(0,_.Z)(),{mainImage:v,carouselInfo:P,previewImage:S,isGif:w,imgSrc:k}=(0,s.G)(),I=(0,r.Z)(),T=(0,d.Z)(x,e),A=(0,h.Z)(),{aggregatedPinData:C,altText:E,autoAltText:j,isEligibleForPdp:R,isEligibleForRelatedProducts:L,pinner:F,richMetadata:D,trackedLink:O,utmLink:M,link:Z,method:z,shuffle:N}=T,K=!R&&P?.carouselData,B=!!C?.isShopTheLook,U=!!N&&I(),V=!!L&&!B&&!R&&!K&&!U,H=(0,g.nl)(i,b)&&n("web_stl_tooling",{dangerouslySkipActivation:!0}).anyEnabled,[G,W]=(0,a.useState)(!0),$=(0,a.useCallback)(()=>{W(!1)},[W]),Y=T.imageSpec_orig?.url,X=P?.carouselData?function(e){let{carousel_slots:t,index:i}=e;return t&&void 0!==i&&(t[i]||{}).image_signature?t[i].image_signature:null}(P.carouselData):T.imageSignature,q=(0,p.Zt)({trackedLink:O,link:Z,utmLink:M}),J="catalog_bulk_create"===z||D?.products,Q=q&&J?decodeURIComponent(q):q,ee=(0,g.Ms)(i,b)===F?.username&&H,{closeupWithinMasonryEnabled:et,paneWidth:ei,showProductDetailPage:en}=(0,f.x4)(),{closeupBodyWidth:ea}=(0,y.K)(),{height:el,width:er}=v,es=(0,a.useMemo)(()=>({naturalWidth:er,naturalHeight:el,alt:(0,l.Z)({altText:E,autoAltText:j,i18n:t}),src:w?k:!A&&k?.startsWith("https://i.pinimg.com/")?(0,u.Z)(k)||S?.url||"":S?.url||""}),[er,el,E,j,t,w,A,k,S?.url]),eo=(0,a.useMemo)(()=>({naturalHeight:es.naturalHeight,naturalWidth:es.naturalWidth,mainImage:{alt:es.alt,src:w?es.src:k},...!w&&{previewImage:{alt:"",src:w?"":es.src}}}),[es.alt,es.naturalHeight,es.naturalWidth,es.src,k,w]);return{animateShopButton:G,disablePinTagButton:ee,imageProps:es,imageSignature:X,imageWithPreview:eo,isScenePin:V,link:Q,maxCloseupImageWidth:et&&ea||ei,onShopButtonAnimationComplete:$,originalImageUrl:Y,showProductDetailPage:en}}},995208:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var n=i(667294),a=i(391600),l=i(19963),r=i(740195),s=i(298568),o=i(349057),d=i(113474),c=i(372312),u=i(297934),p=i(538645),m=i(597774);function h(e){let{logContextEvent:t}=(0,l.u)(),i=(0,s.A)(),h=(()=>{let e=(0,p.HG)(),{isAuth:t}=(0,u.Z)(),i=t&&e,n=(0,s.A)();return n?e=>{"DEFAULT"!==e&&n.setSegment(e),i&&(({segment:e})=>{let t=(({segment:e})=>m.GL.get(e)??new Set)({segment:e});return new Set([...m.hO].filter(e=>!t.has(e)))})({segment:e}).forEach(e=>{n.removeConstraint(e),(0,o.l7)(e)})}:null})(),_=(0,d.Z)({name:"PinResource",options:(0,a.Z)(e.pinId,e.orbacSubjectId,e.addFields)}),g=_.data,y=(0,c.Z)(null!=g?{type:"deprecated",data:g}:null);return(0,n.useEffect)(()=>{if(!g)return;let e=(0,r.Z)({hasPin:!!g,hasPinRichMetadata:!!g.rich_metadata,hasPinRichMetadataProducts:!!g.rich_metadata?.products,hasPinRichMetadataArticle:!!g.rich_metadata?.article,hasPinRichMetadataRecipe:!!g.rich_metadata?.recipe,hasPinStoryPinData:!!g.story_pin_data});t({event_type:7408,view_parameter:e,object_id_str:g.id,view_type:3,view_data:{pin_id:g.id,closeup_rich_types:g.shopping_flags||[]},aux_data:{...y()}}),g.aggregated_pin_data&&(g.aggregated_pin_data.is_shop_the_look||g.aggregated_pin_data.is_stela)&&t({event_type:7579,view_parameter:e,object_id_str:g.id,view_type:3,aux_data:{commerce_data:JSON.stringify({pin_is_shop_the_look:g.aggregated_pin_data.is_shop_the_look,pin_is_stela:g.aggregated_pin_data.is_stela})}}),(0,o.Nx)("resource"),i&&i.markConstraintComplete("resource");let n="DEFAULT";g.is_eligible_for_pdp?n=g.is_eligible_for_pdp_plus?"product_detail_page_plus":"product_detail_page":g.story_pin_data_id&&(n="story_pin"),"DEFAULT"!==n&&(0,o.Yl)(n),h&&h(n)},[g,y]),e.children({pinResource:_})}},587650:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>u});var n=i(20256),a=i(309144),l=i(900337),r=i(219308),s=i(233846),o=i(581288),d=i(755090),c=i(785893);let u=({clientTrackingParams:e,watchAgain:t,imageSrc:i,pinDescription:u,pinId:p,rounded:m=!0})=>{let h=(0,s.ZP)(),_=(0,r.Z)();(0,d.Z)(()=>{_({event_type:120,view_type:3,component:13799})});let g=()=>{t()};return(0,c.jsx)(n.xu,{alignItems:"center",bottom:!0,color:"dark","data-test-id":"story-pin-end-card",direction:"column",display:"flex",height:"100%",justifyContent:"center",left:!0,opacity:.9,padding:4,position:"absolute",right:!0,rounding:m?o.yR:0,top:!0,width:"100%",children:(0,c.jsx)(n.kC,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center",width:"100%",children:(0,c.jsxs)(n.kC,{alignContent:"start",direction:"column",gap:{row:0,column:8},justifyContent:"start",children:[(0,c.jsx)(n.kC,{alignItems:"center",justifyContent:"start",children:(0,c.jsx)(l.default,{buttonText:h._('Send', 'end.video.send.icon.label', 'Clickable label when pressed opens share sheet after video is finished'),clientTrackingParams:e,imageSrc:i,pinDescription:u,pinId:p,shownWithinMasonry:!0})}),(0,c.jsxs)(n.kC,{alignItems:"center",children:[(0,c.jsx)(a.Z,{accessibilityLabel:h._('Replay button', 'storyPin.closeup.endCard.replay', 'Button label to navigate to previous page'),handleClick:g,icon:"refresh",iconColor:"white",testId:"closeup-replay-button"}),(0,c.jsx)(n.xu,{children:(0,c.jsx)(n.iP,{onTap:g,rounding:2,children:(0,c.jsx)(n.X6,{color:"light",overflow:"normal",size:"400",children:h._('Replay', 'storyPin.closeup.endCard.replay', 'Button label to navigate to previous page')})})})]})]})})})}},501619:(e,t,i)=>{"use strict";i.d(t,{Z:()=>_});var n=i(667294),a=i(20256),l=i(660098),r=i(651646),s=i(816349),o=i(19963),d=i(233846),c=i(925077),u=i(299537),p=i(460632),m=i(785893);class h extends n.PureComponent{constructor(...e){var t,i,n;super(...e),t="startAudiblePlayTime",i=this.props.muted?null:new Date,(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in this?Object.defineProperty(this,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[t]=i}componentDidUpdate(e){e.muted!==this.props.muted&&(this.startAudiblePlayTime=this.props.muted?null:new Date)}componentWillUnmount(){let{musicRecordingId:e,muted:t,pinId:i,video:n}=this.props;if(e&&!t&&this.startAudiblePlayTime&&Date.now()-this.startAudiblePlayTime.getTime()>=2e3){let{hlsv3:t,mp4:a}=(0,c.Z)({vEXP3:n.video_list?.V_EXP3,vEXP4:n.video_list?.V_EXP4,vEXP5:n.video_list?.V_EXP5,vEXP6:n.video_list?.V_EXP6,vEXP7:n.video_list?.V_EXP7,v720P:n.video_list?.V_720P,vHLSV3MOBILE:n.video_list?.V_HLSV3_MOBILE})||{},l=(a||t)?.duration||0;this.props.logContextEvent({event_type:8999,object_id_str:e,aux_data:{pin_id:i,story_pin_music_duration:l}})}}render(){let{activePageIndex:e,aspectRatio:t,blockHeight:i,blockWidth:n,closeupBodyWidth:l,closeupStoryPinViewability:r,closeupWithinMasonryEnabled:o,customEndCard:d,isPlaying:u,muted:p,onEnded:h,onUpdateVideoInfo:_,pageIndex:g,pin:y,pinId:f,maxHeight:x,video:b,videoThumbnailStartTime:v}=this.props,{hlsv3:P,mp4:S}=(0,c.Z)({vEXP3:b.video_list?.V_EXP3,vEXP4:b.video_list?.V_EXP4,vEXP5:b.video_list?.V_EXP5,vEXP6:b.video_list?.V_EXP6,vEXP7:b.video_list?.V_EXP7,v720P:b.video_list?.V_720P,vHLSV3MOBILE:b.video_list?.V_HLSV3_MOBILE})??{},w=S||P;if(!w)return null;let{height:k,thumbnail:I,width:T}=w,A=t??(T??1)/(k??1),C={height:"100%",left:"0",top:"0",width:"100%"},E=o&&l?(l??n)/(Number(x)??i):n/i;if(!o&&Math.abs(E-A)>.01){if(E<A){let e=100*A/E;C.width=`${e}%`,C.left=`-${(e-100)/2}%`}else if(E>A){let e=100*E/A;C.height=`${e}%`,C.top=`-${(e-100)/2}%`}}let j="number"==typeof e&&g<=e+3;return(0,m.jsx)(a.xu,{height:"100%",overflow:"hidden",position:"relative",width:"100%",children:(0,m.jsx)(a.xu,{height:"100%",position:"absolute",width:"100%",children:j||u||v?(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:C},position:"absolute",children:(0,m.jsx)(s.Z,{aspectRatio:o?E:t,autoplay:u,closeupStoryPinViewability:r,contextLogData:{component:0===g?227:228,element:10957,objectId:f,story_pin_page_id:g,view:3,viewParameter:157},customEndCard:d,customThumbnail:I,isPromoted:!1,loop:!1,muted:p,objectFit:S?o?"contain":"cover":void 0,onEnded:()=>{h&&h(g)},onTimeChange:({time:e})=>{_&&"number"==typeof w.duration&&w.duration>0&&_({currentTime:e,duration:w.duration/1e3})},pinId:f,pinKey:null===y?null:{type:"deprecated",data:y},preferMp4:!!S,showControls:"hover",variant:"storyPin",video:{id:b.id,hlsv3:P,mp4:S},videoThumbnailStartTime:v})}):I&&(0,m.jsx)(a.Ee,{alt:this.props.i18n._('Video cover image', 'closeup.storyPin.videoCover', 'cover image displayed for a video'),fit:"cover",naturalHeight:k??1,naturalWidth:T??1,src:I})})})}}function _(e){let{logContextEvent:t}=(0,o.u)(),{pin:i}=e,n=(0,d.ZP)(),{closeupWithinMasonryEnabled:a}=(0,p.x4)(),{closeupBodyWidth:s}=(0,u.K)(),{maxHeight:c}=(0,l.Re)(),{maxHeight:_}=(0,r.Z)({pinKey:null===i?null:{type:"deprecated",data:i}});return(0,m.jsx)(h,{...e,closeupBodyWidth:s,closeupWithinMasonryEnabled:a,i18n:n,logContextEvent:t,maxHeight:a?_:c})}},340794:(e,t,i)=>{"use strict";i.d(t,{Z:()=>J}),i(167912);var n,a,l=i(20256),r=i(900185),s=i(660098),o=i(616550),d=i(19963),c=i(113474),u=i(374534),p=i(785893);let m=({block:{block_style:{height:e=0,width:t=0,x_coord:i=0,y_coord:n=0,rotation:a=0}={},original_comment_id:r},horizontalOffset:m=0,pageAspectRatio:h,scaleFactor:_,verticalOffset:g=0})=>{let{logContextEvent:y}=(0,d.u)(),f=s._B/h,x=t*s._B*_/100,b=i*s._B*_/100+m,v=(0,o.k6)(),{data:P}=(0,c.Z)({name:"AggregatedCommentResource",options:{commentId:r,field_set_key:"comment_reply_sticker"}});return(0,p.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{left:b,top:n*f*_/100+g,transform:`rotate(${a}deg)`}},display:"flex",height:e*f*_/100,margin:-1,padding:1,position:"absolute",rounding:2,width:x,zIndex:u.B5,children:(0,p.jsx)(l.iP,{onTap:()=>{y({event_type:102,view_type:1,component:227,element:12541,aux_data:{comment_id:r}}),P?.pin_id&&v.push(`/pin/${P.pin_id}/comments/${r||""}`)},rounding:"pill"})})};var h=i(857656),_=i(791276);function g({src:e,fallbackSrc:t,...i}){let n=(0,_.Z)(e);return(0,p.jsx)(h.Z,{...i,src:n?e:t})}var y=i(545007);function f({isUseCache:e,signature:t}){return(0,y.v9)(({pinbuilder:i})=>{let{storyPinItemBlocks:n}=i;if(!e)return null;for(let e of Object.keys(n))if(n[e].media?.signatureEdited===t||n[e].media?.signature===t)return n[e];return null})}var x=i(667294),b=i(868977),v=i(774289),P=i(852015),S=i(233846),w=i(644849);let k=({aggregatedCommentId:e,onDismiss:t})=>{let i=(0,S.ZP)(),n=(0,v.Z)(),a=(0,b.Z)(),[r,s]=(0,x.useState)(""),o=(0,p.jsx)(l.kC,{justifyContent:"end",children:(0,p.jsx)(l.zx,{color:"red",disabled:!r,onClick:()=>{(async()=>{await a({fromUnifiedComment:!0,objectType:w.o.aggregatedComment,objectId:e,tags:"[]",text:r})})(),t()},text:i._('Post', 'ideapin.questionsticker.replymodal.postbutton', 'Post reply to creator Q&A question')})});return(0,p.jsx)(P.ZP,{accessibilityModalLabel:"reply to creator Q and A question",align:"start",footer:o,heading:i._('Reply', 'ideapin.questionsticker.replymodal', 'Reply to creator Q&A question'),onDismiss:t,children:(0,p.jsx)(l.xu,{paddingX:8,paddingY:1,children:(0,p.jsx)(l.Kx,{id:"ideaPinQuestionStickerReplyModalTextArea",onChange:({value:e})=>{s(e)},placeholder:n?i._('Your reply will show up as a public comment on this Pin.', 'pin.questionsticker.replymodal.placeholder', 'Placeholder for creator Q&A reply textarea'):i._('Your reply will show up as a public comment on this Idea Pin.', 'ideapin.questionsticker.replymodal.placeholder', 'Placeholder for creator Q&A reply textarea'),value:r})})})};var I=i(971518),T=i(297934),A=i(78039),C=i(51340),E=i(581288),j=i(259152);let R=(void 0!==n||(n=i(452343)).hash&&"7e8d917850c8329247291df0d281a59b"!==n.hash&&console.error("The definition of 'StoryPinStickerBlockCloseup_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function L({block:e,elementType:t,horizontalOffset:i=0,onFlyoutOpen:n,pageAspectRatio:a,pageIndex:r,pinKey:m,scaleFactor:h,tooltipElementType:_,verticalOffset:g=0,videoPinProgress:y}){let{logContextEvent:f}=(0,d.u)(),[b,v]=(0,x.useState)(!1),[P,w]=(0,x.useState)(!1),L=(0,x.useRef)(null),F=(0,o.k6)(),D=(0,S.ZP)(),O=(0,A.Z)(R,m),M=(0,T.Z)(),{block_style:{height:Z=0,width:z=0,x_coord:N=0,y_coord:K=0,rotation:B=0}={},end_time:U,error_message:V,interactive_sticker_type:H=null,is_removed:G,is_valid:W,start_time:$,sticker_data:Y,type:X}=e,q=O?.entityId,{board_id:J,question_comment_id:Q}=Y||{},{image_small_url:ee,full_name:et,username:ei=""}=e.user??{},en=null,ea=W&&5===H&&!!J,el=W&&7===H&&!!Q,er=(0,c.Z)(J&&ea?{name:"BoardResource",options:{field_set_key:"tagged_board_preview",board_id:J}}:null),{is_collaborative:es,pin_count:eo,url:ed}=er.data||{};X===E.h8.PRODUCT_STICKER?en=q?`/pin/${q}/`:"/":X===E.h8.MENTION_STICKER?en=`/${ei}/`:ea&&(en=er.isLoaded?`${ed}`:null);let ec=s._B/a,eu=z*s._B*h/100,ep=N*s._B*h/100+i,{currentTime:em}=y||{},eh=!(0,j.Z)({currentTime:em,endTime:U,startTime:$}),e_=()=>{f({event_type:123,component:228,element:_,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:r}}),v(!1)};(0,x.useEffect)(()=>(document.addEventListener("scroll",()=>{v(!1)}),()=>document.removeEventListener("scroll",()=>{v(!1)})),[]);let eg=()=>{let e=null,t=M.isAuth?M?.avatar_color_index:void 0;switch(X){case E.h8.PRODUCT_STICKER:let{gridTitle:i,imageSpec_236x:n,richSummary:a,description:r}=O||{},{displayName:s,products:o}=a||{},d=((o||[])[0]||{}).offerSummary||{},{price:c,maxPrice:u}=d||{},m=!!d&&(!!c||!!u),h=s||i||r;e=(0,p.jsxs)(x.Fragment,{children:[(0,p.jsx)(l.xu,{flex:"none",children:(0,p.jsx)(l.zd,{height:40,rounding:3,wash:!0,width:40,children:n?.url&&(0,p.jsx)(l.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:n.url})})}),(0,p.jsx)(l.xu,{flex:"grow",paddingX:2,children:m?(0,p.jsxs)(l.kC,{alignContent:"center",alignItems:"stretch",direction:"column",flex:"grow",justifyContent:"center",children:[(0,p.jsx)(l.xv,{color:"shopping",lineClamp:1,size:"100",weight:"bold",children:c}),(0,p.jsx)(l.xv,{lineClamp:1,size:"100",children:h})]}):(0,p.jsx)(l.xv,{lineClamp:1,size:"100",children:h})}),(0,p.jsx)(l.xu,{flex:"none",children:(0,p.jsx)(l.Sj,{bgColor:"transparent",icon:"arrow-forward",iconColor:"darkGray",size:"xs"})})]});break;case E.h8.MENTION_STICKER:e=(0,p.jsxs)(x.Fragment,{children:[(0,p.jsx)(l.xu,{flex:"none",children:(0,p.jsx)(I.qE,{color:t,name:et??"",size:"sm",src:ee??void 0})}),(0,p.jsx)(l.xu,{flex:"grow",paddingX:2,children:(0,p.jsx)(l.xv,{lineClamp:1,size:"200",weight:"bold",children:et})}),(0,p.jsx)(l.xu,{flex:"none",children:(0,p.jsx)(l.Sj,{bgColor:"transparent",icon:"arrow-forward",iconColor:"darkGray",size:"xs"})})]});break;case E.h8.GENERIC_STICKER:e=[5].includes(H)?W?er.isLoaded?(0,p.jsxs)(x.Fragment,{children:[(0,p.jsxs)(l.xu,{flex:"grow",paddingX:2,children:[(0,p.jsx)(l.xv,{lineClamp:1,size:"100",weight:"bold",children:es?D._('Explore this group board', 'closeup.StoryPin.stickerBlock.boardSticker.clickLabel', 'Label explaining click action when group board tag flyout showing'):D._('Explore this board', 'closeup.StoryPin.stickerBlock.boardSticker.clickLabel', 'Label explaining click action when board tag flyout showing')}),(0,p.jsx)(l.xv,{size:"100",children:(!!eo||0===eo)&&(0,C.nk)(D.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', eo, 'closeup.StoryPin.stickerBlock.boardSticker.boardLabel', 'Caption when board tag flyout that showing number of Pins on board'),{pinCount:eo})})]}),(0,p.jsx)(l.xu,{flex:"none",children:(0,p.jsx)(l.Sj,{bgColor:"transparent",icon:"arrow-forward",iconColor:"darkGray",size:"xs"})})]}):(0,p.jsxs)(l.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingY:2,children:[(0,p.jsx)(l.xu,{marginEnd:1,paddingX:2,children:(0,p.jsx)(l.xv,{color:"subtle",lineClamp:1,size:"100",children:D._('Loading board...', 'closeup.StoryPin.stickerBlock.boardSticker.loadingText', 'Label explaining board sticker still loading')})}),(0,p.jsx)(l.xH,{accessibilityLabel:D._('Board is loading', 'closeup.StoryPin.stickerBlock.boardSticker.loadingSpinnerText', 'Accessibility label for board loading spinner'),show:!0,size:"sm"})]}):(0,p.jsx)(l.xu,{paddingX:2,paddingY:2,children:(0,p.jsx)(l.xv,{color:"subtle",lineClamp:1,size:"200",weight:"bold",children:V})}):(0,p.jsx)(l.xu,{paddingX:2,paddingY:2,children:(0,p.jsx)(l.xv,{color:"subtle",lineClamp:1,size:"200",weight:"bold",children:D._('Sticker not supported yet', 'closeup.StoryPin.stickerBlock.genericStickerError', 'Label explaining this sticker has not been implemented yet')})});break;case E.h8.VTO_MAKEUP_STICKER:e=(0,p.jsx)(l.xv,{size:"300",weight:"bold",children:D._('Try this sticker on your phone!', 'closeup.storyPin.vtoMakeupSticker', 'Caption when @vitural-try-on-makeup tag is tapped for Web')})}return(0,p.jsx)(l.xu,{alignItems:"center","data-test-id":X,display:"flex",justifyContent:"center",padding:X===E.h8.PRODUCT_STICKER?1:3,width:"100%",children:G?(0,p.jsx)(l.xv,{color:"subtle",size:"200",weight:"bold",children:D._('Tag removed!', 'closeup.storyPin.stickerBlock', 'Caption when the tag is removed')}):e})};return(0,p.jsx)(x.Fragment,{children:eh?null:(0,p.jsxs)(l.xu,{ref:L,dangerouslySetInlineStyle:{__style:{left:ep,top:K*ec*h/100+g,transform:`rotate(${B}deg)`}},"data-test-id":(X||"")+"_container",display:"flex",height:Z*ec*h/100+2*s.Xw,margin:-1,padding:1,position:"absolute",rounding:2,width:eu+2*s.Xw,zIndex:u.B5,children:[(0,p.jsx)(l.iP,{disabled:eh,onTap:b?e_:({event:e})=>{eh||(f({event_type:101,component:228,element:t,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:r}}),el?w(!0):(({event:e})=>{f({event_type:120,component:228,element:_,view_type:3,view_parameter:157,aux_data:{error_message:!W&&V?V:null,story_pin_page_id:r}}),v(!0),n&&(e.stopPropagation(),n())})({event:e}))},rounding:"pill"}),b&&(0,p.jsx)(l.mh,{zIndex:s.tD,children:(0,p.jsx)(l.J2,{_deprecatedShowCaret:!0,anchor:L.current,idealDirection:"up",onDismiss:e_,positionRelativeToAnchor:!1,size:G?"flexible":"sm",children:G?eg():(0,p.jsx)(l.iP,{fullWidth:!0,onTap:({event:e})=>{e.preventDefault(),G||(f({event_type:101,component:228,element:_,object_id_str:q,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:r}}),en?F.push(en):e_())},children:eg()})})}),!!Q&&P&&(0,p.jsx)(k,{aggregatedCommentId:Q,onDismiss:()=>{w(!1)}})]})})}var F=i(53634),D=i(926145),O=i(508712),M=i(438424);function Z({block:e,fontsLoaded:t,horizontalOffset:i=0,pageAspectRatio:n,scaleFactor:a,thumbnail:r,verticalOffset:s=0}){let{block_style:o,style:d=E.Cc,text:c}=e,{alignment:u,font:m,font_size:h,highlight_color:_,vertical_alignment:g=E.Cc.vertical_alignment}=d,{hex_color:y=E.Cc.hex_color}=d??{},[f,b]=(0,x.useState)(0),[v,P]=(0,x.useState)([]),S=m||E.Cc.font,{name:w,default_size:k,letter_spacing:I,line_height:T}=S,A=(0,M.Z)(S),C=Math.round(100*(o?.width||100))/1e4,j=Math.round(100*(o?.height||100))/1e4,R=Math.round(100*(o?.x_coord||0))/1e4,L=Math.round(100*(o?.y_coord||0))/1e4;(0,x.useEffect)(()=>{if(t){let e=(0,O.KV)({text:c,boxHeight:D.q8/n*j,boxWidth:D.q8*C,font:A,startFontSize:Math.floor(h||k||24)});P(e.lines),b(e.fontSize)}},[t,c]);let Z=f*a,z=_?(0,E.pE)(Z,T):{x:0,y:0},N=C*D.q8*a+2*z.x,K=j*(D.q8/n)*a+2*z.y,B=i+R*D.q8*a-z.x,U=r?`${100*L}%`:s+L*(D.q8/n)*a-z.y;return(0,p.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{left:B,top:U}},display:"flex",height:K,position:"absolute",width:N,children:(0,p.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:(0,F.RK)({alignment:u,verticalAlignment:g})},children:(0,p.jsx)(l.xu,{display:"inlineBlock",maxWidth:"100%",children:(0,p.jsx)("p",{style:(0,F.BN)({fontSize:Z,hexColor:y,letterSpacing:I,lineHeight:T,name:w}),children:v.map((e,t)=>(0,p.jsx)("span",{"data-gestalt-valid-html":"Text",style:(0,F.xm)({fontSize:Z,hasText:e.text.length>0,highlightColor:_||null,lineHeight:T}),children:t===v.length-1?e.text:(0,p.jsxs)(x.Fragment,{children:[e.text," ",(0,p.jsx)("br",{})]})},`paragraphLine-${t}-${(c??"").substr(0,9)}`))})})})})}var z=i(501619);function N({ownerId:e}){let t=(0,S.ZP)(),i=(0,T.Z)(),n=i.isAuth&&i.id===e;return(0,p.jsxs)(l.xu,{alignItems:"center",color:"tertiary",direction:"column",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:[(0,p.jsx)(l.xv,{color:"inverse",children:n?t._('Your video is processing!', 'closeup.storyPin.videoPlaceholder', 'Let user know that their video is still processing'):t._('This video is still processing!', 'closeup.storyPin.videoPlaceholder', 'Let user know that this video is still processing')}),(0,p.jsx)(l.xv,{color:"inverse",children:t._('Check back in a few minutes.', 'closeup.storyPin.videoPlaceholder', 'Let user know to come back in a couple of minutes to view the video')})]})}var K=i(263383),B=i(475110),U=i(298568),V=i(616693),H=i(349057),G=i(760214),W=i(460632),$=i(597774);function Y({block:e,isActive:t,pwtTrackImageLoad:i,thumbnail:n}){let a,o=(0,S.ZP)(),{closeupWithinMasonryEnabled:d,isCloseupMediaViewerOpen:c,peekCloseupEnabled:u,showProductDetailPage:m}=(0,W.x4)(),_=(0,B.Z)({showProductDetailPage:m}),{borderStyle:y}=n||_?{}:(0,G.Z)({closeupWithinMasonryEnabled:d,peekCloseupEnabled:u}),x=e.image?.images?.["750x"]||e.image?.images?.["474x"],{height:b=1,width:v=1}=x||{},P=f({isUseCache:!0,signature:e.image_signature}),{peekRedesignFastFollowsEnabled:w}=(0,K.Z)(x);return x||P?(a=n?"cover":d||w?"none":"contain",(0,p.jsx)(l.xu,{alignItems:u?"center":void 0,dangerouslySetInlineStyle:{__style:{...y,aspectRatio:d?(0,r.GJ)(v,b):void 0,contain:"strict",display:u?"grid":"block",justifySelf:d?"center":void 0}},height:d?"100%":"inherit",overflow:"hidden",width:d?void 0:"inherit",children:P?(0,p.jsx)(g,{_enableViewTransitions:!0,alt:o._('Story pin image', 'closeup.storypin.renderer', 'Alt text for story pin image'),color:s.yc,elementTiming:"StoryPinImageBlock-MainPinImage",fallbackSrc:P.media?.src??"",fit:a,isActive:t,naturalHeight:b,naturalWidth:v,onLoad:i,src:x?.url??"",suppressViewTransitionTags:c}):(0,p.jsx)(h.Z,{_enableViewTransitions:!0,alt:o._('Story pin image', 'closeup.storypin.renderer', 'Alt text for story pin image'),borderStyle:y,color:s.yc,elementTiming:"StoryPinImageBlock-MainPinImage",fetchPriority:d?"high":void 0,fit:a,isActive:t,naturalHeight:x?.height??1,naturalWidth:x?.width??1,onLoad:i,src:x?.url??"",suppressViewTransitionTags:c})})):null}function X({activePageIndex:e,block:t,closeupStoryPinViewability:i,customEndCard:n,isActive:a,isSplitLayout:r=!1,musicRecordingId:o,muted:d,onEnded:c,onUpdateVideoInfo:u,ownerId:m,pageAspectRatio:h,pageDimensions:_,pageIndex:g,pin:y,pinId:x,scaleFactor:b,stillLoading:v,videoThumbnailStartTime:P,thumbnail:S=!1}){let{block_style:{height:w=100,width:k=100,x_coord:I=0,y_coord:T=0}={},video:A}=t,{closeupWithinMasonryEnabled:C}=(0,W.x4)(),E=s._B/h,{height:j,width:R}=_,L=k*s._B*b/100,F=k<100?Math.min(Math.max(100,k)-Math.abs(I),k):Math.min(Math.max(k-Math.abs(I),0),100),D=w<100?Math.min(Math.max(100,w)-Math.abs(T),w):Math.min(Math.max(w-Math.abs(T),0),100),O=C?"100%":D*E*b/100,M=C?"100%":F*s._B*b/100,Z=Math.max(T,0)*E*b/100,K=Math.max(I,0)*s._B*b/100,B=f({isUseCache:!A,signature:t.video_signature});if(v)return null;let{media:U}=B||{},{duration:V,src:H}=U||{},G=!!H&&!!V;return A||G?!!(A?.video_list?.V_HLSV3_MOBILE||A?.video_list?.V_720P||G)&&(0,p.jsx)(l.xu,{height:r?"50%":"100%",overflow:"hidden",position:"relative",children:(0,p.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{alignSelf:"anchor-center",left:K,top:Z}},height:S?j:O,overflow:"hidden",position:"absolute",width:S?R:M,children:(0,p.jsx)(z.Z,{activePageIndex:e,aspectRatio:h,blockHeight:S?j:w*E*b/100,blockWidth:S?R:L,closeupStoryPinViewability:i,customEndCard:n,isPlaying:a,musicRecordingId:o,muted:d,onEnded:c,onUpdateVideoInfo:u,pageIndex:g,pin:y,pinId:x,video:A||{video_list:{V_EXP7:{duration:V?1e3*V:0,url:H}}},videoThumbnailStartTime:P})})}):(0,p.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{left:K,top:Z}},height:O,position:"absolute",width:M,children:(0,p.jsx)(N,{ownerId:m})})}let q=(void 0!==a||(a=i(511735)).hash&&"8bb1bb1f7bafeed0fe43bed44ef12d2a"!==a.hash&&console.error("The definition of 'StoryPinBlock_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function J({activePageIndex:e,block:t,closeupStoryPinViewability:i,customEndCard:n,disableProductStickers:a,fontsLoaded:r,horizontalOffset:o,isActive:d,isSplitLayout:c=!1,musicRecordingId:u,muteVideos:h,onEnded:_,onFlyoutOpen:g,onUpdateVideoInfo:y,ownerId:f,pageAspectRatio:x,pageHeight:b,pageIndex:v,pageWidth:P,pin:S,pinId:w,previewOnly:k,pinKey:I,stillLoading:T=!1,thumbnail:C=!1,transform:j,verticalOffset:R,videoPinProgress:F,videoThumbnailStartTime:D}){let O=(0,A.Z)(q,I),{closeupWithinMasonryEnabled:M}=(0,W.x4)(),{block_style:{height:z=100,width:N=100,x_coord:K=0,y_coord:B=0}={},interactive_sticker_type:G=null}=t,J=(0,V.g)(),Q=(0,U.A)();if(0===z||0===N)return null;let ee=P/s._B;switch(t.type){case E.h8.PARAGRAPH:case E.h8.HEADING:return(0,p.jsx)(Z,{block:t,fontsLoaded:r,horizontalOffset:o,pageAspectRatio:x,scaleFactor:ee,thumbnail:C,verticalOffset:R});case E.h8.VIDEO:return(0,p.jsx)(X,{activePageIndex:e,block:t,closeupStoryPinViewability:i,customEndCard:n,isActive:d,isSplitLayout:c,musicRecordingId:u,muted:h,onEnded:_,onUpdateVideoInfo:y,ownerId:f,pageAspectRatio:x,pageDimensions:{height:b,width:P},pageIndex:v,pin:S,pinId:w,scaleFactor:ee,stillLoading:T,thumbnail:C,videoThumbnailStartTime:D});case E.h8.IMAGE:let{scaleX:et=1,scaleY:ei=1}=j||{};return(0,p.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{display:M?"grid":"block",height:`${z}%`,left:`${K*et}%`,top:`${B*ei}%`,width:`${N}%`}},overflow:"hidden",position:"absolute",children:(0,p.jsx)(Y,{block:t,isActive:d,pwtTrackImageLoad:()=>{J&&d&&(J.addBinaryAnnotation("pin.id",w,"STRING"),J.addBinaryAnnotation("video",!1,"BOOL"),J.stop()),d&&(Q&&(Q.addBinaryAnnotation("pin.id",w,"STRING"),Q.addBinaryAnnotation("video",!1,"BOOL"),Q.removeConstraint($._z),Q.markConstraintComplete($.pM)),(0,H.rt)("pin.id",w,"STRING"),(0,H.rt)("video",!1,"BOOL"),(0,H.Nx)($.pM),(0,H.l7)($._z))},thumbnail:C})});case E.h8.MENTION_STICKER:return!k&&(0,p.jsx)(L,{block:{...t},elementType:12120,horizontalOffset:o,onFlyoutOpen:g,pageAspectRatio:x,pageIndex:v,pinKey:null,scaleFactor:ee,tooltipElementType:12121,verticalOffset:R,videoPinProgress:F});case E.h8.GENERIC_STICKER:return!k&&(e=>{let t=5===G;return(0,p.jsx)(L,{block:{...e},elementType:t?12827:12858,horizontalOffset:o,onFlyoutOpen:g,pageAspectRatio:x,pageIndex:v,pinKey:null,scaleFactor:ee,tooltipElementType:t?12828:12859,verticalOffset:R,videoPinProgress:F})})(t);case E.h8.PRODUCT_STICKER:return!k&&!a&&(0,p.jsx)(L,{block:{...t},elementType:12223,horizontalOffset:o,onFlyoutOpen:g,pageAspectRatio:x,pageIndex:v,pinKey:O,scaleFactor:ee,tooltipElementType:12224,verticalOffset:R,videoPinProgress:F});case E.h8.VTO_MAKEUP_STICKER:return!k&&(0,p.jsx)(L,{block:{...t},elementType:12561,horizontalOffset:o,onFlyoutOpen:g,pageAspectRatio:x,pageIndex:v,pinKey:null,scaleFactor:ee,tooltipElementType:12561,verticalOffset:R,videoPinProgress:F});case E.h8.COMMENT_REPLY_STICKER:return t.type===E.h8.COMMENT_REPLY_STICKER&&!k&&(0,p.jsx)(m,{block:t,horizontalOffset:o,pageAspectRatio:x,scaleFactor:ee,verticalOffset:R});default:return null}}},194910:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var n=i(20256),a=i(660098),l=i(340794),r=i(770304),s=i(581288),o=i(5112),d=i(785893);function c({activePageIndex:e,clientTrackingParams:t,closeupStoryPinViewability:i,customEndCard:c,fontsLoaded:u,horizontalOffset:p,isActive:m,isPreview:h,muteVideos:_,onEnded:g,onFlyoutOpen:y,onUpdateVideoInfo:f,ownerId:x,page:b,pageAspectRatio:v,pageHeight:P,pageIndex:S,pageWidth:w,pin:k,pinId:I,productPins:T,shouldLogTimeSpent:A=!0,stillLoading:C=!1,verticalOffset:E,videoPinProgress:j,viewParameter:R,viewType:L}){let{nonRenderableBlocks:F,blocks:D}=(0,r.Z)({storyPinBlocks:b.blocks??[]}),O=!!D.find(e=>e.type===s.h8.VIDEO),M=!!D.find(e=>!!e.video&&e.type===s.h8.VIDEO&&e.video_signature),Z=F.find(e=>e.type===s.h8.MUSIC),z=Z?.type==="story_pin_music_block"?Z.provider_recording_id:void 0,N=()=>(0,d.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{background:a.yc}},height:"100%",children:!h&&D.filter(e=>!O||M||e.type===s.h8.VIDEO).map((t,n)=>{let a=(T||[]).find(e=>[e.id,e.cacheable_id].includes(t.pin_id));return(0,d.jsx)(l.Z,{activePageIndex:e,block:t,closeupStoryPinViewability:i,customEndCard:c,disableProductStickers:!0,fontsLoaded:u,horizontalOffset:p,isActive:m,isSplitLayout:3===b.layout,musicRecordingId:z,muteVideos:_,onEnded:g,onFlyoutOpen:y,onUpdateVideoInfo:f,ownerId:x,pageAspectRatio:v,pageHeight:P,pageIndex:S,pageWidth:w,pin:k,pinId:I,pinKey:null!=a?{type:"deprecated",data:a}:null,stillLoading:C,verticalOffset:E,videoPinProgress:j},`${b.id??""}-${t.type??""}-${n}`)})});return A?(0,d.jsx)(o.Z,{auxData:{story_pin_page_id:S},clientTrackingParams:t,component:0===S?227:228,shouldUseGrandparentId:!0,view:L,viewParameter:R,children:N()}):N()}},770304:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(581288);let a=[n.h8.COMMENT_REPLY_STICKER,n.h8.GENERIC_STICKER,n.h8.HEADING,n.h8.IMAGE,n.h8.MENTION_STICKER,n.h8.PARAGRAPH,n.h8.PRODUCT_STICKER,n.h8.VIDEO,n.h8.VTO_MAKEUP_STICKER];function l({storyPinBlocks:e=[],blocksToRender:t=a}){let i=[],l=[],r=[];return e.forEach(e=>{t.includes(e.type)?e.type===n.h8.PARAGRAPH||e.type===n.h8.HEADING?l.push(e):r.push(e):i.push(e)}),r.push(...l),{nonRenderableBlocks:i,textBlocks:l,blocks:r}}},278229:(e,t,i)=>{"use strict";i.d(t,{A:()=>h,G:()=>u});var n,a=i(667294);i(167912);var l=i(218291),r=i(78039),s=i(158759),o=i(966555),d=i(785893);let{Provider:c,get:u}=(0,l.Z)("VisualContext"),p=(void 0!==n||(n=i(49130)).hash&&"f5ddfd6a30ebe10b0f0a7b0bf12bea4e"!==n.hash&&console.error("The definition of 'VisualContext_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),m=({children:e,pinKey:t,overrideValue:i={}})=>{let n=(0,r.Z)(p,t),{videos:l,embed:u,link:m,isVideo:h}=n??{},_=(0,a.useMemo)(()=>l?.videoList?.v720P?.url?{duration:l.videoList.v720P.duration||void 0,height:l.videoList.v720P.height||void 0,thumbnail:l.videoList.v720P.thumbnail||void 0,url:l.videoList.v720P.url||void 0,width:l.videoList.v720P.width||void 0,captions_urls:l.videoList.v720P.captionsUrls||void 0}:void 0,[l?.videoList?.v720P?.duration,l?.videoList?.v720P?.height,l?.videoList?.v720P?.thumbnail,l?.videoList?.v720P?.url,l?.videoList?.v720P?.width,l?.videoList?.v720P?.captionsUrls]),g=(0,a.useMemo)(()=>l?.videoList?.vHLSV4?.url?{duration:l.videoList.vHLSV4.duration||void 0,height:l.videoList.vHLSV4.height||void 0,thumbnail:l.videoList.vHLSV4.thumbnail||void 0,url:l.videoList.vHLSV4.url||void 0,width:l.videoList.vHLSV4.width||void 0}:void 0,[l?.videoList?.vHLSV4?.duration,l?.videoList?.vHLSV4?.height,l?.videoList?.vHLSV4?.thumbnail,l?.videoList?.vHLSV4?.url,l?.videoList?.vHLSV4?.width]),y=(0,a.useMemo)(()=>l?.videoList?.vHLSV3MOBILE?.url?{duration:l.videoList.vHLSV3MOBILE.duration||void 0,height:l.videoList.vHLSV3MOBILE.height||void 0,thumbnail:l.videoList.vHLSV3MOBILE.thumbnail||void 0,url:l.videoList.vHLSV3MOBILE.url||void 0,width:l.videoList.vHLSV3MOBILE.width||void 0}:void 0,[l?.videoList?.vHLSV3MOBILE?.duration,l?.videoList?.vHLSV3MOBILE?.height,l?.videoList?.vHLSV3MOBILE?.thumbnail,l?.videoList?.vHLSV3MOBILE?.url,l?.videoList?.vHLSV3MOBILE?.width]),f=(0,a.useMemo)(()=>{let e=_||g||y;return l?.entityId&&e?{id:l.entityId,hasVideo:e,mp4:_||void 0,hls:g||void 0,hlsv3:y||void 0}:null},[g,y,_,l?.entityId]),x=(0,s.sY)(u?.type),b=(0,s.oU)({isVideo:h,link:m}),{mainPinImage:v,srcSet:P,srcSizes:S}=(0,o.Z)({pinKey:n}),w=n?.imageSpec_1200x||n?.imageSpec_orig||n?.imageSpec_736x||n?.imageSpec_564x||n?.imageSpec_474x||n?.imageSpec_236x,k=(0,a.useMemo)(()=>({height:w?.height??1,url:w?.url??"",width:w?.width??1}),[w]),I=n?.imageSpec_236x,T=(0,a.useMemo)(()=>I?.url?{height:I.height??1,url:I.url,width:I.width??1}:null,[I]),A=(0,a.useMemo)(()=>{let e=u?.subtype==="pinstory",t=i.mainImage||v;return{...i,mainImage:t,previewImage:void 0===i.previewImage?T:i.previewImage,mediaViewerImage:k,video:f,embed:u,isYoutubePin:b,isEmbeddedVideo:!!u?.src&&!x&&!e,isGif:x,imgSrc:x&&u?.src?u.src:t.url,...x?{}:{srcSet:P},srcSizes:S}},[v,T,k,f,u,b,x,P,S,i]);return(0,d.jsx)(c,{value:A,children:e})},h=({children:e,pinKey:t,overrideValue:i={}})=>(0,d.jsx)(m,{overrideValue:i,pinKey:t,children:e})},414445:(e,t,i)=>{"use strict";i.d(t,{Z:()=>z,F:()=>M});var n,a,l,r,s,o=i(667294);i(167912);var d=i(20256),c=i(660098),u=i(545007),p=i(297934),m=i(136438),h=i(78039),_=i(380222),g=i(586033),y=i(967312),f=i(113474),x=i(999637),b=i(12273),v=i(7120),P=i(446182),S=i(785893);let w=(void 0!==n||(n=i(488523)).hash&&"d9b26cdb236cdd26cd01183eab07f81d"!==n.hash&&console.error("The definition of 'CSSCarouselModule_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function k({auxData:e={},heading:t,itemWidth:i,itemWidthHeightRatio:n,productTagParentPinId:a,saveButtonOptions:l,showMarkers:r=!1,showNavigationButtons:s=!0,storyKey:c,subHeading:u,surface:p,view:m=3,viewParameter:_}){let g=(0,h.Z)(w,c),y=g?.objects?[...g.objects]:[],f=g.displayOptions?.contentDisplay?.itemWidthHeightRatio,k=i*(f??n??1),I=(0,o.useCallback)(({item:t,index:n})=>{let r;if(n===y.length-1&&g.action?.text&&g.action?.url&&(r=g.action,r?.text&&r?.url&&P.Lf.has(r?.location))){let n="Pin"===t.__typename&&t.imageSpec_236x?.url;return n&&(0,S.jsx)(b.Z,{auxData:e,buttonText:g.action?.text,imageWidth:i,previewImageSrc:n,storyId:g.storyId??"",storyType:g.storyType,url:g.action.url,view:m,viewParameter:_},`pin-ActionItemRep-${t.entityId}`)}return"Pin"===t.__typename?(0,S.jsx)(v.Z,{auxData:e,boardKey:null,imageWidth:i,isInDesktopCarousel:!0,item:t,itemWidthHeightRatio:f,pinKey:t,productTagParentPinId:a,relatedInterestKey:null,saveButtonOptions:l,slotIndex:n,storyKey:g,surface:p,view:m,viewParameter:_},`pin-${t.entityId}`):null},[e,y.length,i,f,g,a,l,p,m,_]);return(0,S.jsxs)(d.kC,{direction:"column",gap:4,children:[(0,S.jsxs)(d.xu,{marginStart:6,children:[u&&(0,S.jsx)(d.xv,{size:"200",children:u}),(0,S.jsx)(d.X6,{accessibilityLevel:2,align:"start",size:"400",children:t})]}),(0,S.jsx)(d.xu,{position:"relative",children:(0,S.jsx)(x.Z,{itemHeight:k,items:y,itemWidth:i,mode:"multi",renderItem:I,showNavigationButtons:s,showScrollMarkers:r})})]})}var I=i(538645),T=i(839284),A=i(555587),C=i(538692),E=i(437318),j=i(460632),R=i(623089);let L=(0,i(757653).Z)(()=>Promise.resolve().then(i.bind(i,309654)),void 0,e=>309654,"app-packages-StructuredFeed-ModuleReps-CarouselModule-CarouselModule"),F=(void 0!==a||(a=i(124025)).hash&&"739ecb0736bfecf3911084ec22416c60"!==a.hash&&console.error("The definition of 'ShoppingModule_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),D=(void 0!==l||(l=i(477987)).hash&&"8dbadcc717705db56290e7675e591f95"!==l.hash&&console.error("The definition of 'ShoppingModule_v3GetStelaShoppingCarousel' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),O=(void 0!==r||(r=i(331550)).hash&&"9b72b1fb8ac15ff6e966eb2e7fedbb74"!==r.hash&&console.error("The definition of 'ShoppingModuleQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function M(e){let t=(0,p.Z)(),i=t&&t.isAuth,n=(0,I.HG)(),a=(0,C.Z)(),l=function({pinId:e}){return(0,u.v9)(({pinbuilder:t})=>{if(!e)return null;let{pinItems:i,pinTags:n}=t,a=i?.[e];if(!a)return null;let l=a.pinTagIds??[];if(0===l.length)return null;let r=l.map(e=>n?.[e]).filter(Boolean);return r.length>0?r:null})}({pinId:e}),r=(0,_.Z)({strategy:a?"GRAPHQL":"LEGACY",query:O,variables:{pinId:e,isDesktop:n,isAuth:i},options:{fetchPolicy:l?"store-and-network":"network-only"},useGetLegacyData:({pinId:e})=>{let t=i?`/v3/visual_search/stela/pins/${e}/module/`:`/v3/seo/stela/pins/${e}/module/`;return(0,f.Z)({name:"ApiResource",noCache:!!l,options:{url:t,data:{fields:(0,R.Z)()}}})}}),s=r?.v3GetStelaShoppingCarouselQuery?.__typename==="V3GetStelaShoppingCarousel"?r.v3GetStelaShoppingCarouselQuery:null,o=(0,h.Z)(D,s);return o?o.data:null}let Z=({children:e,id:t,storyRef:n,viewParameter:a,pinId:l,hasAutoTags:r})=>{let o=(void 0!==s||(s=i(618965)).hash&&"967fc795bbfb9844686a21d73abf35e0"!==s.hash&&console.error("The definition of 'ShoppingModule_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s),{contentIds:c,displayOptions:u,slot:p,storyId:m,storyType:_,trackingParams:y}=(0,h.Z)(o,n),f=u?.contentDisplay?.componentType,x=(0,g.ZP)({clientTrackingParams:y,componentType:f,contextLogData:{story_id:m,story_type:_,content_ids:c,has_auto_tags:r,root_pin_id:l},impressionType:"Story",loggingId:m,slotIndex:p||0,viewParameter:a,viewType:3});return(0,S.jsx)(d.xu,{ref:x,marginTop:4,children:e},t)};function z({moduleWidth:e,pinKey:t,trafficSource:i,unauthCloseupRedesignEnabled:n,viewParameter:a}){let{checkExperiment:l}=(0,y.r)(),{isAuth:r}=(0,p.Z)(),s=(0,C.Z)(),{anyEnabled:u}=l("web_stl_css_carousel"),{closeupWithinMasonryEnabled:_,peekCloseupEnabled:g,viewportSize:f}=(0,j.x4)(),x=_||n,b=(0,h.Z)(F,t),v=(0,o.useRef)(null),[P,w]=(0,o.useState)(void 0),I=M(b.entityId),R=I?.[0],D=(b?.collectionPin?.itemData||[]).some(e=>e?.source===7);((0,T.Z)()?o.useEffect:o.useLayoutEffect)(()=>{!u&&v.current&&x&&w(Math.floor((v.current.offsetWidth+8)/175))},[I,x,175,v.current?.offsetWidth]);let O=(0,o.useMemo)(()=>s?null:function(e){let t=e?(0,m.G5)(e):null;return t&&"LegacyData"===t.kind?t.singularLegacyData:null}(R),[s,R]),z=(0,A.Z)({checkExperiment:l,cropSource:5,isProductPage:!0,pinId:b.entityId,requestParams:R?.action?.requestParams??"",surfaceType:"stl",trafficSource:i}),N=g&&"lg"===f,K=(0,o.useMemo)(()=>({buttonSizeOverride:"lg",carouselContainerMarginBottom:x?0:void 0,flexDirection:N?"column":"row",gutterWidth:c.Gd,justifyContent:"start",navigationFabSize:32,showPagination:x}),[x,N]),B=(0,o.useMemo)(()=>x?{type:"inline"}:{type:"classic"},[x]),U=(0,o.useMemo)(()=>{if(!x&&!(g&&"lg"===f))return{};let e={paddingLeft:u?void 0:`${c.Gd}px`};return x?{...e,border:c.tc}:e},[x,g,f,u]);return I&&0!==I.length?(0,S.jsx)(o.Fragment,{children:(0,S.jsx)(d.kC,{alignItems:"center",dataTestId:"shopping-module",direction:"column",justifyContent:"center",width:e,children:(0,S.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:U},maxWidth:n?e:void 0,rounding:4*!!x,width:e,children:I?.filter(Boolean).map(e=>{if(null==e)return null;let{action:t,containerType:i,storyId:n}=e;if(139!==i)return null;{let i=e.title?.format||"",l=r&&t?.url?t.url:z;return(0,S.jsx)(Z,{hasAutoTags:D,id:n,pinId:b.entityId,storyRef:e,viewParameter:a,children:(0,S.jsx)(d.xu,{ref:v,children:u?(0,S.jsx)(k,{auxData:{has_auto_tags:D,root_pin_id:b.entityId},heading:i,itemWidth:175,itemWidthHeightRatio:1,productTagParentPinId:b.entityId,saveButtonOptions:B,showMarkers:x,showNavigationButtons:!0,storyKey:e,surface:"ShoppingGridSmallCarousel",view:3,viewParameter:a}):(0,S.jsxs)(d.kC,{direction:"column",gap:2,children:[(0,S.jsx)(d.xu,{marginStart:2,children:(0,S.jsx)(d.X6,{accessibilityLevel:2,align:"start",id:"shop-the-look-heading",size:"400",children:i})}),(0,S.jsx)(L,{addContentRight:(0,S.jsx)(d.xu,{width:E.g9}),allowHover:!0,contentVisibleItemCountOverride:P,dangerouslySetActionUrl:l,disableHeader:!0,itemWidth:x?175:void 0,itemWidthHeightRatio:1,pinKey:b,productTagParentPinId:b.entityId,saveButtonOptions:B,story:O,storyKey:e,styleOverrides:K,surface:"ShoppingGridSmallCarousel",view:3,viewParameter:a})]})})},n)}})})})}):null}},313565:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=({carouselData:e,domain:t})=>{let i="",n=t||"";if(e){let{carouselSlots:t=[]}=e,a=e.index??0;t&&t[a]&&(i=t[a].link||"",n=t[a].domain||n)}return{carouselLink:i,currentDomain:n}}},904326:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(857147);let a=/^\/pin\/(.*[^\/])\/$/,l={"/":"feed_home","/homefeed":"feed_home","/pin/:id":"pin","/pin/:id/comments":"pin","/pin/:id/activity/tried":"pin","/pin/:id/activity/comments":"pin","/pin/:id/visual-search":"flashlight","/discover/article/:id":"explore_article","/discover/article/:title/:id":"explore_article","/topics/:interest":"feed_interest","/categories/:interest":"feed_category","/news_hub/:id":"notifications","/explore/:interest":"seo_auth","/interest/:id":"seo_auth","/search/:scope":"search","/following":"feed_following","/:username/pins":"user_pins","/:username/tried":"user_tries","/:username/:slug":"board","/:username/:slug/edit":"board","/:username/:slug/invite":"board","/:username/:slug/:section_slug":"board","/story_feed":"shop_feed"};function r(e,t){let i=["pin"],r=[],s=1,o="unknown",d="unknown",c=!0;for(let t=e.length-1;t>0;t-=1){let a=function(e,t){if(t<=0)return"unknown";let i=e[t-1],a=i?.match?.path||"",r=["stela","stl"].includes((0,n.mB)(i?.location?.search).surfaceType??"");return a&&"/pin/:id/visual-search"===a&&r?"shop_feed":a?l[a]||"unknown":"feed_home"}(e,t);i.splice(0,0,a),c&&("pin"===(o=a)?s+=1:c=!1)}for(let t=e.length-2;t>=0;t-=1){let i=(e[t]?.location?.pathname||"").match(a);if(i&&2===i.length)r.splice(0,0,i[1].split("/")[0]);else break}return 1===i.length?(d="deep_linking",o="deep_linking"):(d=i[i.length-2],"pin"===o&&(o="deep_linking")),"seo_auth"!==d||t||(d="seo_unauth"),"seo_auth"!==o||t||(o="seo_unauth"),("search"===d||"search"===o)&&e.length>=s+1&&"/search/buyable_pins/"===(e[e.length-s-1]?.location?.pathname||"")&&(o="shop_feed","search"===d&&(d="shop_feed")),{trafficSource:d,topLevelTrafficSource:o,topLevelTrafficSourceDepth:s,contextPinIds:r}}},391600:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=(e,t,i,n)=>({id:e,field_set_key:"auth_web_main_pin",add_fields:i?i.join(","):void 0,client_tracking_params:void 0,noCache:!0,fetch_visual_search_objects:!0,...t?{orbac_subject_id:t}:Object.freeze({}),get_page_metadata:!!n})},651646:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u}),i(422578);var n,a=i(313565),l=i(475110),r=i(78039),s=i(526319),o=i(839284),d=i(460632);let c=(void 0!==n||(n=i(129231)).hash&&"f82ccc429683f2cb3ed96de5adc86f80"!==n.hash&&console.error("The definition of 'useCalculateMaxWidthAndHeightForSideBySideVariant_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function u({pinKey:e}){let t,{closeupWithinMasonryEnabled:i}=(0,d.x4)(),n=(0,o.Z)(),u=(0,r.Z)(c,e),p=(0,l.Z)({showProductDetailPage:!!u?.isEligibleForPdp});if(!i)return{maxHeight:void 0};let m=u?.richMetadata?.products?.[0],h=m?.offerSummary,_=h?.price||h?.standardPrice,g=u?.linkDomain?.officialUser?.firstName,y=!!u?.closeupAttribution?.firstName||g,f=u?.linkUserWebsite?.officialUser?.firstName,x=u?.trackedLink||u?.link||"",b=(0,s.Z)(x)??x,{currentDomain:v}=(0,a.Z)({carouselData:u?.carouselData&&{carouselSlots:u?.carouselData.carouselSlots&&u?.carouselData.carouselSlots.map(e=>({domain:e.domain,link:e.link})),index:u?.carouselData?.index},domain:u?.domain}),P=v.split(".")[0],S=0,w=0;if(t=84+18*!!_,S+=23*!!u?.closeupUnifiedTitle+40*!!y,w+=(f||g||P)&&b?64:0,t+=Math.max(S,w),n)return{maxHeight:p?void 0:`calc(round(100vh, 1px) - 80px - ${t}px)`};let k=Math.round(window.innerHeight)-80-t;return{maxHeight:p?void 0:k}}},185408:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(967312),a=i(174646),l=i(538645);let r=()=>{let{isAuthenticated:e}=(0,a.B)(),t=(0,l.HG)(),{checkExperiment:i}=(0,n.r)();return()=>e&&t&&i("auth_dweb_shuffle_renderer_closeup_v2").anyEnabled}},764271:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(667294),a=i(616550),l=i(174646),r=i(538645),s=i(132588);let o=({isShufflePin:e})=>{let{isAuthenticated:t}=(0,l.B)(),i=(0,r.HG)(),o=(0,s.C)((0,a.TH)());return(0,n.useMemo)(()=>({isCloseupMediaViewerEnabled:t&&i&&o&&!e}),[t,i,o,e])}},593721:(e,t,i)=>{"use strict";i.d(t,{ZP:()=>h,fz:()=>u,mg:()=>m,o1:()=>c});var n=i(667294),a=i(660098),l=i(475110),r=i(414445),s=i(460632);function o(e){return"object"==typeof e&&null!==e&&"type"in e&&"shopping_module"===e.type}function d(e){return"object"==typeof e&&null!==e&&"type"in e&&"inclusive_filters_module"===e.type}let c=e=>"object"!=typeof e||null===e||!("virtualize"in e)||(e.virtualize??!0),u=(e,t)=>i=>{if(!e&&o(i)||e&&(o(i)||d(i))||t&&(o(i)||d(i)))return{min:2,max:9}},p=({inBlendedUIExp:e,isAuth:t=!0})=>{let i=t?a.ne:a.tm;return e?{...i,columnSpan:{...i.columnSpan,...a.DO}}:i};function m(e,t,i){let l=p({inBlendedUIExp:!1,isAuth:!1}),r=(0,n.useMemo)(()=>({...a.tV}),[]),s=(0,n.useMemo)(()=>({...a.MB}),[]);return{closeupMasonryModules:(0,n.useMemo)(()=>{if(!t)return[];let e=[l];return e.push(r),i&&e.push(s),e},[t,l,i,s,r])}}function h({pinId:e,inclusiveModuleToCache:t,showProductDetailPage:i}){let o=(0,r.F)(e),{closeupWithinMasonryEnabled:d}=(0,s.x4)(),c=(0,l.Z)({showProductDetailPage:i}),[u,m]=(0,n.useState)(t);!u&&t&&m(t);let h=(0,n.useMemo)(()=>p({inBlendedUIExp:c}),[c]),_=(0,n.useMemo)(()=>({...a.tV}),[]),g=(0,n.useMemo)(()=>({...a.MB}),[]),y=o&&o.length>0,f=(0,n.useMemo)(()=>{let e=[h];return y&&e.push(_),u&&e.push(g),e},[h,y,u,_,g]);return d?{closeupMasonryModules:f,hasShoppingModule:y,inclusiveFilters:u}:{closeupMasonryModules:[],inclusiveFilters:void 0}}},263383:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(943090),a=i(967312),l=i(174646),r=i(538645);function s(e){let{isAuthenticated:t}=(0,l.B)(),i=(0,r.HG)(),{checkExperiment:s}=(0,a.r)(),o=t&&i&&s("closeup_dweb_peek_redesign_fast_follow").anyEnabled,d=s("closeup_dweb_peek_redesign_fast_follow").group,c=t&&i&&s("closeup_dweb_side_by_side_redesign_fast_follow").anyEnabled,u=c?s("closeup_dweb_side_by_side_redesign_fast_follow").group:"";return{peekRedesignFastFollowsExpGroup:d,peekRedesignFastFollowsEnabled:o&&(0,n.Z)(d,e),sideBySideRedesignFastFollowsExpGroup:u,sideBySideRedesignFastFollowsEnabled:c,sideBySideFullWidthCTAEnabled:"enabled_full_width_cta"===u||"employees"===u,sideBySidePWTDeferActionBarLoad:"enabled_pwt_defer_action_bar_load"===u}}},475110:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(967312),a=i(174646),l=i(538645);let r=({showProductDetailPage:e,skipActivation:t})=>{let{checkExperiment:i}=(0,n.r)(),r=(0,l.HG)(),{isAuthenticated:s}=(0,a.B)();return!!s&&!!r&&!!e&&i("closeup_dweb_blended_ui",{dangerouslySkipActivation:t}).anyEnabled}},217622:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(263383),a=i(967312),l=i(393383);function r(e){let{checkExperiment:t}=(0,a.r)(),{sideBySideRedesignFastFollowsEnabled:i}=(0,n.Z)(),r=i&&e===l.ti.SKIN&&t("web_closeup_inclusive_refinement",{dangerouslySkipActivation:!0}).anyEnabled,s=i&&e===l.ti.HAIR&&t("web_closeup_hair_refinement",{dangerouslySkipActivation:!0}).anyEnabled,o=i&&e===l.ti.BODY&&t("web_btr_closeup",{dangerouslySkipActivation:!0}).anyEnabled;return{inInclusiveEfficientRefinements:!!(r||s||o)}}},708446:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=e=>({isEligibleForStaticImageIdeaPin:!!e})},781785:(e,t,i)=>{"use strict";i.d(t,{n:()=>n});let n="300"},731778:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(20256),a=i(785893);let l=/^(?!.*#.*#)#[\p{L}\p{N}_]\S*$/gu;function r({closeupWithinMasonryEnabled:e=!1,peekCloseupEnabled:t=!1,mWebCloseupRedesignEnabled:i=!1,text:r}){let s=t||i?"200":"300";return r.split(new RegExp(/(#\S*)/)).map((t,i)=>{let r=`${i}-${t}`;return t.match(l)?(0,a.jsx)(n.xv,{color:"link",inline:!0,size:s,children:(0,a.jsx)(n.rU,{display:"inline",href:`/search/pins/?q=${encodeURIComponent(t.replace("#",""))}`,underline:"none",children:t})},r):(0,a.jsx)(n.xv,{color:e?"subtle":void 0,inline:!0,size:s,children:t},r)})}},519664:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u}),i(167912);var n,a=i(350091),l=i(19963),r=i(78039),s=i(28016),o=i(158759),d=i(372312);let c=(void 0!==n||(n=i(567611)).hash&&"d38a7b9f18791089cd1df852e3863570"!==n.hash&&console.error("The definition of 'useHandleTitleClick_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),u=function({pinKey:e,pinId:t,viewParameter:i,trafficSource:n}){let{logContextEvent:u}=(0,l.u)(),p=(0,r.Z)(c,e),m=(0,a.Z)({pinKey:p}),h=(0,d.Z)(p);return()=>{let e=h();u({event_type:12,object_id_str:t,view_type:3,component:85,view_parameter:i,clientTrackingParams:m,aux_data:{...e,...(0,s.Z)(p?.linkUtmApplicableAndReplaced)}}),u({event_type:8948,clientTrackingParams:m,view_type:3,view_parameter:i,component:85,object_id_str:t,aux_data:{click_type:"clickthrough",closeup_navigation_type:n&&(0,o.sV)(n)?"deeplink":"click",...e}})}}},774289:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(297934),a=i(967312),l=i(538645),r=i(827491),s=i(488879);function o(e){let t=(0,l.HG)(),{checkExperiment:i}=(0,a.r)(),o=(0,r.Z)(),d=(0,n.Z)(),c=(0,s.lJ)(d,o),u=!t||i("web_sce_organic_pinbuilder_dep").anyEnabled;return!c&&(e&&i("sce_lightswitch_organic"),!t||!!u)}},605987:(e,t,i)=>{"use strict";i.d(t,{Z:()=>y});var n,a=i(667294);i(244311);var l=i(20256),r=i(583462),s=i(731778),o=i(19963),d=i(78039),c=i(607491),u=i(460632),p=i(785893);let m=(void 0!==n||(n=i(501703)).hash&&"77396be9e54491e35d44dc059d7664fc"!==n.hash&&console.error("The definition of 'DescriptionWithLinksAndMentions_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),h=e=>null!=e&&e>-1,_=({color:e,mention:t,tagObjectId:i,tagType:n,textSize:a})=>{let{logContextEvent:r}=(0,o.u)();return(0,p.jsx)(l.rU,{display:"inlineBlock",href:`/${t.substr(1)}`,onClick:({event:e})=>{e.stopPropagation(),r({event_type:101,element:11915,aux_data:{tag_id:i,tag_type:n}})},underline:"none",children:(0,p.jsx)(l.xv,{color:e,inline:!0,overflow:"normal",size:a,weight:"bold",children:t},t)},i)},g=({color:e,link:t,tagObjectId:i,tagType:n,text:a,textSize:r})=>{let{logContextEvent:s}=(0,o.u)(),d=(0,c.Z)({site:"www"}),u=t.startsWith("pinterest://")?t.replace("pinterest://",`${d}/`):t;return(0,p.jsx)(l.xv,{color:e,inline:!0,overflow:"normal",size:r,children:(0,p.jsx)(l.rU,{display:"inlineBlock",href:u,onClick:({event:e})=>{e.stopPropagation(),s({event_type:101,element:18123,aux_data:{tag_id:i,tag_type:n,url:t}})},underline:"hover",children:a},i)},a)},y=({description:e,mentionLinkColor:t,pinKey:i,shouldAdjustOffset:n,shouldMakeHashtagLinksFromText:l,textSize:o,descriptionLinks:c,userMentionTags:y})=>{let{closeupWithinMasonryEnabled:f,peekCloseupEnabled:x}=(0,u.x4)(),b=(0,d.Z)(m,i),{hyperlinkKeywordsEnabled:v}=(0,r.Z)(),P=y?.length?y.map(e=>({...b?.userMentionTags?.find(t=>t.offset===e.originalOffset),...e})):b?.userMentionTags??[],S=c?.length?c.map(e=>({...b?.descriptionLinks?.find(t=>t.offset===e.originalOffset),...e})):b?.descriptionLinks??[],w=P.length>0,k=v&&S.length>0;if(!w&&!k)return(0,p.jsx)(a.Fragment,{children:e});let I=0,T=[];return[...P.map(t=>({...t,type:"mention",offset:n?((e,t)=>{let i=t.substr(0,e);return(e??0)-(i.length-i.replace(/\s+/g," ").length)})(t.offset??0,e):t.offset??0})),...v?S.map(e=>({...e,type:"link",offset:e.offset??0})):[]].filter(e=>h(e.offset)&&h(e.length)).sort((e,t)=>(e.offset??0)-(t.offset??0)).forEach(i=>{let n=i?.offset??0,a=i?.length??0,l=e.substr(I,n-I),r=e.substr(n,a);T.push(l),i?.type==="mention"?T.push((0,p.jsx)(_,{color:t,mention:r,tagObjectId:i.objectId,tagType:i.tagType,textSize:o})):i?.type==="link"&&i?.link&&T.push((0,p.jsx)(g,{color:t,link:i.link,tagObjectId:i.objectId,tagType:i.tagType,text:r,textSize:o})),I=n+a}),T.push(e.substr(I)),(l?T.flatMap(e=>"string"!=typeof e?e:(0,s.Z)({closeupWithinMasonryEnabled:f,peekCloseupEnabled:x,text:e})):T).reduce((e,t)=>(0,p.jsxs)(a.Fragment,{children:[e,t]}),null)}},425237:(e,t,i)=>{"use strict";i.d(t,{Z:()=>I});var n=i(667294),a=i(20256),l=i(779947),r=i(896798),s=i(414919),o=i(355794),d=i(852015),c=i(357525),u=i(477565),p=i(607491),m=i(757653),h=i(785893);let _=(0,m.Z)(()=>i.e(76421).then(i.bind(i,734480)),{ssr:!1},e=>734480,void 0),g=(0,m.Z)(()=>i.e(95796).then(i.bind(i,895796)),{ssr:!1},e=>895796,void 0),y=(0,m.Z)(()=>Promise.all([i.e(14963),i.e(71819)]).then(i.bind(i,314963)),{ssr:!1},e=>314963,void 0),f=(0,m.Z)(()=>i.e(19013).then(i.bind(i,219013)),{ssr:!1},e=>219013,void 0),x=(0,m.Z)(()=>Promise.all([i.e(77509),i.e(3003)]).then(i.bind(i,77509)),{ssr:!1},e=>77509,void 0),b=(0,m.Z)(()=>i.e(84872).then(i.bind(i,684872)),{ssr:!1},e=>684872,void 0),v=(0,m.Z)(()=>i.e(63977).then(i.bind(i,863977)),{ssr:!1},e=>863977,void 0),P=(0,m.Z)(()=>i.e(4801).then(i.bind(i,304801)),{ssr:!1},e=>304801,void 0),S=(0,m.Z)(()=>i.e(31773).then(i.bind(i,131773)),{ssr:!1},e=>131773,void 0),w=[505420,505933,506173,506124,506436],k=({complete:e,dismiss:t,experience:i,placementId:n})=>{let{experience_id:r,display_data:o}=i,m=function(e){switch(e){case 504721:return v;case 504569:return b;case 504032:return P;case 502271:return g;case 505093:return S;default:return _}}(r),k=function(e){switch(e){case 504721:return 660;case 500331:return"md";default:return"sm"}}(r),{setObserverRef:I}=(0,s.NQ)();return(0,h.jsxs)(a.xu,{ref:I,children:[!w.includes(r)&&(0,h.jsx)(d.ZP,{accessibilityModalLabel:"",onDismiss:t,size:k,children:(0,h.jsx)(m,{...(0,c.Z)(u.Z)(o),experienceId:r,handleComplete:e,handleDismiss:t,placementId:n})}),506124===r&&(0,h.jsx)(y,{handleComplete:e,handleDismiss:t,isDesktop:!0,isGooglePrimary:!0,...(0,c.Z)(u.Z)(o)}),(506173===r||506436===r)&&(0,h.jsx)(y,{handleComplete:e,handleDismiss:t,isDesktop:!0,isGooglePrimary:!1,...(0,c.Z)(u.Z)(o)}),505420===r&&(0,h.jsx)(x,{experienceId:505420,onSubmitSurvey:async()=>{(0,l.Z)((0,p.Z)({site:"www",path:"/business/marketing-plan"}))},placementId:n,viewType:251}),505933===r&&(0,h.jsx)(f,{handleComplete:()=>{e(),(0,l.Z)((0,p.Z)({site:"sterling",path:"/reporting/"}))},handleDismiss:t,onAdsReportingSurface:!1})]})};function I({placementId:e}){let{enableExperienceSession:t,endOnSurfaceChange:i}=(0,o.Z)(e,{rollout_experiment:1});return(0,h.jsx)(n.Fragment,{children:(0,h.jsx)(r.a3,{customExperienceSession:!0,eligibleIds:[501312,500331,502271,504032,504569,504721,505093,505420,505933,506173,506124,506436],enableExperienceSession:t,placementId:e,sessionEndOnSurfaceChange:i,children:({complete:t,dismiss:i,experience:n})=>(0,h.jsx)(k,{complete:t,dismiss:i,experience:n,placementId:e})})})}},721687:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=["aggregatedpindata.aggregated_stats","aggregatedpindata.creator_analytics","aggregatedpindata.id","aggregatedpindata.is_shop_the_look","aggregatedpindata.pin_tags","board.collaborated_by_me","board.followed_by_me","board.id","board.image_thumbnail_url","board.is_collaborative","board.layout","board.name","board.owner()","board.privacy","board.type","board.url","buyableproductmetadata.display_active_max_price","buyableproductmetadata.display_active_min_price","buyableproductmetadata.short_description","buyableproductmetadata.title","comment.commenter()","comment.created_at","comment.deletable_by_me","comment.id","comment.text","comment.type","pin.access","pin.ad_data","pin.ad_destination_url","pin.ad_match_reason","pin.additional_hide_reasons","pin.aggregated_pin_data()","pin.alt_text","pin.attribution","pin.board()","pin.carousel_data()","pin.collection_pin()","pin.comment_count","pin.comments(limit:5,resume:true)","pin.created_at","pin.creator_analytics","pin.debug_info_html","pin.description","pin.description_html","pin.domain","pin.dominant_color","pin.done_by_me","pin.embed","pin.favorited_by_me","pin.grid_description","pin.grid_title","pin.has_required_attribution_provider","pin.id","pin.image_crop","pin.image_signature","pin.images[170x,136x136,236x,474x,736x,orig]","pin.is_downstream_promotion","pin.is_eligible_for_web_closeup","pin.is_go_linkless","pin.is_native","pin.is_playable","pin.is_promoted","pin.is_quick_promotable","pin.is_repin","pin.is_uploaded","pin.is_video","pin.is_whitelisted_for_tried_it","pin.link","pin.manual_interest_tags","pin.method","pin.native_creator()","pin.pinner()","pin.price_currency","pin.price_value","pin.privacy","pin.promoted_is_removable","pin.promoter()","pin.reaction_counts","pin.repin_count","pin.rich_summary()","pin.shopping_flags","pin.product_metadata()","product_metadata.shopping_flags","pin.should_open_in_stream","pin.sponsorship","pin.story_pin_data()","pin.story_pin_data_id","pin.title","pin.tracking_params","pin.type","pin.videos()","pin.view_tags","pincarouselslot.details","pincarouselslot.id","pincarouselslot.images[60x60,136x136,170x,236x,474x,564x,736x,600x315,orig]","pincarouselslot.link","pincarouselslot.title","pincarouselslot.videos()","user.ads_only_profile_site","user.blocked_by_me","user.explicitly_followed_by_me","user.full_name","user.id","user.image_large_url","user.image_small_url","user.is_ads_only_profile","user.type","user.username","video.id","video.video_list[V_HLSV4,V_720P,V_HLSV3_WEB,V_HLSV3_MOBILE,V_EXP3,V_EXP4,V_EXP5,V_EXP6,V_EXP7]"]},985459:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(578373);async function a(e,t){let i=async()=>{let e={name:t._('Quick Saves', 'quickSave.defaultBoardName', 'Name of the auto-created board for quicksave experience saves.'),layout:"quick_saves",privacy:"public",return_existing:!0,aux_data:{source:"unauth_quick_save"}};return n.Z.create("BoardResource",e).callCreate()},{resource_response:{data:a}}=await i(),l=async t=>n.Z.create("RepinResource",{board_id:t,description:e.description||"",is_removable:e.promotedIsRemovable??void 0,link:e.link,pin_id:e.entityId||"",title:e.title||""}).callCreate({showError:!1});return await l(a.id),a}},443416:(e,t,i)=>{"use strict";i.d(t,{Z:()=>D});var n,a,l,r,s,o,d=i(667294);i(244311);var c=i(20256),u=i(583462),p=i(19963),m=i(78039),h=i(233846),_=i(298568),g=i(349057),y=i(132280),f=i(475110),x=i(605987),b=i(429836),v=i(785893);let P=(void 0!==n||(n=i(175152)).hash&&"0115eb52db8bd36a1a82754d3c39b478"!==n.hash&&console.error("The definition of 'StructuredDescription_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),S=(void 0!==a||(a=i(483818)).hash&&"ef081bfebeb2d474863467d0c905af4b"!==a.hash&&console.error("The definition of 'StructuredDescriptionText_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),w=({children:e,dangerouslySetInlineStyle:t,marginTop:i})=>(0,v.jsx)(c.xu,{dangerouslySetInlineStyle:t,"data-test-id":"structured-description",marginTop:i,children:e}),k=({content:e,order:t,type:i,pinKey:n})=>{let a=(0,m.Z)(S,n),{hyperlinkKeywordsEnabled:l}=(0,u.Z)();if(!e)return null;let r=i===b.X.HEADER,s=[b.X.HEADER,b.X.BOLD].includes(i),o=t>0&&r?4:2*(0!==t);return a&&l?(0,v.jsx)(w,{marginTop:o,children:(0,v.jsx)(c.xv,{color:"subtle",inline:!0,size:"200",weight:s?"bold":"normal",children:(0,v.jsx)(x.Z,{description:e,mentionLinkColor:"link",pinKey:a,shouldAdjustOffset:!1,textSize:"200"})})}):(0,v.jsx)(w,{marginTop:o,children:(0,v.jsx)(c.xv,{color:"subtle",size:"200",weight:s?"bold":"normal",children:e})})},I=({content:e,order:t})=>e?(0,v.jsx)(w,{marginTop:2*(0!==t),children:e}):null,T=({content:e,order:t,isInBlendedUIExp:i})=>Array.isArray(e)&&0!==e.length?(0,v.jsx)(w,{marginTop:2*(0!==t),children:e.map(e=>(0,v.jsxs)(c.xu,{direction:"row",display:"flex",marginStart:1,marginTop:1,children:[(0,v.jsx)(c.xv,{color:i?"subtle":"default",inline:!0,size:"200",weight:"bold",children:""}),(0,v.jsx)(c.xu,{marginStart:1,children:(0,v.jsx)(c.xv,{color:i?"subtle":"default",size:"200",children:e})})]},e))}):null,A=({accessibilityLabel:e,content:t,order:i})=>t&&"object"==typeof t?(0,v.jsx)(w,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:2*(0!==i),children:(0,v.jsx)(c.iA,{accessibilityLabel:e,children:(0,v.jsx)(c.iA.Body,{children:Object.entries(t).map(([e,t],i)=>(0,v.jsxs)(c.iA.Row,{children:[(0,v.jsx)(c.iA.Cell,{children:(0,v.jsx)(c.xv,{size:"100",weight:"bold",children:e})}),(0,v.jsx)(c.iA.Cell,{children:(0,v.jsx)(c.xv,{size:"100",children:String(t)})})]},i))})})}):null,C=({accessibilityLabel:e,content:t,order:i})=>{if(!Array.isArray(t)||t.length<2)return null;let n=t[0],a=t.slice(1);return(0,v.jsx)(w,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:2*(0!==i),children:(0,v.jsxs)(c.iA,{accessibilityLabel:e,children:[(0,v.jsx)(c.iA.Header,{children:(0,v.jsx)(c.iA.Row,{children:n.map((e,t)=>(0,v.jsx)(c.iA.HeaderCell,{children:(0,v.jsx)(c.xv,{size:"100",weight:"bold",children:e})},t))})}),(0,v.jsx)(c.iA.Body,{children:a.map((e,t)=>(0,v.jsx)(c.iA.Row,{children:e.map((e,t)=>(0,v.jsx)(c.iA.Cell,{children:(0,v.jsx)(c.xv,{size:"100",children:e})},t))},t))})]})})},E=e=>{let t=(void 0!==l||(l=i(214939)).hash&&"1754355dbabe4462412dea1f15de578a"!==l.hash&&console.error("The definition of 'StructuredDescriptionComponent_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),n=(0,m.Z)(t,e.pinKey),a=(0,h.ZP)(),r=(0,f.Z)({showProductDetailPage:!0});switch(e.type){case b.X.POINTS:return(0,v.jsx)(T,{...e,isInBlendedUIExp:r});case b.X.SPECS:return(0,v.jsx)(A,{accessibilityLabel:a._('Specification view of description', 'webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredSpecs', 'Content represented in specification format'),...e});case b.X.TABLE:return(0,v.jsx)(C,{accessibilityLabel:a._('Table view of description', 'webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredTable', 'Content represented in table format'),...e});case b.X.ELEMENT:return(0,v.jsx)(I,{...e});default:return(0,v.jsx)(k,{...e,pinKey:n})}};function j({descriptions:e,onLoad:t,pinKey:i}){let n=(0,m.Z)(P,i);return((0,d.useEffect)(()=>{"function"==typeof t&&t()},[t]),0===e.length)?null:e.map(({content:e,type:t},i)=>(0,v.jsx)(E,{content:e,order:i,pinKey:n,type:t},i))}let R=(void 0!==r||(r=i(639557)).hash&&"bdb6cb8c14623db6cb507969ed9e02a4"!==r.hash&&console.error("The definition of 'ProductDescription_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),L=({structuredDescription:e,type:t,pinKey:n})=>{let a=(void 0!==s||(s=i(677023)).hash&&"0ea92af6ed3e580e484b6776204f5277"!==s.hash&&console.error("The definition of 'ProductDescriptionAccordion_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s),l=(0,m.Z)(a,n),r=(0,h.ZP)(),o=(0,_.A)(),u=(0,d.useCallback)(()=>{(0,g.Nx)("description"),o&&o.markConstraintComplete("description")},[o]),p="expandable"===t&&e[0].type===b.X.PARAGRAPH,f=r._('Product Details', 'productDetails.accordionHeader.text', 'text in tap area to open product description accordion panel');return(0,v.jsx)(y.Z,{heading:f,children:(0,v.jsx)(c.xu,{paddingY:+!p,children:(0,v.jsx)(j,{descriptions:e,onLoad:u,pinKey:l})})})},F=({isOpen:e,onOpen:t,structuredDescription:n,pinKey:a})=>{let l=(void 0!==o||(o=i(607985)).hash&&"81e3f3067a653af5d6211a19842d2603"!==o.hash&&console.error("The definition of 'ProductDescriptionPreview_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),r=(0,m.Z)(l,a),[s,u]=(0,d.useState)(!1),p=(0,h.ZP)(),y=(0,d.useRef)(null),f=(0,_.A)(),x=(0,d.useCallback)(()=>{y.current&&((0,g.Nx)("description"),f&&f.markConstraintComplete("description"))},[f]),b=e?p._('See less', 'productDescription.productDescriptionPreview.cta', 'CTA label for collapsing the description'):p._('See details', 'productDescription.productDescriptionPreview.cta', 'CTA label for expanding the description');return(0,d.useLayoutEffect)(()=>{if(!y.current||e)return;let t=setTimeout(()=>{if(y.current){let e=y.current;u(e.scrollHeight>e.clientHeight)}},10);return()=>clearTimeout(t)},[n,e]),(0,v.jsxs)(c.xu,{"data-test-id":"product-description-preview",display:"block",children:[(0,v.jsx)(c.X6,{size:"300",children:p._('Description', 'productDescription.productDescriptionPreview.header', 'header for the product description')}),(0,v.jsx)(c.xu,{marginTop:2,position:"relative",children:(0,v.jsx)(c.xu,{ref:y,dangerouslySetInlineStyle:{__style:{...e?{}:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden",lineClamp:3,boxOrient:"vertical"},transition:"height 200ms ease-in-out"}},children:(0,v.jsx)(j,{descriptions:n,onLoad:x,pinKey:r})})}),s&&(0,v.jsx)(c.kC,{justifyContent:"end",children:(0,v.jsx)(c.iP,{display:"inlineBlock",fullWidth:!1,onTap:t,children:(0,v.jsx)(c.xv,{align:"end",size:"200",weight:"bold",children:b})})})]})};function D(e){let{commerceData:t,structuredDescription:i,type:n="accordion",viewParameter:a,pinKey:l}=e,r=(0,m.Z)(R,l),{logContextEvent:s}=(0,p.u)(),[o,c]=(0,d.useState)(!1),h=(0,u.Z)();return((0,d.useEffect)(()=>{s({event_type:120,component:13597,view_type:3,view_parameter:a,aux_data:{...t}})},[]),h||0!==i.length)?"preview"===n?(0,v.jsx)(F,{...e,isOpen:o,onOpen:()=>{c(!o),s({event_type:101,component:13597,view_type:3,element:o?13278:13277,view_parameter:a,aux_data:{...t}}),s({event_type:101,component:13597,view_type:3,element:10492,view_parameter:a,aux_data:{...t}})},pinKey:r}):(0,v.jsx)(L,{...e,pinKey:r}):null}},615718:(e,t,i)=>{"use strict";i.d(t,{Z:()=>ey});var n,a,l,r=i(667294);i(167912);var s=i(616550),o=i(20256),d=i(216517),c=i(161772),u=i(708095),p=i(618620),m=i(660098),h=i(313565),_=i(263383),g=i(475110),y=i(278229),f=i(401587),x=i(19963),b=i(971518),v=i(78039),P=i(460632),S=i(477430),w=i(785893);let k=(void 0!==n||(n=i(307564)).hash&&"076ac514bfbb048036e79417ec3c0eb5"!==n.hash&&console.error("The definition of 'OfficialUserAttributionText_user' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function I({clickable:e=!0,fontWeight:t="normal",getDisplayName:i,onMouseDown:n,userKey:a}){let l=(0,s.k6)(),{logContextEvent:r}=(0,x.u)(),d=(0,v.Z)(k,a),{peekCloseupEnabled:c}=(0,P.x4)(),{isVerifiedMerchant:u,fullName:p="",verifiedIdentity:m,username:h,isAdsOnlyProfile:_,adsOnlyProfileSite:g,imageMediumUrl:y}=d,f=d.avatarColorIndex,I=u||m?.verified,T=(0,w.jsxs)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{gap:"8px"}},direction:"row",display:"flex",onMouseDown:()=>{n&&n()},children:[c&&(0,w.jsx)(b.qE,{color:f,name:p??"",size:"xs",src:y??""}),(0,w.jsx)(o.xv,{lineClamp:1,size:c?"200":"300",weight:t,children:i?i(p??""):p??""})]});if(!e)return T;let A=_&&!!g;return(0,w.jsxs)(o.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,w.jsx)(o.xu,{children:A?(0,w.jsx)(o.Tg,{href:g||"",onTap:()=>{r({event_type:9371,element:13382,aux_data:{aop_origin:"OfficialUserAttributionText"}})},rel:"nofollow",target:"blank",children:T}):(0,w.jsx)(o.iP,{onTap:()=>{l.push(`/${h}/`)},children:T})}),I&&(0,w.jsx)(o.xu,{marginStart:2,children:(0,w.jsx)(S.Z,{isVerifiedIdentity:m?.verified||!1,isVerifiedMerchant:u||!1,size:"sm"})})]})}var T=i(443416),A=i(554048),C=i(840962),E=i(158759),j=i(422378),R=i(789634),L=i(670380);let F=(void 0!==a||(a=i(805504)).hash&&"8dced786a95725beb90a797a0e54242b"!==a.hash&&console.error("The definition of 'ProductHeading_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function D({clientTrackingParams:e,enableDynamicSizeAdjustment:t,link:i,pinKey:n,text:a,onClickThrough:l}){let s=(0,v.Z)(F,n),d=(0,r.useRef)(null),[c,u]=(0,r.useState)("600"),{closeupWithinMasonryEnabled:p,peekCloseupEnabled:m}=(0,P.x4)(),h=(0,g.Z)({showProductDetailPage:!!s?.isEligibleForPdp}),_=(0,C.Z)({href:i||"",clientTrackingParams:(0,L.Z)(e,s?.trackingParams),externalData:{pin:s&&{attributionSourceId:s.attributionSourceId,board:s.board&&{url:s.board.url},campaignId:s.campaignId,entityId:s.entityId,isDownstreamPromotion:s.isDownstreamPromotion,isPromoted:s.isPromoted,pinner:s.pinner&&{username:s.pinner.username},pinPromotionId:s.pinPromotionId,promoter:s.promoter&&{entityId:s.promoter.entityId},storyPinDataId:s.storyPinDataId,trackingParams:s.trackingParams,advertiserId:s.advertiserId}}}),y=(0,R.Z)({clickthroughType:"middleClick",location:"closeup.shopping.productTitle"}),f=(0,w.jsx)(o.xu,{ref:d,children:(0,w.jsx)(o.X6,{id:"product-heading",lineClamp:m?2:void 0,size:p&&!h?"400":c,children:a})});return(0,r.useEffect)(()=>{if(!d||!d.current||!t)return;let e=d.current.querySelector("#product-heading");if(!e)return;let i=Number(e.offsetHeight)||0;Number.isFinite(i)&&u(2>=Math.floor(i/33)?"600":"400")},[t,d]),(0,w.jsx)(j.q,{children:({hovered:t,onMouseEnter:n,onMouseLeave:a})=>(0,w.jsx)(A.Z,{clientTrackingParams:e,hovered:t,pinKey:s,viewType:3,children:(0,w.jsx)(o.xu,{onMouseEnter:n,onMouseLeave:a,children:i?(0,w.jsx)(o.xu,{"data-test-id":"link-navigation",children:(0,w.jsx)(o.xv,{children:(0,w.jsx)(o.rU,{_onAuxClick:({event:e})=>{(0,E.UE)(e)&&(y(),e.stopPropagation(),_({event:e}),l({componentType:14284}))},href:i,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),_({event:e}),l({componentType:14284})},underline:"none",children:f})})}):f})})})}var O=i(816474),M=i(35687),Z=i(629342),z=i(310630);let N=()=>(0,w.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:z.wZV}},height:44,width:1});function K({icon:e,iconAccessibilityLabel:t,children:i,showSeparator:n=!0}){return(0,w.jsxs)(o.kC,{alignItems:"center",direction:"row",gap:2,children:[n&&(0,w.jsx)(N,{}),(0,w.jsxs)(o.kC,{alignItems:"start",direction:"column",gap:1,children:[(0,w.jsx)(o.JO,{accessibilityLabel:t,color:"default",icon:e,size:18}),i]})]})}var B=i(448852);function U({count:e,ratingValue:t,shippingInfo:i}){let n=null!=t?parseFloat(t):0,a=null!=t&&!Number.isNaN(n);return(0,w.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginTop:2,width:"100%",children:[a&&(0,w.jsx)(K,{icon:"star-outline",iconAccessibilityLabel:"Star rating",showSeparator:!1,children:(0,w.jsxs)(o.kC,{gap:1,children:[(0,w.jsx)(o.xv,{color:"subtle",size:"200",children:n.toFixed(1)}),null!=e&&e>0&&(0,w.jsxs)(o.xv,{color:"subtle",size:"200",children:["(",e,")"]})]})}),(i?.freeShippingPrice||i?.freeShippingValue)&&(0,w.jsx)(o.kC.Item,{flexBasis:"50%",children:(0,w.jsx)(K,{icon:"shopping-bag",iconAccessibilityLabel:"Shipping",showSeparator:a,children:(0,w.jsx)(B.Z,{customStyles:{color:"default",size:"200"},freeShippingPrice:i?.freeShippingPrice,freeShippingValue:i?.freeShippingValue,showPrevDot:!1})})})]})}var V=i(154554),H=i(95460),G=i(297934),W=i(233846),$=i(970601),Y=i(890360),X=i(219463),q=i(298568),J=i(349057),Q=i(174646),ee=i(181710),et=i(438711),ei=i(526319),en=i(372312),ea=i(827491),el=i(488879),er=i(437318),es=i(51340);function eo({priceHistorySummary:e}){let t,i=(0,W.ZP)(),{durationDays:n,typicalPrice:a,lowestPrice:l}=e||{};return Number.isInteger(n)&&(a||l)?(a?t=(0,es.nk)(i._('{{ typicalPrice }} average price last {{ durationDays }} days', 'PriceHistorySummary.typicalPriceText', 'typicalPrice: typical price (average price), durationDays: duration days'),{typicalPrice:a,durationDays:n}):l&&(t=(0,es.nk)(i._('{{ lowestPrice }} lowest price in {{ durationDays }} days', 'PriceHistorySummary.lowestPriceText', 'lowestPrice: lowest price, durationDays: duration days'),{lowestPrice:l,durationDays:n})),(0,w.jsx)(o.xu,{"data-test-id":"price-history-summary",children:(0,w.jsx)(o.xv,{children:t})})):null}var ed=i(581894),ec=i(454547),eu=i(429836),ep=i(757653);let em=(0,ep.Z)(()=>i.e(95246).then(i.bind(i,258488)),void 0,e=>258488,"CloseupPartnerModule"),eh=(0,ep.Z)(()=>Promise.resolve().then(i.bind(i,942257)),void 0,e=>942257,"app-common-react-components-closeup-CloseupCommentModule-UnifiedCommentModule"),e_=(void 0!==l||(l=i(579397)).hash&&"8006d27d384526aca111cb980d673707"!==l.hash&&console.error("The definition of 'ProductMetadata_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),eg=({clientTrackingParams:e,closeupUnifiedTitle:t,durationDays:i,finalLink:n,inBlendedUIExp:a,lowestPrice:l,onClickThrough:s,pin:d,productTitleMarginTop:c,renderDomainOwner:u,renderPriceAndRatings:p,showDomainOwner:m,showDomainOwnerOnTop:h,showPriceHistorySummary:_,showTitle:g,typicalPrice:y})=>(0,w.jsxs)(r.Fragment,{children:[m&&h&&u(),g&&!!t&&(0,w.jsx)(o.xu,{"data-test-id":"product-title",marginTop:c,children:(0,w.jsx)(D,{clientTrackingParams:e,enableDynamicSizeAdjustment:a,link:n,onClickThrough:s,pinKey:d,text:t})},"product-title"),p(),_&&(0,w.jsx)(o.xu,{"data-test-id":"product-price-history-summary",marginTop:2,children:(0,w.jsx)(eo,{priceHistorySummary:{durationDays:i,lowestPrice:l,typicalPrice:y}})},"product-price-history-summary"),m&&!h&&u()]});function ey({clientTrackingParams:e,detailsScrollContainerRef:t,hideShopButton:i,inCommentsImprovedDropdownExp:n,inCommentsPopoverExp:a,isBoardOwnerOrCollaborator:l,isLoadingNewlyCreatedComment:b,onClickThrough:S,outerPaddingSize:k,pinKey:A,showPartnerModule:C,showPDPComments:j,showPinStats:R,showTrendsOnPinCloseup:L,trendsData:F,viewParameter:D}){let z=(0,W.ZP)(),{logContextEvent:N}=(0,x.u)(),K=(0,G.Z)(),{closeupWithinMasonryEnabled:B,peekCloseupEnabled:es,viewportSize:eo}=(0,P.x4)(),ep=(0,g.Z)({showProductDetailPage:!0}),{sideBySideFullWidthCTAEnabled:ey}=(0,_.Z)(),ef=(0,v.Z)(e_,A),{affiliateLink:ex,carouselData:eb,closeupAttribution:ev,closeupUnifiedDescription:eP,closeupUnifiedTitle:eS,commentsDisabled:ew,favoritedByMe:ek,isDownstreamPromotion:eI,isGoLinkless:eT,isOosProduct:eA,isStaleProduct:eC,linkUserWebsite:eE,linkDomain:ej,promoter:eR,richMetadata:eL,sponsorship:eF,storyPinData:eD,nativeCreator:eO}=ef,eM=(0,q.A)(),eZ=(0,r.useCallback)(()=>{(0,J.Nx)("shopButton"),eM&&eM.markConstraintComplete("shopButton")},[eM]),ez=(0,en.Z)(ef)(),{isAuthenticated:eN}=(0,Q.B)(),{carouselInfo:eK,mainImage:eB}=(0,y.G)(),eU=(0,ea.Z)(),eV=(0,el.lJ)(K,eU),eH=(0,el.q6)(K,ef?.pinner?.entityId,eU),eG=eL?.products?.[0],{inStock:eW,maxPrice:e$,minPrice:eY,price:eX,standardPrice:eq}=eG?.offerSummary||{},{durationDays:eJ,lowestPrice:eQ,typicalPrice:e0}=eG?.priceHistorySummary||{},e1=Number.isInteger(eJ)&&(!!eQ||!!e0),e2=eA||!1===eW,{ratingValue:e3,reviewCount:e6,ratingCount:e4}=eL?.aggregateRating||{},e5=!!e3&&(e6||e4),{brand:e8,shippingInfo:e7}=eG||{},e9=eE?.officialUser?.firstName,{officialUser:te}=ej||{},tt=ev||te,{firstName:ti}=tt||{},tn=(0,et.ZP)(e9||ti||"",20),{name:ta}=e8||{},tl=!!ta,tr=(0,s.TH)(),ts=!eN&&(0,Y.am)(tr),to=!!(eR&&!eI)&&eR?.entityId===eO?.entityId,td=!!ex,tc=!!eD?.hasAffiliateProducts,tu=(!!eF||tc||td)&&!to&&!ts,tp=(0,r.useCallback)(e=>{if(e&&tl){let t=es?"200":void 0;return(0,w.jsx)(o.xv,{align:"center",size:t,weight:"normal",children:e})}return e},[tl,es]),tm=(eP||"").trim(),th=(0,ec.Z)(ef),t_=(0,eu.j)({components:th,pinDescription:tm}),tg=(eK?.carouselData?.carousel_slots?.length??0)>0,{link:ty,trackedLink:tf,utmLink:tx}=ef||{},tb=(0,E.Zt)({utmLink:tx,trackedLink:tf,link:ty})||"",tv=(0,ei.Z)(tb)??tb,{currentDomain:tP}=(0,h.Z)({carouselData:eb&&{carouselSlots:eb.carouselSlots&&eb.carouselSlots.map(e=>({domain:e.domain,link:e.link})),index:eb?.index},domain:ef.domain}),tS=tP.split(".")[0],{freeShippingPrice:tw,freeShippingValue:tk}=e7||{},tI=!!tw&&!!tk,tT=!!(e5||tI),tA=!i&&(tn||tS)&&tv&&!eT,tC=k??er.ER,tE=6*!B,tj=ek?z._('Remove from favorites', 'closeup.productMetadata.removeFromFavorites', 'Text for button allowing users to unfavorite a saved Product Pin'):z._('Add to favorites', 'closeup.productMetadata.addToFavorites', 'Text for button allowing users to favorite a saved Product Pin'),tR=(ef.aggregatedPinData?.commentCount??0)+(ef.aggregatedPinData?.didItData?.imagesCount??0),tL=!!ef.isEligibleForAggregatedComments&&(n?!ef.commentsDisabled:!a),tF=n?!!tR:!(es&&ef.aggregatedPinData?.commentCount===0),tD=a&&!ew,tO=[...t_.length>0&&tm?[(0,w.jsx)(u.Z,{paddingLeft:B?tC/2:0,paddingRight:B?tC/2:0,children:(0,w.jsx)(o.xu,{"data-test-id":"product-description",children:(0,w.jsx)(T.Z,{commerceData:ez,pinKey:ef,structuredDescription:t_,type:"expandable",viewParameter:D})})},"closeupProductDescription")]:[],...l?[(0,w.jsx)(u.Z,{paddingLeft:B?tC/2:0,paddingRight:B?tC/2:0,children:(0,w.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:2*!B,marginTop:2,children:[B?(0,w.jsx)(o.X6,{size:"400",children:tj}):(0,w.jsx)(o.xv,{weight:"bold",children:tj}),(0,w.jsx)(c.Z,{pinKey:ef})]})},"closeupProductMetadataFavoriteBarMetadataPadding")]:[]],tM=()=>(0,w.jsxs)(o.xu,{alignItems:ep?"start":"center",dangerouslySetInlineStyle:{__style:{columnGap:B?4:8,flexWrap:B?"wrap":void 0}},direction:ep?"column":"row",display:"flex",marginTop:ep?1:2,children:[(0,w.jsx)(o.xu,{"data-test-id":"product-price",children:(0,w.jsx)(f.Z,{id:"ProductPrice",children:(0,w.jsx)(O.Z,{colorOverride:"default",isSoldOut:e2,isStale:eC,productDetails:{maxPrice:e$,minPrice:eY,price:eX,standardPrice:eq},type:B?"mobileHeading":"heading"})})},"product-price"),tT&&(ep?(0,w.jsx)(f.Z,{id:"VerticalProductRatingsAndShipping",children:(0,w.jsx)(U,{bracket:!0,count:e4||e6,countFormat:"number",countType:e4?"rating":"review",hideSeparationDot:!0,ratingValue:e3,shippingInfo:{freeShippingPrice:tw,freeShippingValue:tk}})}):(0,w.jsx)(f.Z,{id:"ProductRatingsAndShipping",children:(0,w.jsx)(M.Z,{bracket:!0,count:e4||e6,countFormat:"number",countType:e4?"rating":"review",hideSeparationDot:!0,ratingValue:e3,shippingInfo:{freeShippingPrice:tw,freeShippingValue:tk}})}))]}),tZ=()=>tt?(0,w.jsx)(o.xu,{"data-test-id":"pdp-product-metadata-domain-owner",marginBottom:ep?1:2,marginTop:2*!ep,children:(0,w.jsx)(f.Z,{id:"OfficialUserAttributionText",children:(0,w.jsx)(I,{fontWeight:"bold",getDisplayName:tp,onMouseDown:tl?()=>{N({event_type:102,object_id_str:ef.entityId,view_type:3,view_parameter:144,element:13592,aux_data:ez})}:void 0,userKey:tt})})}):null,tz=()=>(0,w.jsx)(u.Z,{paddingBottom:es?tC/2:void 0,paddingRight:0,children:(0,w.jsx)(o.xu,{"data-test-id":"product-shop-button",marginTop:B&&!ep?0:3,children:(0,w.jsx)(V.Z,{clientTrackingParams:e,color:"gray",fullWidth:ey,link:tv,onClickThrough:S,onLoad:eZ,pinKey:ef,text:z._('Visit site', 'closeup.shop.button', 'shop button')})})}),tN=4;B?tN=0:es&&tt&&(tN=2);let tK=`
    [data-testid="product-metadata-details-flex"] > div:last-of-type {
      margin-top: auto;
    }
  `;return(0,w.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{flexDirection:ep?"column":void 0}},display:ep?"flex":"block",height:ep?"100%":void 0,marginTop:B&&!ep?2:0,children:[ep&&(0,w.jsx)(r.Fragment,{children:(0,w.jsxs)(o.xu,{color:"default",marginBottom:3,children:[(0,w.jsx)(o.xu,{marginBottom:3,children:(0,w.jsx)(f.Z,{id:"ProductMetadataHeader",children:(0,w.jsx)(eg,{clientTrackingParams:e,closeupUnifiedTitle:eS??void 0,durationDays:eJ??void 0,finalLink:tv,inBlendedUIExp:ep,lowestPrice:eQ??void 0,onClickThrough:S,pin:ef,productTitleMarginTop:tN,renderDomainOwner:tZ,renderPriceAndRatings:tM,showDomainOwner:!!tt,showDomainOwnerOnTop:!0,showPriceHistorySummary:e1,showTitle:!!eS,typicalPrice:e0??void 0})})}),ep&&tg&&(0,w.jsx)(r.Fragment,{children:(0,w.jsx)(X.Z,{containerId:"InnerScrollContainer",children:(0,w.jsx)(Z.Z,{commerceData:ez,layout:ep?"row":"column",pinId:ef.entityId,size:"lg",surfaceType:"closeup",viewParameter:156})})}),tA&&(!B||ep)&&tz()]})}),B&&C&&(0,w.jsx)(u.Z,{paddingRight:k,children:(0,w.jsx)(o.xu,{"data-test-id":"PartnerModule",width:"100%",children:(0,w.jsx)(H.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,w.jsx)(ee.Z,{children:(0,w.jsx)(em,{borderStyle:m.te,isStoryPin:!1,pinKey:ef,showPinStats:R,trendsData:L?F?.data?.results:null,viewportSize:eo})})})})}),es&&(0,w.jsx)(u.Z,{paddingRight:0,children:tZ()}),(0,w.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{overflowY:es||ep?"auto":void 0,paddingRight:es?`${m.Gd}px`:void 0}},height:es?"100%":void 0,marginBottom:l||j?0:5,marginEnd:es?void 0:tE,marginTop:B&&!ep?2:0,maxHeight:ep?eB?.height*1.25:void 0,children:[es&&(0,w.jsx)($.Z,{unsafeCSS:tK}),(0,w.jsxs)(o.kC,{"data-testid":"product-metadata-details-flex",direction:"column",height:es?"100%":void 0,children:[(0,w.jsxs)(u.Z,{paddingLeft:B?tC/2:0,paddingRight:B?tC/2:0,children:[(0,w.jsxs)(o.xu,{alignItems:B?"start":void 0,display:B?"flex":void 0,justifyContent:B?"between":void 0,children:[(0,w.jsxs)(o.kC.Item,{flexBasis:!B||ep?"100%":"77%",children:[(0,w.jsx)(eg,{clientTrackingParams:e,closeupUnifiedTitle:eS??void 0,durationDays:eJ??void 0,finalLink:tv,inBlendedUIExp:!1,lowestPrice:eQ??void 0,onClickThrough:S,pin:ef,productTitleMarginTop:tN,renderDomainOwner:tZ,renderPriceAndRatings:tM,showDomainOwner:!es&&!ep&&!!tt,showDomainOwnerOnTop:!1,showPriceHistorySummary:!ep&&e1,showTitle:!ep&&!!eS,typicalPrice:e0??void 0}),tu&&!es&&(0,w.jsx)(f.Z,{id:"SponsorshipText",children:(0,w.jsx)(ed.Z,{hasAffiliateLink:td,hasAffiliateProducts:tc})}),tD&&(0,w.jsx)(f.Z,{id:"UnifiedCommentModule",children:(0,w.jsx)(eh,{inCommentsPopoverExp:a,pinKey:ef,viewParameter:D})})]}),tA&&B&&!ep&&(0,w.jsx)(o.xu,{alignItems:"stretch",display:ey?"block":"flex",flex:"grow",justifyContent:"end",children:tz()})]}),ep&&t_.length>0&&tm&&(0,w.jsx)(o.xu,{"data-test-id":"product-description",children:(0,w.jsx)(T.Z,{commerceData:ez,pinKey:ef,structuredDescription:t_,type:"preview",viewParameter:D})})]}),(0,w.jsxs)(o.kC,{alignItems:"stretch",direction:"column",flex:"grow",justifyContent:"start",children:[(0,w.jsx)(r.Fragment,{children:!ep&&tO.map((e,t)=>(0,w.jsxs)(r.Fragment,{children:[e,(0,w.jsx)(u.Z,{paddingLeft:tC/2,paddingRight:tC/2,children:(0,w.jsx)(o.xu,{marginBottom:2,marginTop:2,width:"100%",children:(0,w.jsx)(p.Z,{show:!!(tL&&tF||t<tO.length-1),surface:"product-metadata-details"})})})]},`detailFragment-${e.key}`))}),(!tO.length||ep)&&(0,w.jsx)(u.Z,{paddingLeft:tC/2,paddingRight:tC/2,children:(0,w.jsx)(o.xu,{marginBottom:3,marginTop:tL&&tF?3:0,width:"100%",children:(0,w.jsx)(p.Z,{show:(B||ep)&&tL&&tF&&tR>0,surface:"product-metadata-details"})})}),j&&!a&&(0,w.jsx)(u.Z,{paddingBottom:B&&!(n&&tL)?tC/2:void 0,paddingLeft:B?tC/2:0,paddingRight:B?er.ER/2:0,children:tL&&(0,w.jsx)(H.Z,{name:"ProductPinCanonicalCard",children:(0,w.jsx)(f.Z,{id:"CanonicalCard",children:(0,w.jsx)(d.Z,{aggregatedPinId:ef.aggregatedPinData?.entityId,closeupAttributionId:ef.closeupAttribution?.entityId,closeupAttributionUsername:ef.closeupAttribution?.username,commentCount:ef.aggregatedPinData?.commentCount??0,commentsDisabled:ef.commentsDisabled,inCommentsImprovedDropdownExp:n,isLoadingNewCreatedComment:b,isORBACProfileManager:eH,isShopTheLook:ef.aggregatedPinData?.isShopTheLook,isVideo:!!ef.videos?.videoList,orbacSubjectId:eV,photoCount:ef.aggregatedPinData?.didItData?.imagesCount??0,pinId:ef.entityId,pinKey:ef,pinnerId:ef.pinner?.entityId,scrollContainerRef:t,shouldShowHeading:tF,storyPinDataId:ef.storyPinData?.entityId,viewParameter:D})})})},"closeupProductMetadataComments")]})]})]})]})}},816474:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(20256),a=i(265014),l=i(233846),r=i(460632),s=i(785893);function o({colorOverride:e,inlineComponent:t,isSoldOut:i,isStale:o,productDetails:d,showSalesPrice:c,textSize:u,type:p}){let{peekCloseupEnabled:m}=(0,r.x4)(),{maxPrice:h,minPrice:_,price:g,standardPrice:y}=d,f=!!g&&!!y&&g!==y,x="100";"heading"!==p||m?"mobileHeading"===p?x="300":("cutout"===p||m)&&(x="200"):x="400",x=u||x;let b="normal",v=(0,l.ZP)(),P=v._('See price on site', 'product.price.stale', 'Product is stale'),S=v._('Sold out', 'product.price.soldOut', 'Product is sold out');return o?(0,s.jsx)(n.xv,{color:"subtle",size:x,weight:b,children:P}):(0,s.jsxs)(n.kC,{alignItems:"stretch",dataTestId:"product-price",direction:"row",justifyContent:"start",children:[i&&(0,s.jsx)(n.xu,{"data-test-id":"product-sold-out-text",marginEnd:2,children:(0,s.jsx)(n.xv,{color:"subtle",size:x,weight:b,children:S})}),(!!g||!!_||!!h)&&(0,s.jsx)(n.xv,{color:e||(f?"shopping":"default"),dataTestId:"product-price",size:x,weight:b,children:(0,s.jsx)("span",{children:(0,a.Z)({maxPrice:h,minPrice:_,price:g})})}),f&&!c&&(0,s.jsx)(n.xu,{marginStart:1,children:(0,s.jsx)(n.xv,{color:"cutout"===p?"dark":"subtle",size:x,weight:["heading","mobileHeading"].includes(p)?"normal":"bold",children:(0,s.jsx)("span",{style:{textDecoration:"line-through"},children:y})})}),t||null]})}},35687:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var n=i(20256),a=i(484465),l=i(448852),r=i(460632),s=i(961396),o=i(43578),d=i(785893);function c({count:e,countType:t,countFormat:i,hideSeparationDot:c,bracket:u,ratingValue:p,unauthPdp:m,shippingInfo:h}){let{closeupWithinMasonryEnabled:_,peekCloseupEnabled:g}=(0,r.x4)(),{mWebCloseupRedesignEnabled:y}=(0,a.Z)();return(0,d.jsxs)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{columnGap:_?4:void 0,rowGap:8}},display:"flex",wrap:!0,children:[(0,d.jsx)(s.Z,{bracket:u,count:e,countFormat:i,countType:t,rating:p,textSize:g||y?"200":"300",unauthPdp:m}),(0,d.jsx)(n.xu,{marginStart:!_&&(0,o.Z)({count:e,rating:p})&&c?2:0,children:(0,d.jsx)(l.Z,{customStyles:{color:"default",size:g||y?"200":"300"},freeShippingPrice:h?.freeShippingPrice,freeShippingValue:h?.freeShippingValue,showPrevDot:(0,o.Z)({count:e,rating:p})&&!c})})]})}},629342:(e,t,i)=>{"use strict";i.d(t,{g:()=>A,Z:()=>j});var n=i(667294),a=i(20256),l=i(762546),r=i(764271),s=i(278229),o=i(545007),d=i(19963),c=i(233846),u=i(346754),p=i(188073),m=i(62861),h=i(785893);function _({currentlySelectedIndex:e,index:t,onSelect:i,pinId:l,isDarkMode:s=!1,isSelectOnHover:_,size:g,thumbnail:y,mediaType:f="image",viewParameter:x}){let{logContextEvent:b}=(0,d.u)(),v=(0,o.I0)(),P=(0,c.ZP)(),[S,w]=(0,n.useState)(!1),{isCloseupMediaViewerEnabled:k}=(0,r.Z)({isShufflePin:!1}),I=(0,n.useCallback)(e=>{"video"===f&&e&&!S&&(w(!0),b({event_type:13,component:13596,element:12831,view_type:3,view_parameter:x}))},[b,f,x,S]),T=(0,u.Z)({onVisibilityChanged:I}),A=()=>{v((0,m.yR)(l,t)),i(t)},C=e===t||!e&&0===t;return(0,h.jsx)(a.xu,{ref:T,children:(0,h.jsx)(a.iP,{onMouseEnter:({event:e})=>{e.preventDefault(),e.stopPropagation(),_&&A()},onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),_||A()},rounding:k?4:void 0,children:(0,h.jsx)(p.Z,{isDarkMode:s,outlined:C,rounding:k?4:void 0,children:(0,h.jsxs)(a.xu,{position:"relative",children:[(0,h.jsx)(a.zd,{height:g,wash:!0,width:g,children:(0,h.jsx)(a.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:y})}),"video"===f&&(0,h.jsx)(a.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",left:!0,position:"absolute",top:!0,width:"100%",children:(0,h.jsx)(a.JO,{accessibilityLabel:P._('Secondary Carousel Video Icon', 'secondaryCarousel.carouselItem.videoIndicatorIcon', 'accessibility label on secondary carousel item'),color:"light",icon:"play",size:20})})]})})})})}var g=i(174646);let y=()=>{};function f({direction:e,handleNavHoverToggle:t,leftHover:i,isDarkMode:n=!1,hasBlurredBackground:l=!1,onScroll:r,rightHover:s,shouldPadArrows:o,size:d="md"}){let u=(0,c.ZP)(),{isRTL:p}=(0,g.B)(),m=function({direction:e,isDarkMode:t,isRTL:i,leftHover:n,rightHover:a,shouldPadArrows:l,verticalSize:r,hasBlurredBackground:s=!1},o){let d={backgroundImage:`linear-gradient(to ${e}, rgba(255, 255, 255, 0) 0%, #fff 90%)`,height:"100%",top:"0px",bottom:void 0},c={color:t?"inverse":"default",height:"40px",justifyContent:"center",left:void 0,right:void 0},u={sm:"54px",md:"124px",lg:"28px"};return{up:{...c,backgroundImage:s?"":`linear-gradient(${t?"#000 0%, rgba(0, 0, 0, 0) 90%":"#fff 0%, rgba(255, 255, 255, 0) 90%"})`,bottom:"",icon:"arrow-up",label:o._('Up arrow', 'product.carousel.arrowUp', 'Label for up arrow button in closeup image carousel'),top:"0px",width:u[r]},down:{...c,backgroundImage:s?void 0:`linear-gradient(${t?"rgba(0, 0, 0, 0) 0%, #000 90%":"rgba(255, 255, 255, 0) 0%, #fff 90%"})`,bottom:"0px",icon:"arrow-down",label:o._('Down arrow', 'product.carousel.arrowDown', 'Label for down arrow button in closeup image carousel'),top:void 0,width:u[r]},left:{...d,color:l||n?"default":"subtle",icon:i?"arrow-forward":"arrow-back",justifyContent:"start",label:o._('Left arrow', 'Label for left arrow button in search guides', 'Label for left arrow button in search guides'),left:"0px",right:void 0,width:i?"22px":"210px"},right:{...d,color:l||a?"default":"subtle",icon:i?"arrow-back":"arrow-forward",justifyContent:"end",label:o._('Right arrow', 'Label for right arrow button in search guides', 'Label for right arrow button in search guides'),left:void 0,right:"0px",width:i?"22px":"210px"}}}({direction:e,isDarkMode:n,isRTL:p,leftHover:i,rightHover:s,shouldPadArrows:o,verticalSize:d,hasBlurredBackground:l},u);return(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{willChange:"transform",pointerEvents:"none",top:m[e].top,bottom:m[e].bottom,left:m[e].left,right:m[e].right}},height:m[e].height,position:"absolute",children:(0,h.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundImage:m[e].backgroundImage,marginTop:o?"25px":void 0}},display:"flex",height:"100%",justifyContent:m[e].justifyContent,width:m[e].width,children:(0,h.jsx)("button",{onClick:r,onMouseEnter:t?()=>t(e,!0):y,onMouseLeave:t?()=>t(e,!1):y,style:{backgroundColor:"transparent",border:0,height:"100%",outline:"none",padding:0,pointerEvents:"all"},children:(0,h.jsx)(a.kC,{alignItems:"center",height:"100%",justifyContent:m[e].justifyContent,width:"50px",children:(0,h.jsx)(a.JO,{accessibilityLabel:m[e].label,color:m[e].color,icon:m[e].icon})})})})})}var x=i(516511);function b({direction:e,isDarkMode:t=!1,onScroll:i}){return(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{top:"50%",transform:"translateY(-50%)",..."left"===e?{left:"8px"}:{right:"8px"}}},position:"absolute",zIndex:new a.Ry(10),children:(0,h.jsx)(x.Z,{children:(0,h.jsx)(a.hU,{accessibilityLabel:`${e} arrow`,bgColor:"white",icon:"left"===e?"arrow-back":"arrow-forward",iconColor:t?"light":"dark",onClick:({event:e})=>i(e),size:"sm"})})})}var v=i(970601),P=i(669177),S=i(203774),w=i(169650),k=i(460632),I=i(12624),T=i(992114);let A=52,C={lg:60,md:120,sm:52},E=`
  .ProductCarousel-InnerScrollContainer {
    -ms-overflow-style: none;
    overflow-x: hidden;
    overflow-y: auto;
  }
  .ProductCarousel-InnerScrollContainer::-webkit-scrollbar {
    display: none;
  }
  .ProductCarousel-InnerScrollContainer--row {
    -ms-overflow-style: none;
    overflow-x: auto;
    overflow-y: hidden;
  }
  .ProductCarousel-InnerScrollContainer--row::-webkit-scrollbar {
    display: none;
  }
`;function j({commerceData:e={},isSelectOnHover:t,layout:i="column",onImageSelect:o,pinId:c,size:u,surfaceType:p,viewParameter:m}){let g,{logContextEvent:y}=(0,d.u)(),{isCloseupMediaViewerEnabled:x}=(0,r.Z)({isShufflePin:!1}),{isEnabled:A}=(0,l.Z)({dangerouslySkipActivation:!0}),{carouselInfo:j}=(0,s.G)(),R=j?.handleCarouselSwipe,L=j?.carouselData?.carousel_slots??[],F=j?.carouselData?.index??0,[D,O]=(0,n.useState)(),[M,Z]=(0,n.useState)(0),[z,N]=(0,n.useState)(),[K,B]=(0,n.useState)(),[U,V]=(0,n.useState)(),[H,G]=(0,n.useState)(!1),[W,$]=(0,n.useState)(!1),[Y,X]=(0,n.useState)(!1),[q,J]=(0,n.useState)(!1),[Q,ee]=(0,n.useState)(!1),et=(0,I.t)(),{closeupWithinMasonryEnabled:ei}=(0,k.x4)(),en=(0,n.useRef)(null),ea=(0,n.useRef)(null),el=C[u],er=x&&"media-viewer"===p,es=x&&"media-viewer"===p;(0,n.useEffect)(()=>{y({event_type:120,component:13596,view_type:3,view_parameter:m,aux_data:{pin_id:c,...e}})},[]),(0,n.useEffect)(()=>{if(!D||!en.current)return;let e=en.current.getBoundingClientRect();Z(Math.floor(e.top)),N(Math.floor(e.bottom)),V(Math.floor(e.top)),B(Math.floor(e.bottom))},[en.current,D]),(0,n.useEffect)(()=>{if(en.current){let{height:e,top:t,bottom:i}=en.current.getBoundingClientRect();Z(Math.floor(t)),N(Math.floor(i)),O(Math.floor(e))}},[L.length]),(0,n.useEffect)(()=>{!D&&en.current&&O(Math.floor(en.current.getBoundingClientRect().height))},[en.current]);let eo=8/(ei?2:1);(0,n.useEffect)(()=>{M&&U&&K&&z&&L.length>=4&&(M<U?G(!0):G(!1),z>=490+et+eo?$(!0):$(!1))},[M,z,U,K]);let ed=()=>{if(!ea.current)return;let{scrollTop:t,scrollHeight:n,clientHeight:a,scrollLeft:l,scrollWidth:r,clientWidth:s}=ea.current;if("column"===i)G(t>0),$(t+a<n-5);else{let e=r>s,t=e&&l>0,i=e&&l+s<r-5;X(t),J(i)}("column"===i?t>0:l>0)&&!Q&&(ee(!0),(0,T.nP)(`closeup.dweb.css_carousel.${A?"enabled":"control"}.scroll_thumbnails`,{sampleRate:1}),y({event_type:110,component:13596,view_type:3,view_parameter:m,aux_data:{pin_id:c,...e}}))},ec=(0,n.useRef)(ed);(0,n.useEffect)(()=>{ec.current=ed}),(0,n.useEffect)(()=>{ec.current()},[i,L.length,D]);let eu=ea.current;(0,n.useEffect)(()=>{let e=(0,w.Z)(()=>{if(en.current){let e=en.current.getBoundingClientRect();Z(Math.floor(e.top)),N(Math.floor(e.bottom)),ec.current()}},16);return eu?.addEventListener("scroll",e),()=>{eu?.removeEventListener("scroll",e)}},[eu]);let ep=(e,t=!1)=>{0!==e&&(g&&g.cancel(),en.current&&ea.current&&(t?ea.current.scrollBy({left:e,behavior:"smooth"}):(g=(0,S.Z)(ea.current,0,e,{easingFunction:"ease-in-out",scrollSpeedPxPerMs:.8,onAnimationComplete:()=>{g=null},extendToEdgeDistanceY:50})).start(),ed()))};return(0,h.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:`${eo}px`}},overflow:"hidden",position:"relative",children:[(0,h.jsx)(v.Z,{unsafeCSS:E}),(0,h.jsx)("div",{ref:ea,className:`ProductCarousel-InnerScrollContainer${"row"===i?"--row":""}`,id:"InnerScrollContainer",style:{maxHeight:"column"===i?490:void 0,maxWidth:"row"===i?"100%":void 0,cursor:"default"},children:(0,h.jsx)("div",{"aria-hidden":"true",onClick:e=>{e.preventDefault(),e.stopPropagation()},style:{cursor:"default"},children:(0,h.jsx)(a.xu,{ref:en,alignItems:"center",dangerouslySetInlineStyle:{__style:{columnGap:"8px",rowGap:"16px"}},direction:"row"===i?"row":"column",display:"flex",justifyContent:"row"===i?"start":"center",marginEnd:"row"===i?4:6*!ei,position:"relative",width:"row"===i?"100%":el+4,children:L.map((i,n)=>{let{images:a,videos:l}=i,{thumbnail:r,mediaType:s}=l?{thumbnail:l.cover_image_url,mediaType:"video"}:{thumbnail:(0,P.Z)({images:a,resolutionPreferences:["564x","736x","236x"]})?.url,mediaType:"image"};return(0,h.jsx)(_,{currentlySelectedIndex:F,index:n,isDarkMode:er,isSelectOnHover:t,mediaType:s,onSelect:()=>{(o||R)&&((0,T.nP)(`closeup.dweb.css_carousel.${A?"enabled":"control"}.select_thumbnail`,{sampleRate:1}),y({event_type:101,component:13596,element:"image"===s?11922:12831,view_type:3,view_parameter:m,aux_data:{...e}}),o?.(n),R?.(n))},pinId:c,size:el,thumbnail:r||"",viewParameter:m},`carousel-item-${i.image_signature||""}-${n}`)})})})}),!!D&&L.length>3&&(0,h.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},height:D>490?494:D+4,overflow:"hidden",position:"absolute",top:!0,width:"100%",children:["column"===i&&H&&(0,h.jsx)(f,{direction:"up",hasBlurredBackground:es,isDarkMode:er,onScroll:e=>{e.preventDefault(),e.stopPropagation(),ep(-100)},size:u}),"column"===i&&W&&(0,h.jsx)(f,{direction:"down",hasBlurredBackground:es,isDarkMode:er,onScroll:e=>{e.preventDefault(),e.stopPropagation(),ep(100)},size:u}),"row"===i&&Y&&(0,h.jsx)(b,{direction:"left",isDarkMode:er,onScroll:e=>{e.preventDefault(),e.stopPropagation(),ep(-(ea.current?Math.floor(.85*ea.current.clientWidth):100),!0)},size:u}),"row"===i&&q&&(0,h.jsx)(b,{direction:"right",isDarkMode:er,onScroll:e=>{e.preventDefault(),e.stopPropagation(),ep(ea.current?Math.floor(.85*ea.current.clientWidth):100,!0)},size:u})]})]})}},154554:(e,t,i)=>{"use strict";i.d(t,{Z:()=>_});var n,a=i(667294);i(167912);var l=i(20256),r=i(554048),s=i(78039),o=i(840962),d=i(158759),c=i(422378),u=i(789634),p=i(460632),m=i(785893);let h=(void 0!==n||(n=i(902045)).hash&&"e327c6c7127550a2f17b174cd4dcfa73"!==n.hash&&console.error("The definition of 'VisitButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function _({clientTrackingParams:e,color:t,link:i,onClickThrough:n,onLoad:_,pinKey:g,text:y,fullWidth:f=!1}){let x=(0,s.Z)(h,g),{peekCloseupEnabled:b}=(0,p.x4)(),v=(0,u.Z)({clickthroughType:"middleClick",location:"closeup.visitButton"}),P=(0,o.Z)({href:{pathname:i,state:{trackingParams:e}},clientTrackingParams:e,externalData:{pin:x&&{attributionSourceId:x.attributionSourceId,board:x.board&&{url:x.board.url},campaignId:x.campaignId,entityId:x.entityId,isDownstreamPromotion:x.isDownstreamPromotion,isPromoted:x.isPromoted,pinner:x.pinner&&{username:x.pinner.username},pinPromotionId:x.pinPromotionId,promoter:x.promoter&&{entityId:x.promoter.entityId},storyPinDataId:x.storyPinDataId,trackingParams:x.trackingParams,advertiserId:x.advertiserId}}});return(0,a.useEffect)(()=>{"function"==typeof _&&_()},[_]),(0,m.jsx)(c.q,{children:({hovered:a,onMouseEnter:s,onMouseLeave:o})=>(0,m.jsx)(r.Z,{clientTrackingParams:e,hovered:a,pinKey:x,viewType:3,children:(0,m.jsx)(l.ZP,{_onAuxClick:({event:e})=>{(0,d.UE)(e)&&(v(),e.stopPropagation(),n({componentType:194}),P({event:e}))},_onMouseEnter:s,_onMouseLeave:o,color:t,fullWidth:b||f,href:i,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),n({componentType:194}),P({event:e})},rel:"nofollow",size:"lg",text:y})})})}},73631:(e,t,i)=>{"use strict";i.d(t,{i:()=>n,j:()=>a});let n=2,a=236},989629:(e,t,i)=>{"use strict";i.d(t,{Z:()=>x});var n=i(667294),a=i(20256),l=i(247854),r=i(233846),s=i(687752),o=i(785893);function d({anchor:e,children:t,color:i}){return(0,o.jsx)(a.xu,{ref:e,alignItems:"center",color:i,dangerouslySetInlineStyle:{__style:{paddingRight:"16px",borderRadius:"0 0 16px 16px",border:`1px solid ${l.zsO}`}},direction:"row",display:"flex",justifyContent:"between",padding:1,position:"relative",children:t})}function c({anchor:e,children:t,color:i}){return(0,o.jsx)(a.xu,{ref:e,color:i,dangerouslySetInlineStyle:{__style:{background:"#F5F4EDCC",padding:"3px 6px"}},rounding:2,children:t})}function u({active:e,anchor:t,ctaText:i,hovered:l,onBlur:u,onFocus:p,onMouseDown:m,onMouseEnter:h,onMouseLeave:_,onMouseUp:g,onTap:y,story:f}){let x=(0,r.ZP)(),b=!!i,v=()=>(0,o.jsx)(a.JO,{accessibilityLabel:x._('Discover products to style with this look.', 'ShoppingModulePopover.DropdownIcon', 'BetterSave accessibility label to change the board'),color:"default",icon:"arrow-down",size:b?10:12}),P=()=>(0,o.jsx)(s.Z,{imageOverlapMargin:b?-3:-4,imageRounding:b?2:3,imageSize:b?30:48,storyKey:{type:"deprecated",data:f}});return(0,o.jsx)(a.xu,{marginTop:2*!!b,children:(0,o.jsx)(a.iP,{onBlur:u,onFocus:p,onKeyDown:m,onMouseDown:m,onMouseEnter:h,onMouseLeave:_,onMouseUp:g,onTap:y,children:(0,o.jsx)(b?c:d,{anchor:t,color:e||l?"secondary":"default",children:b?(0,o.jsxs)(a.kC,{alignItems:"center",gap:3,justifyContent:"between",children:[i&&(0,o.jsx)(a.xv,{lineClamp:1,size:"100",children:i}),(0,o.jsxs)(a.kC,{alignItems:"center",children:[(0,o.jsx)(a.xu,{direction:"row",display:"flex",marginEnd:1,children:P()}),(0,o.jsx)(a.xu,{marginEnd:1,children:v()})]})]}):(0,o.jsxs)(n.Fragment,{children:[(0,o.jsx)(a.xu,{direction:"row",display:"flex",marginEnd:2,children:P()}),v()]})})})})}function p({active:e,hovered:t,onBlur:i,onFocus:n,onMouseDown:l,onMouseEnter:d,onMouseLeave:c,onMouseUp:u,imageHeight:p,onTap:m,anchor:h,story:_}){let g=(0,r.ZP)();return(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{top:`${p-48-16}px`,userSelect:"none"}},left:!0,margin:"auto",position:"absolute",right:!0,width:"fit-content",children:(0,o.jsx)(a.iP,{onBlur:i,onFocus:n,onKeyDown:l,onMouseDown:l,onMouseEnter:d,onMouseLeave:c,onMouseUp:u,onTap:m,children:(0,o.jsxs)(a.xu,{ref:h,alignItems:"center",color:e||t?"secondary":"default",dangerouslySetInlineStyle:{__style:{paddingRight:"16px"}},direction:"row",display:"flex",justifyContent:"center",marginTop:-4,padding:1,position:"relative",rounding:3,children:[(0,o.jsx)(a.xu,{direction:"row",display:"flex",marginEnd:2,children:(0,o.jsx)(s.Z,{imageOverlapMargin:-4,storyKey:{type:"deprecated",data:_}})}),(0,o.jsx)(a.xu,{children:(0,o.jsx)(a.JO,{accessibilityLabel:g._('Discover products to style with this look.', 'ShoppingModulePopover.DropdownIcon', 'BetterSave accessibility label to change the board'),color:"default",icon:"arrow-down",size:12})})]})})})}var m=i(650649),h=i(19963),_=i(970601),g=i(707360);function y({active:e,hovered:t,onBlur:i,onFocus:l,onMouseDown:s,onMouseEnter:d,onMouseLeave:c,onMouseUp:y,focused:f,auxData:x,componentType:b,imageHeight:v,story:P,viewParameter:S,viewType:w,entrypointUiType:k}){let{logContextEvent:I}=(0,h.u)(),T=(0,r.ZP)(),A=(0,n.useRef)(null),[C,E]=(0,n.useState)(!1);if(!P)return null;let j=P.title?.format||T._('Shop the look', 'ShoppingModulePopover.Popover.Header', 'Shop these products to achieve this look.'),R=P.display_options?.content_display?.component_type,L={...x,pin_id:P.closeup_id,story_id:P.id},F={active:e,anchor:A,focused:f,hovered:t,onBlur:i,onFocus:l,onMouseDown:s,onMouseEnter:d,onMouseLeave:c,onMouseUp:y,onTap:()=>{E(!C),I({aux_data:L,component:b,element:13841,event_type:101,object_id_str:P.id,view_parameter:S,view_type:w}),I({aux_data:L,component:R,event_type:13,object_id_str:P.id,view_parameter:S,view_type:w})},story:P};return(0,o.jsxs)(n.Fragment,{children:["block"===k&&(0,o.jsx)(u,{...F}),"block_cta"===k&&(0,o.jsx)(u,{...F,ctaText:j}),"floating_dropdown"===k&&(0,o.jsx)(p,{imageHeight:v,...F}),C&&(0,o.jsxs)(a.mh,{zIndex:g.k,children:[(0,o.jsx)(_.Z,{unsafeCSS:'div[id="shopTheLookPopover"] { border: unset }'}),(0,o.jsxs)(a.J2,{__overflow:"hidden",accessibilityLabel:T._('A selection of product Pins to style with this look.', 'ShoppingModulePopover.Popover', 'BetterSave accessibility label to change the board'),anchor:A.current,id:"shopTheLookPopover",idealDirection:"down",onDismiss:()=>{E(!1),I({aux_data:L,component:R,event_type:123,object_id_str:P.id,view_parameter:S,view_type:w})},role:"menu",size:396,children:[(0,o.jsx)(a.xu,{alignItems:"center",display:"flex",height:64,justifyContent:"center",padding:2,children:(0,o.jsx)(a.X6,{lineClamp:1,size:"300",children:j})}),(0,o.jsx)(a.xu,{marginBottom:2,children:(0,o.jsx)(m.Z,{auxData:x,carouselSlidersContextLogData:{...L},disableHeader:!0,enablePageScrollOverride:!0,hidePinBetterSaveDropdown:!0,itemWidth:148,itemWidthHeightRatio:1,saveButtonOptions:{type:"none"},slotIndex:0,story:P,styleOverrides:{carouselContainerMarginBottom:0,carouselPaddingX:8,navigationFabOpacity:1,navigationFabSize:32,showModuleBorder:!1},surface:"VisualInspirationShoppingPin",viewParameter:S,viewType:w,width:396})})]})]})]})}var f=i(967312);function x({auxData:e,slotIndex:t,story:i,viewParameter:l,viewType:r}){let s=(0,n.useRef)(null),d=function({viewType:e,dangerouslySkipActivation:t=!1}){let{checkExperiment:i}=(0,f.r)();if(!e)return null;let n=3===e?i("web_ways_to_style_ui_v2_closeup",{dangerouslySkipActivation:t}).group:i("web_ways_to_style_ui_v2_search",{dangerouslySkipActivation:t}).group;return n.startsWith("enabled_cta")||"employees"===n?"enabled_cta":!n.startsWith("enabled_cta")&&n.startsWith("enabled")?"enabled":null}({viewType:r}),c="enabled_cta"===d,u="enabled"===d,p=i.objects?.filter(e=>"pin"===e.type),h=i.objects?.flatMap(e=>"story"===e.type?[e]:[]);if(!p||!p.length)return null;let _=i.display_options?.content_display?.item_width_height_ratio||1.38,g=null;return h&&h.length>0&&(g=h?.map((t,n)=>a=>(({productStory:t,index:n,...a})=>(0,o.jsx)(y,{auxData:e,componentType:i.display_options?.content_display?.component_type,entrypointUiType:c?"block_cta":u?"block":"floating_dropdown",imageHeight:201*_,story:t,viewParameter:l,viewType:r,...a},`${t.closeup_id||n}-WaysToStylePopover`))({productStory:t,index:n,...a}))),(0,o.jsx)(a.xu,{ref:s,children:(0,o.jsx)(m.Z,{auxData:e,carouselSlidersContextLogData:{...e,story_id:i.id},contentIds:i.objects?.map(({type:e,id:t})=>`${e}:${t}`).join("|"),enablePageScrollOverride:!0,initialSlideIndex:0,itemRepSiblingNodeFactories:g,itemWidth:201,itemWidthHeightRatio:_,resolution:"high-res",siblingNodeForcesHoverOnItemRep:!c&&!u,slotIndex:t,story:{...i,objects:p},styleOverrides:{carouselContainerMarginBottom:4,carouselPaddingX:16,headerMarginTop:4,headerMarginX:4,navigationFabOpacity:1,navigationFabSize:32,showModuleBorder:!0,showExtraSmallSubtitle:!0},surface:"VisualInspirationPin",viewParameter:l,viewType:r,width:s.current?.clientWidth??"100%"})})}},265014:(e,t,i)=>{"use strict";function n({maxPrice:e,minPrice:t,price:i}){return e&&t?`${t}-${e}`:i}i.d(t,{Z:()=>n})},900337:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(667294),a=i(616550),l=i(459339),r=i(857147),s=i(785893);function o({buttonText:e,clientTrackingParams:t,imageSrc:i,pinDescription:o,pinId:d,shownWithinMasonry:c}){let u=(0,a.TH)(),[p,m]=(0,n.useState)(!!(0,r.mB)(u.search).share);return(0,s.jsx)(l.default,{buttonText:e,controllerOptions:{flyoutDisplayOptions:{showCaret:!0,shownWithinMasonry:c},isFlyoutOpen:p,loggingOptions:{component:228,element:10942,viewParameter:157,viewType:3},onFlyoutDismiss:()=>m(!1),onToggleFlyout:()=>m(!p),sendObject:{type:"pin",description:o,id:d,imageUrl:i,url:`/pin/${d}/`,clientTrackingParams:t}},iconColor:"white"})}},459339:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>k});var n=i(667294),a=i(303151),l=i(20256),r=i(309144),s=i(221384),o=i(547504),d=i(66938),c=i(233846),u=i(970601),p=i(943369),m=i(755090),h=i(839284),_=i(719311),g=i(785893);function y({containerRef:e,onAnimationEnd:t,startAnimating:i,containerWidth:a}){let r=(0,c.ZP)(),s=(0,h.Z)(),m=(0,p.M0)(),[y,f]=(0,n.useState)(),[x,b]=(0,n.useState)(!1),[v,P]=(0,n.useState)(),S=r._('Share', 'secondarySendButtonAnimation.share', 'Share label for sharing a Pin'),w={buttonStyle:{animation:y,backgroundColor:d.Et},textStyle:{animation:v}};return(0,n.useEffect)(()=>{if(!s&&a)if(i){b(!0);let{animationSeenCount:e}=m.getItem(o.$M)||{animationSeenCount:0};m.setItem(o.$M,{animationSeenCount:e+1,lastAnimationTimestamp:Date.now()}),f("buttonSlideOut 1s ease-in forwards"),P("textFadeIn 1s ease-in forwards")}else f("buttonSlideIn .3s ease-in forwards"),P("textFadeOut .3s ease-in-out forwards")},[a,m,i,s]),(0,g.jsxs)(n.Fragment,{children:[(0,g.jsx)(u.Z,{unsafeCSS:`
@keyframes buttonSlideOut {
  0% {
    width: 48px;
  }
  15% {
    width: ${a}px;
  }
  100% {
    width: ${a}px;
  }
}

@keyframes textFadeIn {
  0% {
    opacity: 0;
  }
  15% {
    opacity: 0;
  }
  25% {
    opacity: 1;
  }
  100% {
    opacity: 1;
  }
}

@keyframes buttonSlideIn {
  0% {
    width: ${a}px;
  }
  100% {
    width: 48px;
  }
}

@keyframes textFadeOut {
  0% {
    opacity: 1;
  }
  15% {
    opacity: 1;
  }
  25% {
    opacity: 0;
  }
  100% {
    opacity: 0;
  }
}
`}),(0,g.jsx)(l.xu,{ref:e,alignItems:"center",dangerouslySetInlineStyle:{__style:{...w.buttonStyle,visibility:x?"visible":"hidden"}},display:"flex",onAnimationEnd:e=>{"buttonSlideIn"===e.animationName&&t()},position:"absolute",rounding:4,zIndex:_.mS,children:(0,g.jsxs)(l.kC,{alignItems:"center",gap:1,children:[(0,g.jsx)(l.xu,{padding:3,children:(0,g.jsx)(l.JO,{accessibilityLabel:S,color:"default",icon:"share",size:24})}),(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:w.textStyle},marginEnd:3,children:(0,g.jsx)(l.mg,{size:"md",children:S})})]})})]})}function f({onAnimationEnd:e}){let t=(0,n.useRef)(null),[i,a]=(0,n.useState)(0),[l,r]=(0,n.useState)(!1);return(0,m.Z)(()=>{let e=setTimeout(()=>{r(!0);let e=setTimeout(()=>{r(!1)},3e3);return()=>clearTimeout(e)},s.S+1e3);return()=>clearTimeout(e)}),(0,n.useEffect)(()=>{if(t.current&&!i&&l){let e=t.current.getBoundingClientRect().width;e&&a(e)}},[t,i,l]),(0,g.jsx)(y,{containerRef:t,containerWidth:i,onAnimationEnd:e,startAnimating:l})}var x=i(838380),b=i(896798),v=i(967312),P=i(756493),S=i(619748),w=i(215993);function k({controllerOptions:e,iconColor:t,iconOnly:i,buttonText:s,showSendAnimation:d=!1,tabIndex:u=0,closeupWithinMasonryEnabled:h=!1}){let _=(0,c.ZP)(),y=(0,p.M0)(),k=(0,P.Nl)(),{checkExperiment:I}=(0,v.r)(),{setIsShowingShareButton:T}=(0,S.f)(),A=(0,n.useRef)(null),[C,E]=(0,n.useState)(d),j=new l.Ry(5),[R]=(0,n.useState)(()=>{let e=k.getItem(x.bl)||0,{animationSeenCount:t}=y.getItem(o.$M)||{animationSeenCount:0};return t<2&&(2===e||3===e)}),L=()=>{E(!1)};return(0,m.Z)(()=>{let{lastAnimationTimestamp:e}=y.getItem(o.$M)||{lastAnimationTimestamp:0};(0,a.Z)(new Date(e),new Date)||y.setItem(o.$M,{animationSeenCount:0,lastAnimationTimestamp:e})}),(0,n.useEffect)(()=>(T(d),()=>{T(!1)}),[T,d]),(0,g.jsxs)(n.Fragment,{children:[(0,g.jsx)(w.Z,{...e,children:({handleSendShareFlyoutButtonClick:n})=>(0,g.jsxs)(l.u,{inline:!0,text:_._('Share', 'Closeup.SharePin.Icon', 'Icon for sharing the current pin'),zIndex:j,children:[C&&R&&I("sg_dweb_improved_share_animation_on_closeup").anyEnabled&&(0,g.jsx)(l.xu,{"data-test-id":"closeup-share-button",children:(0,g.jsx)(l.iP,{onTap:n,children:(0,g.jsx)(f,{onAnimationEnd:L})})}),(0,g.jsx)(r.Z,{ref:A,accessibilityLabel:_._('Send', 'Accessible label for button to send this pin', 'Accessible label for button to send this pin'),bgColor:h?"white":void 0,buttonText:s,handleClick:()=>n(),icon:"share",iconColor:t,iconOnly:i,isActive:e.isFlyoutOpen,tabIndex:u,testId:"closeup-share-button"})]})}),(0,g.jsx)(b.N,{anchors:{3017:A.current},idealDirection:"down",onAnchorTouch:"complete",placementId:12,scrollToDismiss:!0})]})}},255182:(e,t,i)=>{"use strict";i.d(t,{E:()=>o,N:()=>d});var n=i(667294),a=i(276409),l=i(218291),r=i(785893);let{Provider:s,get:o}=(0,l.Z)("Flag"),d=({children:e})=>{let[t,i]=(0,n.useState)(),[l,o]=(0,n.useState)(a.Zw.REPORT),[d,c]=(0,n.useState)(a.qb.STARTED),[u,p]=(0,n.useState)(),[m,h]=(0,n.useState)(),_=(0,n.useMemo)(()=>({flagReason:m,flow:l,status:d,selectedReason:u,modalTitle:t,setFlagReason:h,setFlow:o,setModalTitle:i,setStatus:c,setSelectedReason:p}),[t,l,d,u,m]);return(0,r.jsx)(s,{value:_,children:e})}},276409:(e,t,i)=>{"use strict";i.d(t,{Vm:()=>l,Zw:()=>n,qb:()=>a});let n={REPORT:"REPORT",BLOCK:"BLOCK",END:"END"},a={STARTED:"STARTED",SELECTED:"SELECTED",SUBMITTED:"SUBMITTED",PROCESSING:"PROCESSING",COMPLETED:"COMPLETED"},l={CONVERSATION:"CONVERSATION",DID_IT:"DID_IT"}},816349:(e,t,i)=>{"use strict";i.d(t,{Z:()=>W});var n,a,l=i(667294);i(422578);var r=i(20256),s=i(660098),o=i(651646),d=i(401587),c=i(459339),u=i(19963),p=i(135376),m=i(78039),h=i(233846),_=i(460632),g=i(992114),y=i(785893);function f(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let x={__style:{backgroundColor:"#000"}},b=(void 0!==n||(n=i(21283)).hash&&"e04be51b4be0a2585e7803d004fa83b7"!==n.hash&&console.error("The definition of 'CloseupVideoEndCard_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);class v extends l.PureComponent{constructor(...e){super(...e),f(this,"handleRestartVideo",({event:e})=>{e.stopPropagation(),this.props.onRestartVideo?.({event:e}),(0,g.nP)("web.video.endcard.share",{sampleRate:1,tags:{status:"restart",variant:"enabled_send_first"}})}),f(this,"handleShareVideo",()=>{let{clientTrackingParams:e,onToggleFlyout:t,isFlyoutOpen:i,pinId:n,requireAuth:a,logContextEvent:l}=this.props;if(i&&(0,g.nP)("web.video.endcard.share",{sampleRate:1,tags:{status:"shareSheetOpen",variant:"enabled_send_first"}}),l({event_type:101,component:179,object_id_str:n,view_type:3,view_parameter:156,element:11731,clientTrackingParams:e}),a)return void a();t&&t()}),f(this,"handleExternalSend",()=>{(0,g.nP)("web.video.endcard.share",{sampleRate:1,tags:{status:"shareSheetOpen",variant:"enabled_send_first"}})}),f(this,"renderReplayButton",()=>(0,y.jsx)(r.iP,{accessibilityLabel:this.props.i18n._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video'),onTap:this.handleRestartVideo,rounding:2,children:(0,y.jsxs)(r.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,y.jsx)(r.xu,{marginEnd:3,children:(0,y.jsx)(r.JO,{accessibilityLabel:this.props.i18n._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video'),color:"inverse",icon:"refresh",size:18})}),(0,y.jsx)(r.X6,{color:"light",overflow:"normal",size:"400",children:this.props.i18n._('Watch again', 'Clickable label when pressed restarts the video', 'Clickable label when pressed restarts the video')})]})})),f(this,"renderShareButton",()=>{let{clientTrackingParams:e,gridDescription:t,imageSrc:i,isFlyoutOpen:n,onFlyoutDismiss:a,pinId:l}=this.props;return(0,y.jsx)(r.iP,{accessibilityLabel:this.props.i18n._('Send', 'end.video.send.icon.label', 'Clickable label when pressed opens share sheet after video is finished'),onTap:this.handleShareVideo,rounding:2,children:(0,y.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:2,children:[(0,y.jsx)(c.default,{controllerOptions:{flyoutDisplayOptions:{shownWithinMasonry:!0},loggingOptions:{component:179,element:72,onExternalSend:this.handleExternalSend,viewType:3},isFlyoutOpen:n,onFlyoutDismiss:a,onToggleFlyout:()=>{},sendObject:{type:"pin",description:t,id:l,imageUrl:i,url:`/pin/${l}/`,clientTrackingParams:e}},iconColor:"white",iconOnly:!0,tabIndex:-1}),(0,y.jsx)(r.xu,{children:(0,y.jsx)(r.X6,{color:"light",overflow:"normal",size:"400",children:this.props.i18n._('Send', 'end.video.send.icon.label', 'Clickable label when pressed opens share sheet after video is finished')})})]})})})}componentDidMount(){let{clientTrackingParams:e,pinId:t,logContextEvent:i}=this.props;(0,g.nP)("web.video.endcard.share",{sampleRate:1,tags:{status:"land",variant:"enabled_send_first"}}),i({event_type:13,component:179,object_id_str:t,view_type:3,view_parameter:156,element:11731,clientTrackingParams:e})}render(){let{backgroundImage:e,naturalHeight:t,naturalWidth:i,maxHeight:n,maxWidth:a,pinTitle:l}=this.props;return(0,y.jsx)(r.xu,{maxHeight:n,maxWidth:a,children:(0,y.jsxs)(r.Ee,{alt:l||"",naturalHeight:t,naturalWidth:i,src:e,children:[(0,y.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:x,left:!0,position:"absolute",right:!0,top:!0}),(0,y.jsx)(r.xu,{alignItems:"center",direction:"column",display:"flex",height:"100%",justifyContent:"center",left:!0,maxHeight:n,maxWidth:a,position:"absolute",top:!0,width:"100%",children:(0,y.jsxs)(r.xu,{position:"absolute",children:[(0,y.jsx)(r.xu,{children:this.renderShareButton()}),(0,y.jsx)(r.xu,{alignSelf:"center",children:this.renderReplayButton()})]})})]})})}}function P(e){let t,{pinKey:i,variant:n}=e,a=(0,m.Z)(b,i),{logContextEvent:l}=(0,u.u)(),r=(0,h.ZP)(),d=(0,p.Z)(),{closeupWithinMasonryEnabled:c,peekCloseupEnabled:g,viewportSize:f}=(0,_.x4)(),{maxHeight:x,fiftyPercentHeight:P,fiftyPercentWidth:S}=(0,s.Re)(),{maxHeight:w}=(0,o.Z)({pinKey:a});return g?t="sm"===f?P:x:c&&(t=w),(0,y.jsx)(v,{...e,closeupWithinMasonryEnabled:c,i18n:r,logContextEvent:l,maxHeight:"media-viewer"===n?"inherit":t,maxWidth:"media-viewer"===n?"inherit":S,requireAuth:d})}let S=({backgroundImage:e,onRestartVideo:t,pinTitle:i})=>{let n=(0,h.ZP)();return(0,y.jsx)(r.xu,{"data-test-id":"video-end-card",height:"100%",width:"100%",children:(0,y.jsxs)(r.Ee,{alt:i||"",fit:"contain",naturalHeight:1,naturalWidth:1,src:e,children:[(0,y.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:x,left:!0,opacity:.8,position:"absolute",right:!0,top:!0}),(0,y.jsx)(r.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",left:!0,position:"absolute",top:!0,width:"100%",children:(0,y.jsx)(r.xu,{children:(0,y.jsx)(r.iP,{onTap:t,rounding:2,children:(0,y.jsxs)(r.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,y.jsx)(r.hU,{accessibilityLabel:n._('Replay', 'closeupVideo.endCard.ReplayButton', 'Button when pressed restarts the video'),icon:"refresh",iconColor:"white",size:"md"}),(0,y.jsx)(r.X6,{color:"light",overflow:"normal",size:"400",children:n._('Replay', 'closeupVideo.endCard.ReplayButton', 'Button when pressed restarts the video')})]})})})})]})})};var w=i(576183),k=i(17433),I=i(298568),T=i(616693),A=i(642058),C=i(116657),E=i(349057),j=i(174646),R=i(661319),L=i(772962),F=i(581288),D=i(757686),O=i(32526),M=i(538645),Z=i(606688),z=i(472856),N=i(597774),K=i(113329),B=i(821332);function U(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let V=(void 0!==a||(a=i(656863)).hash&&"53ae9ecd15f057f744460205e5d495fd"!==a.hash&&console.error("The definition of 'CloseupVideoNonDuplo_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),H=(e,t)=>{t({currentTime:e?.currentTime??0,duration:e?.duration??1})};class G extends l.Component{constructor(...e){super(...e),U(this,"state",{controls:"always"===this.props.showControls&&!this.props.disabled,fullscreen:!1,playing:!(0,w.G6)(this.props.requestContext.userAgent.browserName)&&!!this.props.autoplay&&!this.props.disabled,ready:!1,seeking:!1,showEndCard:!1,volume:this.props.muted||this.props.shouldMute?0:1,videoStartTime:this.props.videoStartTime||0}),U(this,"setVideoPwtLoadingStop",(e=!1)=>{if(!A.Z)return;let{storyPinStepStopwatch:t,pinId:i,pwtSurfaceContext:n}=this.props;t&&(e||t.addAnnotation("video.startup.end"),t.addBinaryAnnotation("pin.id",i,"STRING"),t.addBinaryAnnotation("video",!0,"BOOL"),t.addBinaryAnnotation("preload",e,"BOOL"),t.addSubspan({name:"perceived_video_load",endTime:A.Z.now()}),t.stop()),n&&(e||(n.addAnnotation("video.startup.end"),(0,k.ZP)("video.startup.end")),n.addBinaryAnnotation("pin.id",i,"STRING"),n.addBinaryAnnotation("video",!0,"BOOL"),n.markConstraintComplete(N._z),n.addSubspan("perceived_video_load",null,A.Z.now()),(0,k.L8)("perceived_video_load"),"story_pin"===n.getMetricId().segment&&n.removeConstraint(N.pM)),(0,E.Nx)(N._z),(0,E.rt)("pin.id",i,"STRING"),(0,E.rt)("video",!0,"BOOL"),"STORY_PIN_CLOSEUP"===(0,C.Ly)()&&(0,E.l7)(N.pM)}),U(this,"componentDidMount",()=>{let{customThumbnail:e,video:t,preferMp4:i}=this.props,{mp4:n}=t,a=t.hlsv3||t.hls||null,{thumbnail:l}=i&&n||a||{},r=(0,K.j4)(e||l);r?.ready===4&&(this.setState({ready:!0}),this.props.autoplay&&this.setVideoPwtLoadingStop(!0)),document.addEventListener("fullscreenchange",this.onFullscreenChange),document.addEventListener("webkitfullscreenchange",this.onFullscreenChange),document.addEventListener("mozfullscreenchange",this.onFullscreenChange),document.addEventListener("MSFullscreenChange",this.onFullscreenChange)}),U(this,"componentWillUnmount",()=>{document.removeEventListener("fullscreenchange",this.onFullscreenChange),document.removeEventListener("webkitfullscreenchange",this.onFullscreenChange),document.removeEventListener("mozfullscreenchange",this.onFullscreenChange),document.removeEventListener("MSFullscreenChange",this.onFullscreenChange)}),U(this,"onFullscreenChange",()=>{document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||this.props.setPanelOpen(e=>!e)}),U(this,"componentDidUpdate",(e,t)=>{this.props.videoStartTime&&this.props.videoStartTime!==e.videoStartTime&&this.setState({videoStartTime:this.props.videoStartTime}),!1===e.isPlaying&&this.props.isPlaying&&this.setState({playing:!0,controls:"never"!==this.props.showControls}),e.isPlaying&&!1===this.props.isPlaying&&this.setState({playing:!1}),e.autoplay!==this.props.autoplay&&(this.setState({playing:!!this.props.autoplay}),this.props.autoplay&&this.state.ready&&this.setVideoPwtLoadingStop(!0)),e.muted!==this.props.muted&&this.setState({volume:+!this.props.muted}),"never"===this.props.showControls&&t.controls&&this.setState({controls:!1}),(t.controls||t.playing)&&this.props.disabled&&this.setState({playing:!1,controls:!1}),!t.playing&&this.state.playing&&this.props.onPlay&&this.props.onPlay(),this.props.isCloseupMediaViewerOpen&&!e.isCloseupMediaViewerOpen&&this.setState({playing:!1})}),U(this,"handleTouch",()=>{let{seeking:e}=this.state,{disabled:t}=this.props;e||t||this.setState(e=>({playing:!e.playing}))}),U(this,"handleShowControls",()=>this.setState({controls:!0})),U(this,"handleHideControls",()=>this.setState({controls:!1})),U(this,"handleReady",()=>{let{ready:e,playing:t}=this.state,{autoplay:i,disabled:n}=this.props;i&&!e&&this.setVideoPwtLoadingStop(),this.setState({ready:!0}),(0,w.G6)(this.props.requestContext.userAgent.browserName)&&!t&&i&&!n&&this.setState({playing:!0})}),U(this,"handleEnded",({event:e})=>{let{customThumbnail:t,customEndCard:i,pinId:n,setCurrentVideo:a,loop:l,onEnded:r}=this.props;(e.stopPropagation(),!l)&&(this.setState({playing:!1}),t&&t.endsWith(".gif")||i||(this.setState({showEndCard:!0,videoStartTime:0}),a({pinId:n,isPromoted:!1,currentTime:0})),this.state.fullscreen&&this.exitFullscreen());r&&r(),this.props.setPanelOpen(!0)}),U(this,"handlePause",({event:e})=>{e.stopPropagation(),this.setState({playing:!1})}),U(this,"handlePlay",({event:e})=>{e.stopPropagation(),this.setState({playing:!0})}),U(this,"handleFullscreenChange",({event:e,fullscreen:t})=>{e.stopPropagation(),this.setState({fullscreen:t})}),U(this,"handlePlayheadDown",()=>{this.setState({seeking:!0})}),U(this,"handlePlayheadUp",()=>{setTimeout(()=>{this.setState({seeking:!1})},500)}),U(this,"handleRestartVideo",({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})}),U(this,"handleShareRestartVideo",({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})}),U(this,"handleVolumeChange",({event:e,volume:t})=>{let{shouldMute:i}=this.props;e.stopPropagation(),i||this.setState({volume:t})}),U(this,"exitFullscreen",()=>{let{document:e}=window;(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())}),U(this,"requestFullscreen",()=>{let{customThumbnail:e,video:t,preferMp4:i}=this.props,{mp4:n}=t,a=t.hlsv3||t.hls||null,{thumbnail:l}=i&&n||a||{},r=(0,K.j4)(e||l);r.requestFullscreen?r.requestFullscreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen():r.mozRequestFullScreen?r.mozRequestFullScreen():r.msRequestFullscreen&&r.msRequestFullscreen()}),U(this,"renderCloseupVideoEndCard",(e,t,i,n)=>{let a={backgroundImage:e,naturalHeight:t,naturalWidth:i,onRestartVideo:this.handleShareRestartVideo},l={backgroundImage:e,naturalHeight:t,naturalWidth:i,onRestartVideo:this.handleRestartVideo},{clientTrackingParams:r,flyoutShareProps:s}=this.props,o={clientTrackingParams:r,gridDescription:s?s.gridDescription:"",imageSrc:s?s.imageSrc:"",isFlyoutOpen:!!s&&s.isFlyoutOpen,onFlyoutDismiss:s?s.onFlyoutDismiss:()=>{},onToggleFlyout:s?s.onToggleFlyout:()=>{},pinId:s?s.pinId:"",pinKey:this.props.pin,variant:this.props.variant};return n?(0,y.jsx)(S,{...l}):(0,y.jsx)(P,{...o,...a})})}render(){let{aspectRatio:e,autoplay:t,closeupStoryPinViewability:i,contextLogData:n={component:179,is_closeup_video:!0,objectId:this.props.pinId,view:3,viewParameter:156},customThumbnail:a,isPromoted:l,loop:o,objectFit:c,preferMp4:u,preload:p,requestContext:m,showControls:h,variant:_,video:g,captions:f,isDesktop:x,videoThumbnailStartTime:b,pin:v,pinId:P,setProgressInfo:S,progressInfo:k,setPanelOpen:I,panelOpen:T,setMute:A,isMuted:C,closeupWithinMasonryEnabled:E,maxHeight:j,maxWidth:D,onTimeChange:O,seekTime:M,roundingOverride:z}=this.props;n.is_closeup_video=!0;let{controls:N,fullscreen:U,playing:V,showEndCard:G,volume:W,videoStartTime:$}=this.state,Y=g.hlsv3||g.hls||null;if(!Y&&!g.mp4)return null;let{mp4:X}=g,q=u&&X&&X.url||Y&&[{type:"video/m3u8",src:Y.url}]||void 0,{height:J,thumbnail:Q,width:ee}=u&&X||Y||{},et=a||Q,ei=()=>{I&&I(!T),T&&x&&this.requestFullscreen()},en=()=>{this.setState({volume:+!!C}),A(!C)},ea=()=>{this.setState({playing:!0})},el=()=>{this.setState({playing:!1})},er=()=>{this.setState({playing:!V})};return(0,y.jsxs)(r.zd,{height:E||"media-viewer"===_?"inherit":void 0,rounding:z,wash:!E&&"media-viewer"!==_||void 0,width:E||"media-viewer"===_?"inherit":void 0,willChangeTransform:!((0,w.G6)(m.userAgent.browserName)&&U),children:[G?this.renderCloseupVideoEndCard(et??"",J??1,ee??1,l):(0,y.jsxs)(r.iP,{accessibilityLabel:this.props.i18n._('Pause or play video', 'pin.closeup.video.tap', 'tap area to pause or play video'),fullHeight:E||"media-viewer"===_,onMouseEnter:"hover"===h?this.handleShowControls:void 0,onMouseLeave:"hover"===h?this.handleHideControls:void 0,onTap:this.handleTouch,rounding:2,children:[(0,y.jsx)(R.Z,{playing:V,zIndexValue:99}),(0,y.jsx)(d.Z,{id:"VideoWithContextLogging",children:(0,y.jsx)(B.ZP,{aspectRatio:e??(ee??1)/(J??1),backgroundColor:E?"black":s.yc,captions:f,closeupStoryPinViewability:i,contextLogData:{...n,video_id:this.props.video.id},hlsConfig:{startLevel:K.VS},isAutoPlay:!!t,loop:o,objectFit:c,onControlsPause:this.handlePause,onControlsPlay:this.handlePlay,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onPlay:()=>{},onPlayError:()=>{},onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onTimeChange:"storyPin"===_?O:({time:e})=>{H&&"number"==typeof X?.duration&&X.duration>0&&S&&H({currentTime:e,duration:X.duration/Z.gJ},S)},onVolumeChange:this.handleVolumeChange,pin:v,pinKey:v,playing:V,poster:et,preferMp4:u,preload:p,seekTime:M,src:q,variant:_,video:u&&X||Y||{},videoStartTime:$||b,volume:W})})]}),(0,y.jsx)(r.xu,{onMouseEnter:"hover"===h?this.handleShowControls:void 0,onMouseLeave:"hover"===h?this.handleHideControls:void 0,children:"storyPin"!==_&&(0,y.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...N?{...K.Ul}:{},flexDirection:"column-reverse"}},display:"flex",height:K.hy,maxHeight:j,maxWidth:D,paddingX:6,position:"absolute",width:"100%",zIndex:F.Gf,children:(0,y.jsx)(d.Z,{id:"IdeaPinVideoScrubber",children:(0,y.jsx)(L.Z,{activePageIndex:0,captionsUrl:f,handleMute:en,handlePanelChange:ei,handlePause:el,handlePausePlay:er,handlePlay:ea,handleWatchAgain:this.handleRestartVideo,inMilliseconds:!1,isMuted:C,isPanelOpen:T,isPlaying:V,isStoryPin:!1,pageCount:1,pages:[],pinId:P,progressInfo:k,showEndCard:G,showVideoControls:N,viewParameter:156})})})})]})}}function W(e){let{pinKey:t,pinId:i,isPromoted:n,video:a,muted:r,variant:c}=e,u=(0,m.Z)(V,t),p=(0,h.ZP)(),g=(0,j.B)(),f=(0,T.g)(),x=(0,I.A)(),{seekTimes:b}=(0,D.Hx)(),{clientTrackingParams:v,closeupWithinMasonryEnabled:P,isCloseupMediaViewerOpen:S}=(0,_.x4)(),{maxWidth:w}=(0,s.Re)(),{appUI:k,setCurrentVideo:A}=(0,z.G)(),{videosAutoplaying:C}=k,{organicVideosAutoplaying:E,promotedVideosAutoplaying:R}=C,L=g.locale.toLowerCase(),F=(a.mp4?.captions_urls||a.hlsv3?.captions_urls)??{},Z=L&&F[L]||Object.values(F)[0]||"",N=(0,M.HG)(),K=n?R[i]:E[i],B=parseInt((0,O.Z)().t||0,10),[U,H]=(0,l.useState)(K?.currentTime||0),[W,$]=(0,l.useState)(null),[Y,X]=(0,l.useState)(!0),[q,J]=(0,l.useState)(r),{maxHeight:Q}=(0,o.Z)({pinKey:u});(0,l.useEffect)(()=>{let e=U;B>0&&(e=B),b[i]&&(e=b[i]),H(e)},[b,i,B,U]);let ee=(0,l.useMemo)(()=>("default"!==c||!S)&&(!K||!K.paused),[c,K,S]);return(0,y.jsx)(d.Z,{id:"CloseupVideoInner",children:(0,y.jsx)(G,{...e,captions:String(Z)||"",clientTrackingParams:v,closeupWithinMasonryEnabled:P,i18n:p,isCloseupMediaViewerOpen:S,isDesktop:N,isMuted:q,isPanelOpen:Y,isPlaying:ee,maxHeight:Q,maxWidth:"media-viewer"===c?void 0:w,panelOpen:Y,pin:u,progressInfo:W,pwtSurfaceContext:x,requestContext:g,seekTime:b[i],setCurrentVideo:A,setMute:J,setPanelOpen:X,setProgressInfo:$,storyPinStepStopwatch:f,variant:c,videoStartTime:U})})}U(G,"defaultProps",{loop:!1,showControls:"hover"})},661190:(e,t,i)=>{"use strict";i.d(t,{Z:()=>g});var n,a=i(667294);i(422578);var l=i(401587),r=i(816349),s=i(78039),o=i(958659),d=i(320448),c=i(688655),u=i(472856),p=i(785893);function m(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let h=(void 0!==n||(n=i(241013)).hash&&"60493becbbe037be854a8cd1136fede6"!==n.hash&&console.error("The definition of 'CloseupVideoWithVisibility_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);class _ extends a.Component{constructor(...e){super(...e),m(this,"handleVisibilityChanged",e=>{let{pinId:t,isPromoted:i,setCurrentVideo:n,pauseAutoplay:a,videosAutoplaying:l,videoStartTime:r}=this.props,s=(0,c.Z)(t,l);e&&!s?n({pinId:t,isPromoted:!!i,currentTime:r}):!e&&s&&a({pinId:t,isPromoted:!!i,currentTime:this.currentVideoCurrentTime})}),m(this,"handleVideoTimeChange",e=>{let{pinId:t,videosAutoplaying:i}=this.props;(0,c.Z)(t,i)&&(this.currentVideoCurrentTime=e.time)})}componentDidUpdate(e){let{appInFocus:t}=e,{appInFocus:i,pauseAutoplay:n,pinId:a,isPromoted:l,setCurrentVideo:r,videosAutoplaying:s}=this.props,o=(0,c.Z)(a,s),u=(0,d.Z)(a,s);this.currentVideoCurrentTime=u??this.currentVideoCurrentTime,i!==t&&!i&&o?(this.pausedDueToBrowserOutOfFocus=!0,n({pinId:a,isPromoted:!!l,currentTime:this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&i&&(this.pausedDueToBrowserOutOfFocus=!1,r({pinId:a,isPromoted:!!l,currentTime:this.currentVideoCurrentTime}))}componentWillUnmount(){let{pinId:e,isPromoted:t,pauseAutoplay:i}=this.props;i({pinId:e,isPromoted:!!t,currentTime:this.currentVideoCurrentTime})}render(){let{pauseAutoplay:e,pin:t,setCurrentVideo:i,videoStartTime:n,videosAutoplaying:a,...s}=this.props;return(0,p.jsx)(l.Z,{id:"VisibilityChangedWrapper",children:(0,p.jsx)(o.Z,{onVisibilityChanged:this.handleVisibilityChanged,trackFullVisible:!1,...s,children:(0,p.jsx)(l.Z,{id:"CloseupVideo",children:(0,p.jsx)(r.Z,{...s,onTimeChange:this.handleVideoTimeChange,pinKey:t})})})})}}function g(e){let{pinId:t,pinKey:i,isPromoted:n}=e,a=(0,s.Z)(h,i),{appUI:{appInFocus:r,videosAutoplaying:o},pauseAutoplay:d,setCurrentVideo:c}=(0,u.G)(),{organicVideosAutoplaying:m,promotedVideosAutoplaying:g}=o,y=n?g[t]:m[t];return(0,p.jsx)(l.Z,{id:"CloseupVideoWithVisibilityInner",children:(0,p.jsx)(_,{...e,appInFocus:r,pauseAutoplay:d,pin:a,setCurrentVideo:c,videosAutoplaying:o,videoStartTime:y?y.currentTime:null})})}},69401:(e,t,i)=>{"use strict";i.d(t,{Gt:()=>n,LG:()=>a,UO:()=>l,ZB:()=>r,ZP:()=>s});let n=e=>e.replace(/\s+/g,"-"),a=100,l=10,r=28,s={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_IFRAME_ID:"video-iframe"}},476943:(e,t,i)=>{"use strict";i.d(t,{AL:()=>m,CT:()=>p,FA:()=>x,Kw:()=>P,MS:()=>d,O3:()=>I,OI:()=>r,Rk:()=>T,SP:()=>a,Wm:()=>n,Y4:()=>w,Zn:()=>u,at:()=>b,dH:()=>h,e4:()=>c,eX:()=>v,eq:()=>f,iC:()=>s,jf:()=>g,m6:()=>_,mW:()=>C,ps:()=>k,tT:()=>o,xZ:()=>l,xh:()=>y,yG:()=>A,yz:()=>S});let n=446,a=16,l=48,r={x:0,y:0,w:0,h:0},s=`
  .preview-crop-area-enter {
    opacity: 0;
  }

  .preview-crop-area-enter-active {
    opacity: 1;
    transition: opacity 300ms;
  }

  .preview-crop-area-exit {
    opacity: 1;
  }

  .preview-crop-area-exit-active {
    opacity: 0;
    transition: opacity 300ms;
  }

  .preview-crop-area-exit-done {
    opacity: 0;
  }
`,o="anchor",d=2,c=20,u=14,p=16,m=10,h=8,_=1,g=.75,y=4,f=3,x={nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},b="cropper-background",v="cropper-cropbox",P=32,S=20,w=10,k=1,I=0,T=120,A=2,C=.2},138589:(e,t,i)=>{"use strict";i.d(t,{CB:()=>m,H7:()=>p});var n=i(667294),a=i(218291),l=i(20256),r=i(397657),s=i(852015),o=i(233846),d=i(785893);let c=({onConfirm:e})=>{let t=(0,o.ZP)(),[i,a]=(0,n.useState)(!1),c=()=>{a(!0),(0,r.Z)({url:"/v3/users/email/verify/resend/",method:"POST"})};return(0,d.jsx)(s.ZP,{accessibilityModalLabel:t._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),footer:(0,d.jsxs)(l.kC,{gap:{row:2,column:0},justifyContent:"end",children:[i?(0,d.jsx)(l.zx,{color:"gray",disabled:i,fullWidth:!0,onClick:c,size:"lg",text:t._('Email sent', 'Button text for verification email being sent', 'Button text for verification email being sent')}):(0,d.jsx)(l.zx,{color:"gray",disabled:i,fullWidth:!0,onClick:c,size:"lg",text:t._('Resend email', 'Button text for resending email verification email', 'Button text for resending email verification email')}),(0,d.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:e,size:"lg",text:t._('Got it', 'Button text for acknowledging email verificaiton is required', 'Button text for acknowledging email verificaiton is required')})]}),heading:t._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),onDismiss:e,role:"alertdialog",children:(0,d.jsx)(l.xu,{padding:8,children:(0,d.jsx)(l.xv,{align:"center",size:"300",children:t._('Keep your account secure by verifying your email address. Check the inbox associated with this account for an email from us to continue using Pinterest.', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest')})})})},{Provider:u,get:p}=(0,a.Z)("EmailVerificationReminderModal");function m({children:e}){let[t,i]=(0,n.useState)(!1),a=(0,n.useMemo)(()=>({showEmailVerificationReminderModal:()=>{i(!0)}}),[]);return(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(u,{value:a,children:e}),t&&(0,d.jsx)(c,{onConfirm:()=>{i(!1)}})]})}},468318:(e,t,i)=>{"use strict";i.d(t,{aX:()=>u,nK:()=>p,ou:()=>o});var n=i(667294),a=i(616550),l=i(218291),r=i(785893);let{Provider:s,get:o}=(0,l.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),d=e=>e&&e.pathname?e.pathname+(e.search||""):"";function c(e,t){let i={action:t.type,location:t.location,match:t.match};if(t.location===e.current?.location)return e;switch(t.type){case"POP":if(e.forward.length>0&&d(e.forward[0].location)===d(i.location))return{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};return{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:i,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:i};default:return e}}function u(){let{current:e,previous:t}=o();return(0,n.useMemo)(()=>e?t.concat(e):t,[e,t])}function p({children:e}){let t=(0,a.k6)(),i=(0,a.TH)(),l=(0,a.$B)(),o={forward:[],current:{action:t.action,location:i,match:l},previous:[]},[d,u]=(0,n.useReducer)(c,o),p=(0,n.useRef)(i);if(p.current!==i){let{action:e}=t;u({type:e,location:i,match:l}),p.current=i}return(0,r.jsx)(s,{value:d,children:e})}},970601:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l}),i(441143);var n=i(785893);class a{static factory(e){return e instanceof a?e:new a(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function l(e){let{css:t,unsafeCSS:i,...l}=e,r=String(t||"")||i||"";return r?(0,n.jsx)("style",{...l,dangerouslySetInnerHTML:{__html:String(a.factory(r))}}):null}},516511:(e,t,i)=>{"use strict";i.d(t,{N:()=>r,Z:()=>l});var n=i(20256),a=i(785893);function l({children:e,fullWidth:t}){return(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},"data-test-id":"pointer-events-wrapper",children:e})}function r({children:e,enabled:t}){return t?(0,a.jsx)(l,{children:e}):e}},552544:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l,q:()=>a});var n=i(627124);let a=(e=0,t="")=>`@keyframes shopButtonSlideInThenOut {
  0% {
    width: 0px;
  }

  15% {
    width: ${e+n.I}px;
  }

  85% {
    width: ${e+n.I}px;
  }

  100% {
    width: 0px;
  }
}

@keyframes shopButtonSlideOut {
  0% {
    width: ${e+n.I}px;
  }
  100% {
    width: 0px;
  }
}

@keyframes stelaSlideOut {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

@keyframes revealShopText {
  from {
    clip-path: inset(0 100% 0 0);
  }
  to {
    clip-path: inset(0 0 0 0);
  }
}

@keyframes stelaSlideInThenOut {
  0% {
    opacity: 0;
  }

  15% {
    opacity: 0;
  }

  25% {
    opacity: 1;
  }

  50% {
    opacity: 1;
  }

  75% {
    opacity: 1;
  }

  85% {
    opacity: 0;
  }

  100% {
    opacity: 0;
  }
}


@keyframes stelaGrowInAndOut {
0% {
  transform: scale(0);
  opacity: 0;
}

10% {
  transform: scale(1);
  opacity: 1;
}

90% {
  transform: scale(1);
  opacity: 1;
}

100% {
  transform: scale(0);
  opacity: 0;
}
}

@keyframes buttonSlideIn${t} {
  0% {
    width: 0px;
  }
  15% {
    width: ${e+n.I}px;
  }
  100% {
    width: ${e+n.I}px;
  }
}

@keyframes stelaSlideIn {
  0% {
    opacity: 0;
  }

  15% {
    opacity: 0;
  }

  25% {
    opacity: 1;
  }
  100% {
    opacity: 1;
  }
}
`,l=(e=0)=>`@keyframes shopButtonSlideInThenOut {
  0% {
    width: 0px;
  }

  15% {
    width: ${e+n.I}px;
  }

  85% {
    width: ${e+n.I}px;
  }

  100% {
    width: 0px;
  }
}

@keyframes revealShopText {
  from {
    clip-path: inset(0 100% 0 0);
  }
  to {
    clip-path: inset(0 0 0 0);
  }
}

@keyframes stelaSlideInThenOut {
  0% {
    opacity: 0;
  }

  15% {
    opacity: 0;
  }

  25% {
    opacity: 1;
  }

  50% {
    opacity: 1;
  }

  75% {
    opacity: 1;
  }

  85% {
    opacity: 0;
  }

  100% {
    opacity: 0;
  }
}


@keyframes stelaGrowInAndOut {
0% {
  transform: scale(0);
  opacity: 0;
}

10% {
  transform: scale(1);
  opacity: 1;
}

90% {
  transform: scale(1);
  opacity: 1;
}

100% {
  transform: scale(0);
  opacity: 0;
}
}

`},627124:(e,t,i)=>{"use strict";i.d(t,{I:()=>n,b:()=>a});let n=24,a=36},740744:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});let n=new Set([90,88,89,91,101,92,131]);function a(e){return n.has(e)}},606479:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(203016);let a=new Set([92]),l=new Set([154]);function r(e){let t=[];return e.forEach(e=>{var i;if("story"===(i=e).type?a.has(i.container_type)||l.has(i.container_type)||n.v8.has(i.story_type)||n.AW.has(i.story_type):1){let i=t[t.length-1];Array.isArray(i)?i.push(e):t.push([e])}else t.push(e)}),t}},75605:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var n=i(691772),a=i(857147),l=i(183908),r=i(721988);let s={campaignFilter:"all",adGroupFilter:"all",adFilter:"all"},o=e=>{let t={};return e&&(t={objectiveTypes:[e]}),t},d=e=>{let{campaignId:t,objectiveType:i,partialCreate:n,catalogsFeedId:a,managedClientId:r,catalogId:s,productGroupId:o,resumeLastDraft:d}=e,c={};return t&&n&&(c.campaignId=t),i&&(c.objectiveType=i),"CATALOG_SALES"===i&&a&&(c.catalogsFeedId=a),s&&(c.catalogId=s),o&&(c.productGroupId=o),r&&(c.managedClientId=r),d&&(c.resumeLastDraft=!0),(0,l.Z)("/ads/create/",c)},c=e=>{let{campaignToolPreference:t,...i}=e;return(0,l.Z)("/automated/ads/create/",i)},u={overview:()=>"/",reporting:e=>{let t=e.objectiveType||null;delete e.objectiveType;let i={...e,...o(t)};return(0,l.Z)("/reporting/campaigns/",i)},reportingAdGroup:e=>{let{campaignId:t,objectiveType:i,showAllEntities:n,adGroupId:a,message:r}=e,d={campaignIds:[t],...n?s:{},...o(i),...a?{adGroupIds:[a]}:{},message:r};return(0,l.Z)("/reporting/adgroups/",d)},campaign:e=>{let{id:t,objectiveType:i}=e;return(0,l.Z)("/reporting/adgroups/",{campaignIds:[t],...o(i)})},editCampaign:e=>e.isAutomatedCampaign?u.editAutomated({campaignId:e.id,view:"campaign"}):u.editV2({campaignId:e.id,view:"campaign"}),adgroup:e=>{let{id:t,objectiveType:i,showAllEntities:n,pinPromotionId:a,campaignId:r}=e;return"TEMPORARY_SHOPPING"===i||"CATALOG_SALES"===i?(0,l.Z)("/reporting/productgroups/",{adGroupIds:[t],...o(i)}):(0,l.Z)("/reporting/ads/",{adGroupIds:[t],...o(i),...n?s:{},...a?{pinPromotionIds:[a]}:{},...r?{campaignIds:[r]}:{}})},editAdGroup:e=>e.isAutomatedCampaign?u.editAutomated({campaignId:e.id,view:"campaign"}):u.editV2({adGroupId:e.id,view:"adgroup"}),pinPromotion:e=>{let{id:t,adFilter:i}=e;return(0,l.Z)("/reporting/ads/",{pinPromotionIds:[t],...i?{adFilter:i}:{}})},editPinPromotion:e=>{let t=e.isCreatingPins?{isCreatingPins:!0}:{},i=e.pinPromotionId?{pinPromotionId:e.pinPromotionId}:{};return u.editV2({adGroupId:e.adGroupId,view:"ad",...i,...t})},productGroup:e=>{let{id:t,name:i}=e;return(0,l.Z)("/reporting/productgroups/",{productGroupIds:[t],name:i})},campaigns:()=>"/reporting/campaigns/",adgroups:()=>"/reporting/adgroups/",ads:()=>"/reporting/ads/",bulkEdit:e=>{let{entity_level:t,ids:i}=e;return(0,l.Z)("/ads/bulk_edit/",{entity_level:t,ids:i})},productgroups:()=>"/reporting/productgroups/",productitems:()=>"/reporting/productitems/",campaignNegativeKeywords:()=>"/reporting/campaignNegativeKeywords/",campaignSearchQueries:()=>"/reporting/campaignSearchQueries/",adGroupNegativeKeywords:()=>"/reporting/adGroupNegativeKeywords/",adGroupPositiveKeywords:()=>"/reporting/adGroupPositiveKeywords/",adGroupSearchQueries:()=>"/reporting/adGroupSearchQueries/",ad:e=>u.pinPromotion(e),createPreferred:e=>{switch(e.campaignToolPreference){case r.k.ADS_MANAGER:return d(e);case r.k.AUTOMATED_CAMPAIGN:return c(e);default:return(0,l.Z)("/ads/campaign_mode/",e.managedClientId?{managedClientId:e.managedClientId}:void 0)}},campaignMode:e=>(0,l.Z)("/ads/campaign_mode/",e.managedClientId?{managedClientId:e.managedClientId}:void 0),create:d,createAutomated:c,editV2:e=>(0,l.Z)("/ads/edit/",e),editAutomated:e=>(0,l.Z)("/automated/ads/edit/",e),editDraftCampaign:e=>(0,l.Z)("/ads/edit_draft/",{campaignId:e.campaignId,view:"campaign"}),duplicateCampaign:e=>(0,l.Z)("/ads/duplicate/",e),audiences:e=>(0,l.Z)("/audiences/",e.managedClientId?{managedClientId:e.managedClientId}:void 0),audience_debug:()=>"/audience_debug/",prepaid_spend_campaign_breakdown:()=>"/billing/prepaid_spend_campaign_breakdown/",billing:e=>{let{page:t,subSection:i,nextStepUrl:a}=e;switch(t){case n.kM.BILLING_HISTORY:return"/billing/history/";case n.kM.ORDER_LINES:return"/billing/order_lines/";case n.kM.PROMOTIONS:return"/billing/promotions/";case n.kM.DOCUMENTS:return"/billing/documents/";case n.kM.TAX_DOCUMENTS:return"/billing/tax_documents/";case n.kM.PREPAID_CAMPAIGN_SPEND:return"/billing/prepaid_campaign_spend_summary/";default:let r={};return i&&(r.section=i),a&&(r.next_step_link_url=a),(0,l.Z)("/billing/",r)}},bulk:e=>{let{subSection:t,page:i,jobStarted:a}=e||{};switch(i){case n.fm.UPLOAD_TEMPLATE:return(0,l.Z)("/bulk_editor/upload_template/",{section:t});case n.fm.DOWNLOAD_TEMPLATE:return(0,l.Z)("/bulk_editor/download_template/",{section:t});case n.fm.HISTORY:return(0,l.Z)("/bulk_editor/history/",{section:t,job_started:a});case n.fm.BULK_ID_LIBRARY:return(0,l.Z)("/bulk_editor/bulk_id_library/",{section:t});case n.fm.RESOURCES:return(0,l.Z)("/bulk_editor/resources/",{section:t});default:return"/bulk_editor/"}},experiments:e=>{let{page:t,id:i,campaigns:a}=e;switch(t){case n.S9.CREATE:return"/experiments/create/";case n.S9.MANAGE:return"/experiments/manage/";case n.S9.VIEW_REPORT:return`/experiments/manage/${i}`;case n.S9.AB_TEST_CREATE:return(0,l.Z)("/experiments/ab-test/create",a?{campaigns:a}:void 0);default:return"/experiments/"}},history:e=>(0,l.Z)("/history/",e),shopping:e=>u.reporting(o("TEMPORARY_SHOPPING")),pinterest_tag:e=>{let{page:t,subSection:i,platform:a,source:r,origin:s}=e;switch(t){case n.qp.PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:return"/conversions/events-overview/";case n.qp.PINTEREST_EVENT_HISTORY:if(r)return(0,l.Z)("/conversions/event-history/",{source:r});return"/conversions/event-history/";case n.qp.CONVERSION_HEALTH:return"/conversions/health/";case n.qp.PINTEREST_TEST_EVENTS:return(0,l.Z)("/conversions/test-events/",{subPage:i,platform:a});case n.qp.PINTEREST_TAG:return(0,l.Z)("/conversions/tag/",{subPage:i,platform:a});case n.qp.PINTEREST_TAG_MANUAL_SETUP_FLOW:let o=(0,l.Z)("/conversions/tag_manual_setup/",{origin:s});if(a)return(0,l.Z)(o,{platform:a,source:r});return o;case n.qp.PINTEREST_TAG_HEALTH:return"/conversions/tag-health/";case n.qp.CONVERSION_UPLOAD:return(0,l.Z)("/conversions/upload/",{subPage:i});case n.qp.UPLOAD_HISTORY:return(0,l.Z)("/conversions/history/",{subPage:i});case n.qp.PCA_UPLOAD_HISTORY:return(0,l.Z)("/conversions/pca_history/",{subPage:i});case n.qp.PCA_UPLOAD:return(0,l.Z)("/conversions/pca_upload/",{subPage:i});case n.qp.CONVERSIONS_API_MANUAL_SETUP_FLOW:if(r||s)return(0,l.Z)("/conversions/api_manual_setup/",{source:r,origin:s});return"/conversions/api_manual_setup/";case n.qp.CONVERSIONS_API_PARTNER_SETUP_FLOW:if(r||s)return(0,l.Z)("/conversions/api_partner_setup/",{source:r,origin:s});return"/conversions/api_partner_setup/";case n.qp.CONVERSIONS_API_ACCESS_TOKEN:return"/conversions/access_token/";case n.qp.PINTEREST_SETUP_API:return"/conversions/setup-api/";case n.qp.CONVERSIONS_API_DEDUPLICATION:return"/conversions/deduplication/";case n.qp.PAYLOAD_HELPER:return"/conversions/payload-helper/";case n.qp.CONVERSIONS:return"/conversions/";case n.qp.NOCODE_CONVERSIONS_API_SETUP_FLOW:return"/conversions/pinterest_capi_connect/";case n.qp.PINTEREST_EVENT_HISTORY_CAPI_TAB:return"/conversions/event-history/#conversionsAPI";case n.qp.PINTEREST_EVENTS_OVERVIEW_CAPI_TAB:return"/conversions/events-overview/#conversionsAPI";default:return"/conversions/tag/"}},"pin-builder":e=>(0,l.Z)("/pin-builder/",e),purchases:()=>u.reporting(o("PURCHASE")),awareness_reserved:()=>u.reporting(o("IMPRESSION")),engagement:()=>u.reporting(o("BILLABLE_ENGAGEMENT")),videos:()=>u.reporting(o("TEMPORARY_BIDDED_CPM_VIDEO")),videos_reserved:()=>u.reporting(o("TEMPORARY_IMPRESSION_VIDEO")),videos_cpv:()=>u.reporting(o("TEMPORARY_MRC_CPV_VIDEO")),conversions:()=>u.reporting(o("WEB_CONVERSION")),accounts_manager:()=>"/accounts_manager/",reporting_preferences:e=>(0,l.Z)("/reporting/preferences/",e),report_builder:e=>(0,l.Z)("/report-center/builder/",e),report_history:e=>(0,l.Z)("/report-center/history/",e),report_unsubscribe:e=>(0,l.Z)("/report-center/unsubscribe/",e),report_download:e=>(0,l.Z)("/report-center/download/",e),awareness:()=>u.reporting(o("AWARENESS")),traffic:()=>u.reporting(o("TRAFFIC")),app_installs:()=>u.reporting(o("APP_INSTALL")),catalog_sales:()=>u.reporting(o("CATALOG_SALES")),web_conversion:()=>u.reporting(o("WEB_CONVERSION")),video_view:()=>u.reporting(o("VIDEO_VIEW")),quick_promote:e=>(0,l.Z)("/quick-promote/",e),quick_promote_on_www:()=>"/advertiser/quick-promote/",recommendations:e=>(0,l.Z)("/recommendations/",e),catalog_view:()=>"/product-catalogs/data-source",campaign_insights:e=>{let t=`/campaign-insights/${e.campaignId}/`;if(e.queryParams){let{start_date:i,end_date:n,comp_start_date:l,comp_end_date:r}=e.queryParams;t+=`?${(0,a.XP)({start_date:i,end_date:n,comp_start_date:l,comp_end_date:r})}`}return t},product_group_reporting:e=>`/campaign-insights/${e.campaignId}/product-group/${e.productGroupId}`,media_planner:e=>(0,l.Z)("/media_planner/",e),ad_spend_optimizer:e=>(0,l.Z)("/msot-optimizer/",e)},p=u},691772:(e,t,i)=>{"use strict";i.d(t,{$N:()=>g,Cu:()=>f,GY:()=>p,MZ:()=>o,NR:()=>m,S9:()=>s,ar:()=>d,bC:()=>y,fm:()=>n,id:()=>l,kM:()=>r,q6:()=>a,qp:()=>u,uV:()=>h,ug:()=>_,xL:()=>c});let n={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",BULK_ID_LIBRARY:"BULK_ID_LIBRARY",RESOURCES:"RESOURCES"},a={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},l={INTEREST:"INTEREST",DEVICE:"DEVICE",LANGUAGE:"LANGUAGE",LOCATION:"LOCATION",LOCATION_COUNTRY:"LOCATION_COUNTRY",LOCATION_METRO:"LOCATION_METRO",LOCATION_REGION:"LOCATION_REGION",AUDIENCE:"AUDIENCE",TARGETING_TEMPLATE:"TARGETING_TEMPLATE",CONVERSION_TAG:"CONVERSION_TAG"},r={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",TAX_DOCUMENTS:"TAX_DOCUMENTS",DOCUMENTS:"DOCUMENTS",PREPAID_CAMPAIGN_SPEND:"PREPAID_CAMPAIGN_SPEND_SUMMARY"},s={CREATE:"CREATE",MANAGE:"MANAGE",VIEW_REPORT:"VIEW_REPORT",AB_TEST_CREATE:"AB_TEST_CREATE"},o={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce",PREMMERCE:"Premmerce",SEGMENT:"Segment",BRANCH:"Branch",HIGHTOUCH:"Hightouch",EULERIAN:"Eulerian",ADOBE_CDP:"Adobe Real-Time CDP",ADOBE_COMMERCE:"Adobe Commerce",SALESFORCE_COMMERCE_CLOUD:"Salesforce Commerce Cloud",PINTEREST_CAPI_CONNECT:"Pinterest CAPI Connect"},d={GTM:o.GOOGLE_TAG_MANAGER,SHOPIFY:o.SHOPIFY,WORDPRESS:o.WORDPRESS,WOOCOMMERCE:o.WOO_COMMERCE,TEALIUM:o.TEALIUM},c={GTM:"GTM",SHOPIFY:"SHOPIFY",WORDPRESS:"WORDPRESS",WOOCOMMERCE:"WOOCOMMERCE",TEALIUM:"TEALIUM"},u={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TEST_EVENTS:"PINTEREST_TEST_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",CONVERSIONS:"CONVERSIONS",PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:"PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP",PINTEREST_SETUP_API:"PINTEREST_SETUP_API",NOCODE_CONVERSIONS_API_SETUP_FLOW:"NOCODE_CONVERSIONS_API_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW_CAPI_TAB:"PINTEREST_EVENTS_OVERVIEW_CAPI_TAB",PINTEREST_EVENT_HISTORY_CAPI_TAB:"PINTEREST_EVENT_HISTORY_CAPI_TAB"},p={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},m={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type",PRIORITY:"priority",CLICK_PRIORITY:"2",VIEW_PRIORITY:"1",HOSTNAME:"hostname",CAMPAIGN_ID:"campaign_id",ADVERTISER_ID:"advertiser_id"},h="604800",_="86400",g={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"},y="click",f="view"},799699:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(75605),a=i(142212),l=i(600009);function r(e,t,i){if(!n.Z[e])throw Error(`unknown url key: ${e}`);i||(i={});let r=n.Z[e](i),s=i?.advertiserId||t||null,o=!!i.absolutify;return"string"==typeof s&&(r="/advertiser/"+s+r),o&&(r=(0,l.Z)(r,void 0,a.KUo)),r}},251816:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(799699),a=i(174646);function l(){let{advertiser:e}=(0,a.B)();return(t,i)=>(0,n.Z)(t,e?.id,i)}},5500:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});let n="undefined"!=typeof window&&window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now();function a({window:e,duration:t,run:i}){let a=n(),l=0,r=null,s=()=>{let o=n()-a,d=o-l;if(t===1/0)i(0,o,d);else{let e=o/t;if(e>=1)return void i(1,o,d);i(e,o,d)}l=o,r=e.requestAnimationFrame(s)};return{start:()=>{r=e.requestAnimationFrame(s)},cancel:()=>{r&&(e.cancelAnimationFrame(r),r=null)}}}},26234:(e,t,i)=>{"use strict";function n(e){return[0,24,21,26].includes(e)}function a({articleType:e,id:t,title:i}){let n=i.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${n}/${t}/`:`/discover/article/${n}/${t}/`}i.d(t,{x:()=>a,y:()=>n})},576183:(e,t,i)=>{"use strict";i.d(t,{G6:()=>l,i7:()=>r,oi:()=>n,u$:()=>a,un:()=>o,vU:()=>s,w1:()=>d});let n=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),a=e=>e?e.includes("Chrome")?n.CHROME:e.includes("Safari")?n.SAFARI:e.includes("Firefox")?n.FIREFOX:e.includes("Opera")?n.OPERA:e.includes("IE")?n.IE:e.includes("Edge")?n.EDGE:n.OTHER:n.OTHER;function l(e){return a(e)===n.SAFARI}function r(e){return a(e)===n.CHROME}function s(e){return a(e)===n.FIREFOX}function o(e){return a(e)===n.EDGE}function d(e){return a(e)===n.IE}},754322:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(667294);function a(e){return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}function l(){return window.innerWidth}function r(){return window.innerHeight}function s(){return null}function o(){let e=(0,n.useSyncExternalStore)(a,r,s),t=(0,n.useSyncExternalStore)(a,l,s);return null!==e&&null!==t?{height:e,width:t}:null}},261806:(e,t,i)=>{"use strict";i.d(t,{EF:()=>p,GM:()=>o,Hg:()=>T,Hl:()=>x,IR:()=>y,Je:()=>c,K3:()=>j,O1:()=>D,Q6:()=>h,QE:()=>n,V3:()=>I,Z4:()=>g,c7:()=>f,cU:()=>r,cZ:()=>w,cg:()=>a,dZ:()=>l,gO:()=>b,hd:()=>S,j$:()=>P,j9:()=>R,kX:()=>v,oQ:()=>z,p:()=>Z,pg:()=>O,pk:()=>k,pt:()=>E,qq:()=>F,sy:()=>u,tP:()=>A,uE:()=>_,vk:()=>L,w2:()=>d,ww:()=>C,xX:()=>s,xw:()=>M,yR:()=>m});let n=3e3,a=280,l=500,r=1e4,s=250,o=250,d=251,c=50,u=50,p=20,m=20,h={DASHBOARD:"DASHBOARD",PEOPLE:"PEOPLE",PARTNERS:"PARTNERS",AD_ACCOUNTS:"AD_ACCOUNTS",AD_ACCOUNTS_PENDING_TAB:"AD_ACCOUNTS_PENDING_TAB",HISTORY:"HISTORY",PEOPLE_DETAIL:"PEOPLE_DETAIL",PARTNERS_DETAIL:"PARTNERS_DETAIL",SHARED_PARTNERS_DETAIL:"SHARED_PARTNERS_DETAIL",AD_ACCOUNTS_DETAIL:"AD_ACCOUNTS_DETAIL",PENDING_AD_ACCOUNTS_DETAIL:"PENDING_AD_ACCOUNTS_DETAIL",PARTNERS_INVITES:"PARTNERS_INVITES",CHOOSER:"CHOOSER",PROFILES:"PROFILES",PROFILES_DETAIL:"PROFILES_DETAIL",PARTNERS_PENDING_TAB:"PARTNERS_PENDING_TAB",PEOPLE_PENDING_TAB:"PEOPLE_PENDING_TAB",USERS:"USERS",ACOUNTS:"ACCOUNTS",BUSINESS_SECURITY:"BUSINESS_SECURITY",ASSETS:"ASSETS",ASSET_GROUPS:"ASSET_GROUPS",INVOICE_MANAGEMENT:"INVOICE_MANAGEMENT",BUSINESS_HIERARCHY:"BUSINESS_HIERARCHY",BUSINESS_HIERARCHY_BUSINESS_SECURITY:"BUSINESS_HIERARCHY_BUSINESS_SECURITY",MANAGERS:"MANAGERS",AUDIENCES:"AUDIENCES",SHARED_TAGS:"SHARED_TAGS",CATALOGS:"CATALOGS",BRAND_SAFETY:"BRAND_SAFETY",AD_ACCOUNTS_CEE_MIGRATION:"AD_ACCOUNTS_CEE_MIGRATION",BUSINESS_SETTINGS:"BUSINESS_SETTINGS",SYSTEM_USERS:"SYSTEM_USERS",APPS:"APPS",CONVERSION_DATA:"CONVERSION_DATA"},_={PARTNER:"PARTNER",PARTNER_ADMIN:"PARTNER_ADMIN"},g={ADVERTISER_OWNED_AD_ACCOUNT:"ADVERTISER_OWNED_AD_ACCOUNT",AGENCY_OWNED_AD_ACCOUNT:"AGENCY_OWNED_AD_ACCOUNT"},y={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING"},f={AD_ACCOUNT:"AD_ACCOUNT",PERSON:"PERSON",PARTNER:"PARTNER",SYSTEM_USER:"SYSTEM_USER",CATALOG:"CATALOG"},x={PERSON:"PERSON",PARTNER:"PARTNER",SYSTEM_USER:"SYSTEM_USER",PROFILE:"PROFILE"},b={ADMIN:"ADMIN",ANALYST:"ANALYST",FINANCE_MANAGER:"FINANCE_MANAGER",AUDIENCE_MANAGER:"AUDIENCE_MANAGER",CAMPAIGN_MANAGER:"CAMPAIGN_MANAGER",CATALOGS_MANAGER:"CATALOGS_MANAGER",FINANCE_EDIT:"FINANCE_EDIT",FINANCE_VIEW:"FINANCE_VIEW"},v={CATALOGS_MANAGER:"CATALOGS_MANAGER",CATALOGS_VIEWER:"CATALOGS_VIEWER"},P=["ADMIN","ANALYST","FINANCE_MANAGER","AUDIENCE_MANAGER","CAMPAIGN_MANAGER","CATALOGS_MANAGER"],S=["ADMIN","ANALYST","AUDIENCE_MANAGER","CAMPAIGN_MANAGER","CATALOGS_MANAGER","FINANCE_EDIT","FINANCE_VIEW"],w=["ADMIN","ANALYST","FINANCE_MANAGER","AUDIENCE_MANAGER","CAMPAIGN_MANAGER"],k=["CATALOGS_MANAGER","CATALOGS_VIEWER"],I={EMPLOYEE:"EMPLOYEE",BIZ_ADMIN:"BIZ_ADMIN",OWNER:"OWNER"},T=["PROFILE_PUBLISHER"],A={AD_ACCOUNT:0,PROFILE:2,ASSET_GROUP:3,CATALOG:4},C={0:"AD_ACCOUNT",2:"PROFILE",3:"ASSET_GROUP",4:"CATALOG"},E={ACTIVE:0,PENDING:1},j={ACTIVE:"active",PENDING:"pending"},R="filter_type",L={page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:""},F={WARNING:"WARNING",DEFAULT:"DEFAULT"},D={BUSINESS_INVITE_INVALID:2932,BUSINESS_ACCESS_PERSONAL_ACCOUNT:2936,INVALID_USERNAME:90,ACCESS_DENIED:280,BUSINESS_RELATIONSHIP_ALREADY_EXISTS:2751,ODO_BUSINESS_RELATIONSHIP_ALREADY_EXISTS:53,BUSINESS_RELATIONSHIP_COUNT_EXCEEDED:2769,BUSINESS_NUMBER_MEMBERS_IN_POLICY_EXCEEDS:2938,ODO_BUSINESS_NUMBER_MEMBERS_IN_POLICY_EXCEEDS:66,ODO_BIZ_INVITE_EXISTS:71,INVALID_ODO_REQUEST:2755,BUSINESS_INVITE_STACKED_ERROR:2773,ACL_POLICY_NOT_FOUND:1110,BUSINESS_INVITE_NOT_EXIST:2770,BUSINESS_RELATIONSHIP_PREMATURE_MIGRATION_INVITE:4300,SANCTIONED_COUNTRY_FOR_BUSINESS:2762},O={ALL:"ALL",OWNED:"OWNED",SHARED:"SHARED"},M=new Date("2024-10-31T12:00"),Z="Httpool by Aleph",z="pinterest-leads@alephholding.com"},991729:(e,t,i)=>{"use strict";function n(e){return e?[e["736x"],e["564x"],e["474x"],e["236x"]].find(e=>e?.url)??null:null}i.d(t,{Z:()=>n})},532896:(e,t,i)=>{"use strict";function n({isHiddenPin:e,isUnsafePin:t}){return!e&&!t}i.d(t,{Z:()=>n})},61121:(e,t,i)=>{"use strict";i.d(t,{DW:()=>l,I:()=>a,Rn:()=>s,e3:()=>c,oo:()=>n,rk:()=>d,t7:()=>o,zI:()=>r});let n=e=>{let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},a=.18,l=(e,t,i)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(i/255)**2.2,r=e=>{let t=e.replace("#",""),i=parseInt(t.substr(0,2),16),n=parseInt(t.substr(2,2),16);return(299*i+587*n+114*parseInt(t.substr(4,2),16))/1e3<155},s=({hexColor:e,saturationMultiplier:t,brightnessMultiplier:i,minSaturationClamp:a,mixVal:l=1,minBrightnessClamp:r=0})=>{let s=n(e);null===s&&(s=[229,229,224]);let o=((e,t,i)=>{let n=Math.max(e/=255,t/=255,i/=255),a=n-Math.min(e,t,i),l=0;return 0!==a&&(l=(n===e?(t-i)/a+6*(t<i):n===t?(i-e)/a+2:(e-t)/a+4)*60)<0&&(l+=360),{h:l,s:0===n?0:a/n,b:n}})(...s),d=(e,t,i)=>Math.max(t,Math.min(e,i));o.s=d(o.s*(1+t),a,1),o.b=d(o.b*(1+i),r,1);let c=(({h:e,s:t,b:i})=>{let n=i*t,a=n*(1-Math.abs(e/60%2-1)),l=i-n,r=0,s=0,o=0;return e<60?(r=n,s=a):e<120?(r=a,s=n):e<180?(s=n,o=a):e<240?(s=a,o=n):e<300?(r=a,o=n):(r=n,o=a),{r:Math.round((r+l)*255),g:Math.round((s+l)*255),b:Math.round((o+l)*255)}})({...o}),u=e=>({r:Math.round(c.r*l+e*(1-l)),g:Math.round(c.g*l+e*(1-l)),b:Math.round(c.b*l+e*(1-l))}),p=u(0),m=u(255);return[[p.r,p.g,p.b],[m.r,m.g,m.b]]};function o(e){if("string"!=typeof e)return{r:0,g:0,b:0,a:0};let t=e.trim(),i="rgba"===t.slice(0,4).toLowerCase(),n=!i&&"rgb"===t.slice(0,3).toLowerCase();if(!i&&!n)return{r:0,g:0,b:0,a:0};let a=t.indexOf("("),l=t.indexOf(")",a);if(-1===a||-1===l)return{r:0,g:0,b:0,a:0};let r=t.slice(a+1,l).split(",").map(e=>e.trim());if(i&&4!==r.length||n&&3!==r.length)return{r:0,g:0,b:0,a:0};let[s,o,d,c]=r,u=Number(s),p=Number(o),m=Number(d),h=i?Number(c):1;return[u,p,m].some(e=>Number.isNaN(e))||i&&Number.isNaN(h)?{r:0,g:0,b:0,a:0}:{r:u,g:p,b:m,a:h}}function d(e,t){let i=e.a+t.a*(1-e.a);return 0===i?{r:0,g:0,b:0,a:0}:{r:Math.round((e.r*e.a+t.r*t.a*(1-e.a))/i),g:Math.round((e.g*e.a+t.g*t.a*(1-e.a))/i),b:Math.round((e.b*e.a+t.b*t.a*(1-e.a))/i),a:i}}let c=e=>`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`},817707:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(20256),a=i(971518),l=i(233846),r=i(785893);let s=({isQuestion:e,name:t,size:i,src:s})=>{let o=(0,l.ZP)();return(0,r.jsxs)(n.xu,{"data-test-id":"comment-avatar-container",position:"relative",children:[(0,r.jsx)(a.qE,{name:t,size:i,src:s}),e&&(0,r.jsxs)(n.xu,{alignItems:"center",bottom:!0,display:"flex",height:16,justifyContent:"center",marginBottom:-1,marginEnd:-1,position:"absolute",right:!0,width:16,children:[(0,r.jsx)(n.xu,{position:"absolute",children:(0,r.jsx)(n.JO,{accessibilityLabel:o._('Q and A comment', 'comment.userAvatar.creator.q&aIndicator', 'question mark icon indicator background that comment is Q&A'),color:"dark",icon:"speech"})}),(0,r.jsx)(n.xu,{position:"absolute",children:(0,r.jsx)(n.JO,{accessibilityLabel:o._('Q and A comment', 'comment.userAvatar.creator.q&aIndicator', 'question mark icon indicator background that comment is Q&A'),color:"light",icon:"question-mark",size:8})})]})]})}},276383:(e,t,i)=>{"use strict";i.d(t,{Z:()=>er});var n=i(20256),a=i(667294),l=i(545007),r=i(473727),s=i(683810),o=i(868977),d=i(255182),c=i(817707),u=i(265332),p=i(746633),m=i(899530),h=i(971518),_=i(785893);let g={helpfulStyle:{backgroundImage:`url(${p})`},lovedStyle:{backgroundImage:`url(${m})`}},y=({response:e,handleReactionListHover:t,maybeDismissReactionListWithDelay:i})=>{let a=14===e.reaction_type,l=1===e.reaction_type,r=e.user.is_private_profile?e.user.first_name:e.user.full_name;return(0,_.jsxs)(n.kC,{alignItems:"center",children:[(0,_.jsx)(n.Tg,{href:`/${e.user.username}/`,onBlur:i,onFocus:t,children:(0,_.jsxs)(n.kC,{alignItems:"center",children:[(0,_.jsx)(n.xu,{maxWidth:40,children:(0,_.jsx)(h.qE,{accessibilityLabel:"",name:r,outline:!0,size:"sm",src:e.user.image_medium_url})}),(0,_.jsx)(n.xu,{marginStart:2,maxWidth:80,children:(0,_.jsx)(n.xv,{color:"inverse",size:"100",weight:"bold",children:r})})]})}),(0,_.jsxs)(n.xu,{alignContent:"end",display:"flex",padding:2,children:[l&&(0,_.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:g.lovedStyle},"data-test-id":"comment-reaction-tray-loved-emoji",height:16,width:16}),a&&(0,_.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:g.helpfulStyle},"data-test-id":"comment-reaction-tray-helpful-emoji",height:16,width:16})]})]})};var f=i(297934),x=i(113474),b=i(827491),v=i(488879);let P=["userreaction.id","userreaction.reaction_type","userreaction.user()","user.first_name","user.full_name","user.id","user.image_medium_url","user.is_private_profile","user.username"],S=({commentId:e,handleReactionListHover:t,isMarkedHelpfulByMe:i,isLovedByMe:l,isTry:r,maybeDismissReactionListWithDelay:s})=>{let o=(0,f.Z)(),d=(0,b.Z)(),c=(0,x.Z)({name:"ApiResource",options:{url:r?`/v3/did_it/${e}/reacted_by/`:`/v3/aggregated_comments/${e}/reacted_by/`,field_sets:P}}),u=(0,v.lJ)(o,d)||("id"in o&&o.id?o.id:""),p=c.data;(l||i)&&p&&(p=p.filter(e=>e.user.id!==u),p=[{id:e,reaction_type:l?1:14,user:{first_name:(0,v.Fk)(o,d),full_name:(0,v.Fk)(o,d),id:u,image_medium_url:(0,v.gJ)(o,d),is_private_profile:!!o.isAuth&&!!o.isPrivateProfile,username:(0,v.Ms)(o,d)}},...p]);let m=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let{current:e}=m,t=()=>{c.isFetching||(c.isAtEnd?e?.removeEventListener("scroll",t):c.fetchMore())};return e?.addEventListener("scroll",t),()=>{e?.removeEventListener("scroll",t)}},[c]),(0,_.jsx)(n.xu,{ref:m,color:"selected",maxHeight:140,overflow:"scroll",rounding:2,width:180,children:p?.map(e=>(0,_.jsx)(n.xu,{"data-test-id":"reaction-list-single-user",margin:3,children:(0,_.jsx)(y,{handleReactionListHover:t,maybeDismissReactionListWithDelay:s,response:e})},e.id))})};var w=i(233846),k=i(181710),I=i(460632);let T=(0,a.lazy)(()=>i.e(97818).then(i.bind(i,597818))),A="comment-reaction-container-entry-point",C=({commentId:e,dismissReactionList:t,helpfulCount:i,isDesktop:l,isMarkedHelpfulByMe:r,isLovedByMe:s,isReactionListOpen:o,isTry:d,lovedCount:c,onReactionCountHover:h,onToggleHelpful:g,onToggleLove:y})=>{let f=(0,w.ZP)(),{isCommentComposerFocused:x}=(0,I.x4)(),b=(0,a.useRef)(null),v=l?16:12,[P,C]=(0,a.useState)(!1),E=!1,j=(c||0)+(i||0);r&&s&&(j-=1);let R=e=>()=>{C(e)},L=()=>{E=!0,h()},F=()=>{E=!1,setTimeout(()=>{E||t()},1e3)},D=l?(0,_.jsx)(n.xu,{"data-test-id":A,children:P?(0,_.jsx)(n.iP,{onMouseLeave:R(!1),onTap:R(!1),children:(0,_.jsx)(k.Z,{children:(0,_.jsx)(T,{onTooltipHover:R(!1),setHelpful:g(!0),setLoved:y(!0)})})}):(0,_.jsx)(n.iP,{onMouseEnter:R(!0),onTap:R(!0),children:(0,_.jsx)(n.JO,{accessibilityLabel:f._('React', 'comment.actionbar.react', 'accessibility label entry point to react to a comment'),color:"subtle",icon:"heart-outline",size:v})})}):(0,_.jsx)(n.xu,{"data-test-id":A,margin:-1.5,children:(0,_.jsx)(n.hU,{accessibilityLabel:f._('React', 'comment.actionbar.react', 'accessibility label entry point to react to a comment'),icon:"heart-outline",onClick:y(!0),size:"xs"})});return(0,_.jsxs)(n.kC,{alignItems:"center",gap:{row:l?1:1.5,column:0},children:[r||s?(0,_.jsx)(n.iP,{onTap:()=>{g(!1)(),y(!1)()},children:(0,_.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${s?m:p})`,backgroundSize:"contain"}},"data-test-id":s?"comment-reaction-container-loved-emoji":"comment-reaction-container-helpful-emoji",height:v,width:v})}):D,j>0&&(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)(n.iP,{onMouseEnter:L,onMouseLeave:F,onTap:L,children:(0,_.jsx)(n.xu,{ref:b,"data-test-id":"comment-reaction-container-reaction-count",display:l?void 0:"flex",children:(0,_.jsx)(n.xv,{color:l?"subtle":"default",inline:!0,size:l?"200":"100",weight:"bold",children:j})})}),o&&(0,_.jsx)(n.mh,{zIndex:u.Ty,children:(0,_.jsx)(n.J2,{anchor:b.current,idealDirection:"down",onDismiss:t,positionRelativeToAnchor:!1,shouldFocus:!x,children:(0,_.jsx)(n.iP,{onMouseEnter:L,onMouseLeave:F,children:(0,_.jsx)(S,{commentId:e,handleReactionListHover:L,isLovedByMe:s,isMarkedHelpfulByMe:r,isTry:d,maybeDismissReactionListWithDelay:F})})})})]})]})};var E=i(228028),j=i(530501),R=i(225506),L=i(656594);function F(e){let{comment:t,commentTags:i,handlePhotoTap:l,isDesktop:r,previewPhoto:s,taggedUsers:o}=e,[d,c]=(0,a.useState)(!1),{user:{username:u}}=t,p="text"in t?t.text:t.details,m=r?`${u} ${p}`:p,{height:h,url:g,width:y}=s||{},f=h??R.Vb,x=y??R.mu;return(0,_.jsxs)(n.xu,{children:[(0,_.jsx)(L.Z,{isFirstTaggedUserAuthor:!0,shouldShowFirstNameOnly:!0,taggedUsers:o,tags:i,text:m}),r||!r?(0,_.jsx)(n.xu,{marginBottom:r?void 0:1.5,marginTop:r?1:.5,children:(0,_.jsx)(R.ZP,{canEnlargePhoto:r,isSelectedPhoto:!1,previewPhoto:s})}):(0,_.jsx)(n.xu,{height:150,marginBottom:r?4:2,marginTop:1,width:150,children:(0,_.jsx)(n.iP,{disabled:!r,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onTap:l,children:(0,_.jsx)(n.zd,{rounding:2,wash:!0,children:g&&(0,_.jsx)(n.Ee,{alt:g,color:"#efefef",naturalHeight:f,naturalWidth:x,src:g,children:(0,_.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{cursor:r?"zoom-in":void 0,backgroundColor:`rgba(17, 17, 17, ${.4*!!d})`}},height:"100%",width:"100%"})},g)})})})]})}var D=i(640935),O=i(51340),M=i(921506),Z=i(875202);function z(e){let{featuredCommentId:t,parentId:i,parentType:r,inCommentsImprovedDropdownExp:s,inCommentsPopover:o,isDesktop:d,isLoading:c,isReadOnly:u,openOverflowMenu:p,replyingToCommentId:m,toggleEditComposer:h,toggleHelpful:g,toggleLike:y,toggleReplyComposer:f,isORBACProfileManager:x,isVideo:b,storyPinDataId:v,pinId:P,closeupAttributionId:S,aggregatedPinDataId:k,closeupAttributionUsername:I,pinnerId:T,reactionListCommentId:A,showReactionListForComment:C,viewParameter:E}=e,j=(0,w.ZP)(),R=(0,D.vs)(),L=(0,M.lV)(),F=(0,l.v9)(({feeds:e})=>{let t=e[`${Z.Z.AGGREGATED_COMMENT_REPLIES}:${i}`]||[],n=e[`${Z.Z.AGGREGATED_COMMENTS}:${i}`]||[];return t.concat(n).reduceRight((e,{id:t})=>{let i=L[t];return i?[...e,i]:e},[])}),z=(0,a.useRef)(!0),N=(0,a.useRef)(F.length),[K,B]=(0,a.useState)(1),[U,V]=(0,a.useState)(!1),H=K===F.length;return(0,a.useEffect)(()=>{let e=N.current,t=F.length;z.current?t>0&&(z.current=!1):t>e&&V(!0),t!==e&&B(e=>e>1?t:+(t>0)),N.current=t},[F.length]),(0,_.jsxs)(a.Fragment,{children:[F.length>1&&(0,_.jsx)(n.iP,{onTap:()=>{B(H?0:F.length)},children:(0,_.jsxs)(n.xu,{alignItems:d?void 0:"center",display:d?void 0:"flex",marginBottom:d?4:6,children:[d?(0,_.jsx)(n.xu,{display:"inlineBlock",marginEnd:2,children:(0,_.jsx)(n.xv,{color:"subtle",size:"200",weight:"bold",children:""})}):(0,_.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{background:R?"white":"black"}},height:1,marginEnd:2,width:32}),(0,_.jsx)(n.xv,{color:d?"subtle":"default",inline:!0,size:"100",weight:"bold",children:H?j._('Hide replies', 'comment.button.hideReplies', 'hide comment replies'):(0,O.nk)(j.ngettext('View {{ commentCount }} reply', 'View {{ commentCount }} replies', F.length, 'comment.button.showReplies', 'show comment replies'),{commentCount:F.length})})]})}),(0,_.jsx)(er,{aggregatedPinDataId:k,closeupAttributionId:S,closeupAttributionUsername:I,comments:(()=>{if(0===K||0===F.length)return[];if(1===K)if(U)return F.slice(-1);else return F.slice(0,1);return F.slice(0,K)})(),commentsDisabled:!1,featuredCommentId:t,gapSize:d?2:6,inCommentsImprovedDropdownExp:s,inCommentsPopover:o,isDesktop:d,isLoading:c,isORBACProfileManager:x,isReadOnly:u,isVideo:b,openOverflowMenu:p,parentId:i,parentType:r,pinId:P,pinnerId:T,reactionListCommentId:A,replyingToCommentId:m,showReactionListForComment:C,storyPinDataId:v,toggleEditComposer:h,toggleHelpful:g,toggleLike:y,toggleReplyComposer:f,userAvatarSize:"sm",viewParameter:E})]})}var N=i(19963),K=i(18644),B=i(231333),U=i(660691),V=i(693806),H=i(174646),G=i(987775),W=i(339908),$=i(644849),Y=i(365797),X=i(29210),q=i(802518),J=i(617100),Q=i(226003),ee=i(757653);let et=(0,a.lazy)(()=>i.e(32226).then(i.bind(i,932226))),ei=(0,ee.Z)(()=>i.e(24850).then(i.bind(i,404889)),void 0,e=>404889,"app-packages-comment-CommentOverflowPopover"),en=(0,a.lazy)(()=>i.e(87754).then(i.bind(i,187754)));function ea(e){let t,i,{aggregatedPinDataId:p,closeupAttributionId:m,closeupAttributionUsername:h,comment:g,featuredCommentId:y,inCommentsImprovedDropdownExp:x,inCommentsPopover:P,isDesktop:S,isReadOnly:T,isVideo:A,openOverflowMenu:R,toggleReplyComposer:Z,parentId:ee,parentType:ea=$.o.pin,pinId:el,storyPinDataId:er,replyingToCommentId:es,showReactionListForComment:eo,showTopCommentHeading:ed,toggleEditComposer:ec,toggleHelpful:eu,toggleLike:ep,userAvatarSize:em,isORBACProfileManager:eh,pinnerId:e_,reactionListCommentId:eg,viewParameter:ey}=e,{user:{id:ef,first_name:ex,id:eb,image_medium_url:ev,username:eP},id:eS,is_translatable:ew,comment_count:ek,helpful_count:eI,tags:eT=[]}=g,[eA,eC]=(0,a.useState)(!1),eE=eA&&g.translatedText||g.text,ej=!ew||""===g.translatedText,eR=(0,Y.Z)(),eL=!1,eF=0,eD=!1,eO=!!g.marked_helpful_by_me,eM=S?[g.user]:[],eZ="",ez=new Date;"aggregatedcomment"===g.type?(eL=g.highlighted_by_pin_owner,eF=g.reaction_counts[1],eD=g.reaction_by_me>0,i=g?.media?.sticker,eM.push(...g.tagged_users),eZ=S?`${eP} ${eE??""}`:eE??"",ez=new Date(g.created_at)):(eF=g.like_count,eD=g.liked_by_me,t=g.images[0]||{},eZ=S?`${eP} ${g.details}`:g.details,ez=new Date(g.done_at));let eN=t?.originals,eK=i||eN,eB=(0,w.ZP)(),eU=(0,f.Z)(),{setIsMediaViewerOpen:eV,clientTrackingParams:eH,setIsCommentPopoverInteractionActive:eG}=(0,I.x4)(),{logContextEvent:eW}=(0,N.u)(),{isBot:e$}=(0,H.B)(),{showToast:eY}=(0,W.dI)(),eX=(0,l.I0)(),eq=(0,D.vs)(),eJ=(0,a.useRef)(null),{hasApplicableLawForCountry:eQ}=(0,q.ZP)(),e0=!T||eQ,e1="aggregatedcomment"===g.type&&1===g.comment_tag,e2=e1&&S,e3=(0,b.Z)(),e6=(0,v.lJ)(eU,e3),{nativeEngagementsHiddenForUser:e4}=(0,X.G)(),{aggregatedCommentsHiddenForUser:e5,translateAggregatedComment:e8,updateAggregatedComment:e7}=(0,M.nf)(),e9=(0,o.Z)(),te="userdiditdata"===g.type,tt=(0,U.Z)(),ti=ew&&!1,tn=(0,u.zs)(eP,eT,eq,!S),ta={SHOW_TRANSLATION:eB._('Show translation', 'comment.translateButton.showTranslation', 'text for translation button when translation is available'),TRANSLATING:eB._('Translating...', 'comment.translateButton.translating', 'text for translation button while translating'),SHOW_ORIGINAL:eB._('Show original', 'comment.translateButton.showOriginal', 'text for translation button after translating')},tl=(0,a.useRef)(ta.SHOW_TRANSLATION),[tr,ts]=(0,s.Z)(),[to,td]=(0,a.useState)(!1),[tc,tu]=(0,a.useState)(!1),[tp,tm]=(0,a.useState)(!1),[th,t_]=(0,a.useState)(!1),[tg,ty]=(0,a.useState)(!1),[tf,tx]=(0,a.useState)(!1),[tb,tv]=(0,a.useState)(!1),[tP,tS]=(0,a.useState)(u.A9.NONE),tw=e=>()=>{ec?ec(g):tu(e)};(0,a.useEffect)(()=>{ti&&eW({event_type:10416,view_type:3,view_parameter:ey,component:"pin"===ea?13696:13697})},[eW,ea,ti,ey]),(0,a.useEffect)(()=>{ek>0&&!e$&&eX((0,G.U)("aggregatedcomment"===g.type?"AggregatedCommentReplyFeedResource":"DidItCommentsResource",{options:{isUnifiedComment:!0,objectId:eS,redux_normalize_feed:!0}}))},[g.type,eS]);let tk=ea.toLowerCase()===$.o.aggregatedComment.toLowerCase()||ea.toLowerCase()===$.n.didIt.toLowerCase(),tI=g.user.first_name||"",tT=async({contentMarkdown:e,force:t,tags:i})=>{let n,a;t_(!0);let l=g.id;if(tk&&(n=ea.toLowerCase()===$.n.didIt,l=ee,a=g.id),l)try{await e9({force:t,fromUnifiedComment:!0,objectType:te||n?$.o.didIt:$.o.aggregatedComment,objectId:l,orbacSubjectId:e6,tags:i,text:e,replyToCommentId:a})}catch(t){let e=(0,K.Z)(t,"code");if([V.ky,V.LJ].includes(e??0)&&S)return tS(e===V.ky?u.A9.WARNING:u.A9.BLOCK),t_(!1),!1}return Z&&Z(void 0),t_(!1),!0},tA=async({contentMarkdown:e,force:t,tags:i})=>{tm(!0);try{te?await eX((0,J.IU)({id:g.id,details:e,pinId:el??"",image_signatures:"image_signatures"in g&&g.image_signatures?g.image_signatures:[]})):await e7({commentId:g.id,force:t,orbacSubjectId:e6,tags:i,text:e})}catch(e){if([V.ky,V.LJ].includes((0,K.Z)(e,"code")??0)&&S)return tS(e.code===V.ky?u.A9.WARNING:u.A9.BLOCK),tm(!1),!1}return tu(!1),tm(!1),!0},tC=()=>{S?(eG(!to),td(!to)):R&&R(g)},tE=e=>()=>{eG(e),td(e),tv(e),e||eW({component:14349,event_type:9408})},tj=()=>{tS(u.A9.NONE)},tR=e=>{e?ts():tr(),eV(!e),ty(!e)};(0,a.useEffect)(()=>{eA&&ej&&(eC(!eA),eY(({hideToast:e})=>(0,_.jsx)(B.Z,{onHide:e,text:eB._('Error - couldn\'t translate', 'comment.couldNotTranslate.toast', 'error toast that shows after unsuccessful translation'),type:"error"})))},[eA,ej]),eA?tl.current=g.translatedText?ta.SHOW_ORIGINAL:ta.TRANSLATING:tl.current=ta.SHOW_TRANSLATION;let tL=S?128:110,tF="aggregatedcomment"===g.type&&g.media?.sticker?.image_url&&(0,_.jsx)(n.xu,{height:tL,marginBottom:+!!S,marginTop:1,width:tL,children:g.media?.sticker?.image_url&&(0,_.jsx)(n.Ee,{alt:g.media?.sticker?.display_name??"",fit:"contain",naturalHeight:0,naturalWidth:0,src:g.media.sticker.image_url})});return(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)(n.xH,{accessibilityLabel:"Loading comment",show:tp}),!tc&&!tp&&(0,_.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,_.jsx)(n.xu,{marginEnd:2,children:(0,_.jsx)(r.rU,{to:`/${eP}/`,children:(0,_.jsx)(c.Z,{isQuestion:e2,name:ex||eP||"",size:em,src:ev??""})})}),(0,_.jsxs)(n.kC,{direction:"column",flex:"grow",justifyContent:"start",children:[(0,_.jsxs)(n.kC,{justifyContent:"between",children:[(0,_.jsx)(n.kC.Item,{minWidth:0,children:(0,_.jsxs)(n.kC,{dataTestId:"author-and-comment-container",direction:"column",children:[!S&&(0,_.jsxs)(n.kC,{alignItems:"center",gap:{row:1,column:0},children:[(0,_.jsx)(L.Z,{isFirstTaggedUserAuthor:!0,lineHeight:"14px",marginEnd:0,shouldShowFirstNameOnly:!0,size:"100",taggedUsers:[g.user],tags:(0,u.zs)(eP,[],eq),text:eP}),e1&&!ed&&(0,_.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{lineHeight:"14px"}},children:(0,_.jsx)(n.xv,{color:"subtle",size:"100",children:eB._('asked a question \uD83D\uDC40', 'comment.question.label', 'label on a comment that is a question')})}),ed&&(0,_.jsxs)(n.kC,{children:[(0,_.jsx)(n.xu,{alignItems:"center",display:"flex",marginEnd:1,children:(0,_.jsx)(n.JO,{accessibilityLabel:(0,u.yW)(eB),color:"recommendation",icon:"star",size:12})}),(0,_.jsx)(n.xv,{color:"recommendation",size:"100",weight:"bold",children:(0,u._q)(eB)})]}),(e1||ed)&&ez&&(0,_.jsx)(n.xv,{color:"subtle",size:"100",children:""}),ez&&(0,_.jsx)(n.xu,{"data-test-id":"comments-time-passed",children:(0,_.jsx)(n.xv,{color:"subtle",size:"100",children:tt(ez,!0)})})]}),te?(0,_.jsx)(F,{comment:g,commentTags:tn,handlePhotoTap:()=>tR(tg),isDesktop:S,previewPhoto:eN,taggedUsers:eM}):(0,_.jsx)(L.Z,{isFirstTaggedUserAuthor:!!S,lineHeight:S?void 0:"21px",marginBottom:S?void 0:"4px",shouldShowFirstNameOnly:!0,taggedUsers:eM,tags:tn,text:eZ}),tF,ti&&(0,_.jsx)(n.xu,{marginBottom:2,marginTop:2,children:(0,_.jsx)(n.iP,{onTap:()=>void(!eA&&!g.translatedText&&e8(g.id),eA||tl.current!==ta.SHOW_TRANSLATION?eA&&tl.current===ta.SHOW_ORIGINAL&&eW({event_type:10418,view_type:3,view_parameter:ey,component:"pin"===ea?13696:13697}):eW({event_type:10417,view_type:3,view_parameter:ey,component:"pin"===ea?13696:13697}),eC(!eA)),children:(0,_.jsx)(n.xv,{color:"subtle",size:"300",weight:"bold",children:tl.current})})})]})}),y===eS&&(0,_.jsx)(n.xu,{alignSelf:"center",color:"primary",height:8,minWidth:8,rounding:"pill"})]}),eL&&(0,_.jsx)(n.xu,{marginBottom:S?3:1.5,marginTop:S?4:-.5,children:(0,_.jsx)(n.xv,{size:"100",children:(0,O.nk)(eB._('Highlighted by @{{ closeupAttributionUsername }}', 'comment.highlighted.label', 'label on comment that has been highlighted by the Pin creator'),{closeupAttributionUsername:h})})}),e0&&(0,_.jsx)(n.xu,{alignItems:"center",display:"flex",height:S?25:"100%",justifyContent:"between",position:"relative",children:(0,_.jsxs)(n.kC,{alignItems:"center",gap:{row:S?5:4,column:0},children:[!T&&S&&(0,_.jsx)(n.xu,{"data-test-id":"comments-time-passed",children:(0,_.jsx)(n.xv,{color:"subtle",size:"200",children:tt(ez,!0)})}),!T&&(0,_.jsx)(n.xu,{"data-test-id":"comment-reply-button-container",children:(0,_.jsx)(n.iP,{onTap:()=>{Z&&Z(g,ee,ea)},children:(0,_.jsx)(n.xv,{color:S?"subtle":"default",size:S?"200":"100",weight:"bold",children:eB._('Reply', 'comment.button.reply', 'entry point to reply to comment')})})}),!T&&(0,_.jsx)(C,{commentId:eS,dismissReactionList:()=>{eo(void 0)},helpfulCount:eI,isDesktop:S,isLovedByMe:eD,isMarkedHelpfulByMe:eO,isReactionListOpen:eg===eS,isTry:te,lovedCount:eF,onReactionCountHover:()=>{eo(eS),eW({event_type:9906,component:"pin"===ea?13696:13697,view_type:3,view_parameter:ey})},onToggleHelpful:e=>()=>{eO!==e&&eu(eS,!e,te)()},onToggleLove:e=>()=>{eD!==e&&ep(eS,!e,te)()}}),!("id"in eU&&eU.id===eb&&e1)&&(S?(0,_.jsx)(n.xu,{ref:eJ,"data-test-id":"comment-more-options",children:(0,_.jsx)(n.hU,{accessibilityLabel:eB._('More', 'comment.button.more', 'see more options for comment'),icon:"ellipsis",iconColor:"gray",onClick:tC,size:"xs"})}):(0,_.jsx)(n.xu,{"data-test-id":"comment-more-options",children:(0,_.jsx)(n.iP,{onTap:tC,children:(0,_.jsx)(n.JO,{accessibilityLabel:eB._('More', 'comment.button.more', 'see more options for comment'),color:eq?"light":"dark",icon:"ellipsis",size:12})})}))]})})]})]}),S&&(0,_.jsxs)(a.Fragment,{children:[tc&&!(P||x)&&(0,_.jsx)(n.xu,{marginTop:3,children:(0,_.jsx)(E.Z,{clientTrackingParams:eH,commentWarningModalState:tP,dismissCommentWarningModal:tj,initialTags:g.tags,initialText:"aggregatedcomment"===g.type?g.text:g.details,isEditing:!0,objectType:$.o.aggregatedComment,onAddItem:tA,onCancelItem:tw(!1),postedPhoto:eK,showCommentComposer:!0,statusType:"textInFlightNested",viewParameter:ey})}),es===eS&&(0,_.jsx)(n.xu,{marginStart:12*!tk,marginTop:3,children:(0,_.jsx)(E.Z,{commentWarningModalState:tP,dismissCommentWarningModal:tj,initialTags:tk?[{offset:0,object_id:ef,length:tI.length,tag_type:1}]:[],initialText:tk?`${tI} `:"",isReplying:!0,objectType:$.o.aggregatedComment,onAddItem:tT,onCancelItem:()=>{Z&&Z()},showCommentComposer:!0,statusType:"textInFlightNested",viewParameter:ey})})]}),(ek>0||th)&&(0,_.jsx)(n.xu,{marginStart:S?12:10,marginTop:S?4:3,children:(0,_.jsx)(z,{aggregatedPinDataId:p,closeupAttributionId:m,closeupAttributionUsername:h,featuredCommentId:y,inCommentsImprovedDropdownExp:x,inCommentsPopover:P,isDesktop:S,isLoading:th,isORBACProfileManager:eh,isReadOnly:T,isVideo:A,openOverflowMenu:R,parentId:eS,parentType:g.type,pinId:el,pinnerId:e_,reactionListCommentId:eg,replyingToCommentId:es,showReactionListForComment:eo,storyPinDataId:er,toggleEditComposer:ec,toggleHelpful:eu,toggleLike:ep,toggleReplyComposer:Z,viewParameter:ey})}),S&&e0&&(0,_.jsx)(ei,{aggregatedPinDataId:p,anchor:eJ.current,closeupAttributionId:m,comment:g,dismiss:e=>{td(!1),e||(eG(!1),eW({component:14349,event_type:10128}))},inCommentsPopover:!!P,isOpen:to,isReply:tk,onEdit:tw(!0),onShowBlockUserModal:tE(!0),parentId:ee,pinId:el,pinnerId:e_}),tf&&(0,_.jsx)(k.Z,{children:(0,_.jsx)(d.N,{children:(0,_.jsx)(en,{aggregatedPinDataId:p,didItDataId:eS,onClose:e=>()=>{tx(!e)},pinId:el??"",username:eP,users:[g.user]})})}),tb&&(0,_.jsx)(k.Z,{children:(0,_.jsx)(et,{firstName:ex??"",onBlockUser:()=>{eX((0,Q.Ge)({id:ef,orbacSubjectId:e6,blockSource:"comment",blockContext:eS,logContextEvent:eW})),e5(ef),e4(ef),eW({event_type:101,component:13712,element:87,view_type:220,aux_data:{creator_id:eU.isAuth?eU.id:null}}),eW({component:14349,event_type:9407}),tv(!1),eR(),eG(!1)},onClearModal:tE(!1)})}),!!eN&&tg&&(0,_.jsx)(j.Z,{onDismiss:()=>tR(tg),photo:eN})]})}var el=i(586033);function er(e){let t,i,{aggregatedPinDataId:a,comments:l,commentsDisabled:r,commentsScrollContainerRef:s,featuredCommentId:o,gapSize:d=6,inCommentsImprovedDropdownExp:c,inCommentsPopover:u,isDesktop:p,isLoading:m=!1,isReadOnly:h,openOverflowMenu:g,toggleReplyComposer:y,parentId:f,parentType:x,replyingToCommentId:b,showingCloseupCommentModule:v,toggleEditComposer:P,toggleHelpful:S,toggleLike:k,userAvatarSize:T,isORBACProfileManager:A,isVideo:C,storyPinDataId:E,pinId:j,closeupAttributionId:R,closeupAttributionUsername:L,pinnerId:F,showReactionListForComment:D,reactionListCommentId:O,viewParameter:M}=e,Z=(0,w.ZP)(),{closeupWithinMasonryEnabled:z}=(0,I.x4)(),N=!!v&&!1;return(u?t="12px":z&&(t="8px"),i=E?"story":C?"video":"pin",r)?(0,_.jsx)(n.xu,{alignSelf:"center","data-test-id":"comments-disabled-label",marginTop:z?2:void 0,width:"100%",children:(0,_.jsx)(n.xv,{align:p?"start":"center",color:"subtle",children:Z._('Comments are turned off for this Pin', 'commentThread.disabledState.message', 'Comments are turned off or disabled for this pin')})}):l.length>0?(0,_.jsxs)(n.xu,{ref:s,dangerouslySetInlineStyle:{__style:{gap:`${4*d}px 0`,overscrollBehavior:u?"none":"auto",scrollbarGutter:z?"stable":void 0,paddingTop:t}},"data-test-id":"aggregated-comment-list",direction:"column",display:"flex",maxHeight:z&&!u?722:"100%",overflow:z?"auto":void 0,width:"100%",children:[l.map((e,t)=>(0,_.jsx)(el.Fw,{componentType:"pin"===x?13696:13697,impressionAuxFields:{commentId:e.id,pinId:j,pinOwnerUserId:R,pinType:i,parentId:f,parentType:x,commentType:"aggregatedComment"},impressionType:"Comment",loggingId:e.id,slotIndex:t,viewType:p?3:98,children:({impressionTrackerRef:i})=>{let r=t===l.length-1;return(0,_.jsx)(n.xu,{ref:i,dangerouslySetInlineStyle:{__style:{paddingBottom:u&&r?"24px":"0px"}},"data-test-id":"commentThread-comment",tabIndex:0,children:(0,_.jsx)(ea,{aggregatedPinDataId:a,closeupAttributionId:R,closeupAttributionUsername:L,comment:e,featuredCommentId:o,inCommentsImprovedDropdownExp:c,inCommentsPopover:u,isDesktop:p,isORBACProfileManager:A,isReadOnly:h,isVideo:C,openOverflowMenu:g,parentId:f,parentType:x,pinId:j,pinnerId:F,reactionListCommentId:O,replyingToCommentId:b,showReactionListForComment:D,showTopCommentHeading:N&&0===t,storyPinDataId:E,toggleEditComposer:P,toggleHelpful:S,toggleLike:k,toggleReplyComposer:y,userAvatarSize:T,viewParameter:M})})}},e.id)),m&&(0,_.jsx)(n.xH,{accessibilityLabel:Z._('Comments loading', ' - ', ' -- '),show:m})]}):(0,_.jsx)(n.xu,{alignSelf:"center",width:"100%",children:(0,_.jsx)(n.xH,{accessibilityLabel:Z._('Comments loading', ' - ', ' -- '),show:m})})}},228028:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(667294),a=i(774609),l=i(785893);let r=(0,n.lazy)(()=>Promise.all([i.e(78352),i.e(4659),i.e(73170)]).then(i.bind(i,778606)));function s(e){return(0,l.jsx)(a.Z,{fallback:null,children:(0,l.jsx)(r,{...e})})}},530501:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(20256),a=i(516312),l=i(148742),r=i(233846),s=i(785893);function o({onDismiss:e,photo:t}){let i=(0,r.ZP)(),{height:o,url:d,width:c}=t,u=Math.min(o??936,936),p="100vh",m=i._('Close media viewer', 'comments.photo.mediaViewer.close', 'Close media viewer overlay');return(0,s.jsxs)(n.mh,{zIndex:l.b7,children:[(0,s.jsx)(n.iP,{mouseCursor:"zoomOut",onTap:e,children:(0,s.jsxs)(n.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.8)"}},"data-test-id":"comment-media-viewer",display:"flex",height:p,justifyContent:"center",left:!0,position:"fixed",right:!0,top:!0,width:"100%",children:[(0,s.jsx)(n.xu,{left:!0,padding:5,position:"absolute",top:!0,children:(0,s.jsx)(n.hU,{accessibilityLabel:m,icon:"cancel",iconColor:"white",onClick:e,padding:3,size:"lg"})}),(0,s.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 84px"}},height:p,maxHeight:u,width:c,children:d&&(0,s.jsx)(n.Ee,{alt:d??"",fit:"contain",naturalHeight:o??1,naturalWidth:c??1,src:d},d)})]})}),(0,s.jsx)(a.Z,{onClose:e})]})}},225506:(e,t,i)=>{"use strict";i.d(t,{Vb:()=>h,ZP:()=>g,mu:()=>_});var n=i(667294),a=i(20256),l=i(683810),r=i(265332),s=i(696764),o=i(530501),d=i(233846),c=i(174646),u=i(538645),p=i(460632),m=i(785893);let h=150,_=346;function g({canEnlargePhoto:e,containerWidth:t,isSelectedPhoto:i,previewPhoto:g,removeSelectedPhoto:y}){let f=(0,d.ZP)(),x=(0,u.HG)(),{isRTL:b}=(0,c.B)(),{setIsMediaViewerOpen:v}=(0,p.x4)(),[P,S]=(0,l.Z)(),[w,k]=(0,n.useState)(!1),[I,T]=(0,n.useState)(!1),[A,C]=(0,n.useState)(null),[E,j]=(0,n.useState)(r.WU),R=(0,s.Z)(g)?g?.url:g?.image_url;(0,n.useEffect)(()=>{(async()=>{R&&!(0,s.Z)(g)&&C(await new Promise((e,t)=>{let i=new Image;i.onload=()=>{e({width:i.width,height:i.height})},i.onerror=t,i.src=R}))})()},[R,g]);let L=(0,s.Z)(g)?g?.width:A?.width,F=(0,s.Z)(g)?g?.height:A?.height,D=L??0,O=F??0,M=R??"",Z=Math.min((t||(x?_:312))/D,(x?h:110)/O,1),z=f._('Remove photo', 'photoCommentPreview.removePhoto', 'Icon to remove the selected photo from the comment composer'),N=f._('Photo', 'photoCommentPreview.previewPhoto', 'Photo previewed as part of a comment'),K=e=>{e?S():P(),v(!e),k(!e)};return(0,m.jsxs)(a.xu,{height:Z*O,marginTop:3*!!i,position:"relative",width:Z*D,children:[(0,m.jsx)(a.iP,{disabled:!e,onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),onTap:()=>K(w),children:(0,m.jsx)(a.zd,{rounding:2,children:M&&(0,m.jsx)(a.Ee,{alt:N,color:E,naturalHeight:O,naturalWidth:D,onLoad:()=>{j(r.o),i&&URL.revokeObjectURL(M)},src:M,children:e&&(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{cursor:"zoom-in",backgroundColor:`rgba(17, 17, 17, ${.4*!!I})`}},height:"100%",width:"100%"})},N)})}),i&&(0,m.jsx)(a.xu,{alignItems:"center",display:"flex",height:24,justifyContent:"center",left:b,marginEnd:-3,marginTop:-3,position:"absolute",right:!b,top:!0,width:24,children:(0,m.jsx)(a.hU,{accessibilityLabel:z,bgColor:"lightGray",icon:"cancel",onClick:y,size:"xs"})}),w&&(0,m.jsx)(o.Z,{onDismiss:()=>K(w),photo:g})]})}},656594:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(667294),a=i(20256),l=i(785893);let r=({inCommentFeedPreview:e,isFirstTaggedUserAuthor:t,lineHeight:i,marginBottom:r,marginEnd:s,shouldShowFirstNameOnly:o,size:d,tags:c,taggedUsers:u,text:p})=>{let m=(0,n.useRef)(null),h=(e,t)=>(0,l.jsx)(a.xv,{inline:!0,overflow:"normal",size:d,children:(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{lineHeight:i,overflowWrap:"anywhere",display:"inline"}},"data-test-id":"text-container",children:e})},t);return(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap",wordWrap:"break-word",marginBottom:r}},children:(()=>{if(!c.length||!u||c.length!==u.length)return h(p,"1");let n=0,r=[];return c.forEach((i,s)=>{let c=p.substring(n,i.offset);n=i.offset+i.length;let m=p.substring(i.offset,n);r=r.concat(h(c,`${s}a`)).concat(((i,n,r,s)=>{let c=o||0===r&&t?u[r].first_name||u[r].username[0]:n;return(0,l.jsx)(a.xv,{color:i,inline:!0,overflow:"normal",size:d,weight:"bold",children:e?c:(0,l.jsx)(a.rU,{display:"inlineBlock",href:`/${u[r].username}`,underline:"hover",children:c})},s)})(i.color,m,s,`${s}b`))}),r=r.concat(h(p.substring(n),"2")),(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{lineHeight:i}},display:o?"flex":void 0,marginEnd:s??3,position:"relative",children:(0,l.jsx)(a.xv,{ref:m,inline:!0,lineClamp:e?1:void 0,size:d,children:r})})})()})}},265332:(e,t,i)=>{"use strict";i.d(t,{A9:()=>_,F1:()=>k,Ff:()=>w,G5:()=>I,G_:()=>S,Gu:()=>P,LH:()=>s,Rv:()=>u,TJ:()=>m,Ty:()=>l,WU:()=>f,XU:()=>c,_q:()=>E,i$:()=>x,iB:()=>r,je:()=>o,mi:()=>T,o:()=>y,pW:()=>h,qJ:()=>j,ql:()=>g,sp:()=>A,uC:()=>d,xA:()=>p,yQ:()=>C,yW:()=>v,zs:()=>b});var n=i(20256),a=i(121006);let l=new n.Ry(3),r=48,s=56,o="sm",d=500,c=1,u=Object.freeze({TOP:0,REPLY_TO_TRIED:1,REPLY_TO_AGGREGATED:2}),p=Object.freeze({PHOTO:0,STICKER:1,PIN:2}),m="comment_featured_ids",h="did_it_featured_ids",_={NONE:"none",WARNING:"warning",BLOCK:"block"},g="https://s.pinimg.com/images/user/default_75.png",y="transparent",f="#efefef",x=(e,t)=>e?(0,a.Z)(t.ngettext('{{ count }} Comment', '{{ count }} Comments', e, 'closeup.commentThread.heading.commentCount', 'Comment count on a Pin. count: number of comments'),{count:e.toString()}):t._('No comments yet', 'closeup.commentThread.heading.noComments', 'Prompt for user to comment on Pin'),b=(e,t,i,n)=>{let a=t.map(t=>({...t,offset:(t.offset||0)+(n?0:e.length+1),color:"shopping"}));return n?a:[{offset:0,length:e.length,color:i?"light":"dark"},...a]},v=e=>e._('Insight heading icon', 'closeupCommentModuleHeading.icon', 'Icon displayed in the comment module heading'),P=e=>e._('No comments yet', 'emptyCommentThread.noComments.heading', 'Text shown when there are no comments yet'),S=e=>e._('Post', 'commentComposer.button.post', 'Post new comment'),w=e=>e._('posted a photo', 'comment.preview.text.photo', 'Comment preview text for an image that a user posted'),k=e=>e._('posted a sticker', 'comment.preview.text.sticker', 'Comment preview text for a sticker that a user posted'),I=e=>e._('Select an emoji', 'emojitray.button.accessibilityLabel', 'Accessibility label for emoji tray button'),T=e=>e._('Select a photo', 'photoModal.button.accessibilityLabel', 'Accessibility label for photo modal button'),A=e=>e._('Select a sticker', 'stickerTray.button.accessibilityLabel', 'Accessibility label for sticker tray button'),C=e=>e._('Text editor', 'EditorWithMentions.container', 'Tappable area for the editor container'),E=e=>e._('Top Comment', 'closeupCommentModuleHeading.heading.topComment', 'Top Comment heading for the comment module'),j=e=>[I(e),T(e),S(e),A(e),C(e)]},370106:(e,t,i)=>{"use strict";i.d(t,{Z:()=>x});var n=i(545007),a=i(868977),l=i(265332),r=i(19963),s=i(18644),o=i(231333),d=i(297934),c=i(233846),u=i(693806),p=i(339908),m=i(827491),h=i(488879),_=i(921506),g=i(644849),y=i(617100),f=i(785893);function x(){let e=(0,n.I0)(),t=(0,a.Z)(),{updateAggregatedComment:i}=(0,_.nf)(),{logContextEvent:x}=(0,r.u)(),{showOneToast:b}=(0,p.dI)(),v=(0,d.Z)(),P=(0,m.Z)(),S=(0,h.lJ)(v,P),w=(0,c.ZP)();return{handleAddComment:async function(n,a,r,d,c,p,m,h,_,P){let{commentMedia:k,contentMarkdown:I,force:T,imageSignatures:A,tags:C}=n,E=!!P,j=!!_;if(!a)return!1;try{if(a){if(j)_.type===g.n.didIt?await e((0,y.IU)({id:_.id,details:I,pinId:r??"",image_signatures:"image_signatures"in _&&_.image_signatures?_.image_signatures:[]})):await i({commentId:_.id,force:T,orbacSubjectId:S,tags:C,text:I});else if(A.length){let t={aggregatedPinDataId:a,details:I,image_signatures:A,pin_id:r??"",username:v.isAuth&&v.username||"",fromUnifiedComment:!0};await e((0,y.DD)(t))}else if(E){let e=P?.parentType!==g.n.pin,i=e?P?.parentType===g.n.didIt:P?.type===g.n.didIt,n=e?P?.parentId||"":P?.id,a=i?g.o.didIt:g.o.aggregatedComment,l=e?P?.id:void 0;await t({force:T,fromUnifiedComment:!0,objectType:a,objectId:n,pinId:r,orbacSubjectId:S,replyToCommentId:l,tags:C,text:I})}else await t({commentMedia:k,force:T,fromUnifiedComment:!0,objectType:g.o.pin,objectId:a,pinId:r,tags:C,text:I,orbacSubjectId:S});x({event_type:7,clientTrackingParams:p,object_id_str:r,aux_data:{num_user_mention_tags:(C?JSON.parse(C):[]).length,...d?{creator_id:c,story_pin_data_id:d}:{}}})}}catch(e){return[u.ky,u.LJ].includes((0,s.Z)(e,"api_error_code")??0)?m((0,s.Z)(e,"api_error_code")===u.ky?l.A9.WARNING:l.A9.BLOCK):b(({hideToast:t})=>(0,f.jsx)(o.Z,{onHide:t,text:(0,s.Z)(e,"message_detail")||(0,s.Z)(e,"message")||w._('There was an issue posting your comment.', 'comment.post.errorMessage', 'error message for posting comment in toast'),type:"error"})),!1}return h(!1),!0}}}},940784:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(545007),a=i(921506),l=i(617100);function r(e){let t=(0,n.I0)(),{toggleAggregatedCommentLike:i,toggleAggregatedCommentHelpful:r}=(0,a.nf)();return{toggleCommentLike:(n,a,r)=>()=>{r?t((0,l.wH)({didItDataId:n,isLikedByMe:a,orbacSubjectId:e})):i({aggregatedCommentId:n,isLikedByMe:a,orbacSubjectId:e})},toggleCommentHelpful:(i,n,a)=>()=>{a?t((0,l.YH)({didItDataId:i,isMarkedHelpfulByMe:n,orbacSubjectId:e})):r({aggregatedCommentId:i,isMarkedHelpfulByMe:n,orbacSubjectId:e})}}}},696764:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=e=>e?.url!==void 0},892671:(e,t,i)=>{"use strict";i.d(t,{Q:()=>o,Z:()=>d});var n=i(667294),a=i(219308),l=i(718369),r=i(23084),s=i(174646);function o(e,t){let{setViewContextData:i}=(0,l.A$)(),{requestIdentifier:o}=(0,s.B)(),d=(0,a.Z)(),{viewData:c}=(0,l.SU)();(0,n.useEffect)(()=>{e&&(i({viewType:e.view_type??1,viewParameter:e.view_parameter,viewData:e.view_data?(0,r.Z)(c,e.view_data):c,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:o}))},[t])}function d(e){let{children:t,log:i}=e;return o(i),t||null}},19963:(e,t,i)=>{"use strict";i.d(t,{B:()=>o,u:()=>s});var n=i(718369),a=i(218291),l=i(785893);let{Provider:r,get:s}=(0,a.Z)("ContextLogger");function o({children:e,value:t}){let{setViewContextData:i}=(0,n.A$)();return t.injectSetViewContextDataFromHook=i,(0,l.jsx)(r,{value:t,children:e})}},219308:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(19963);let a=()=>(0,n.u)().logContextEvent},906667:(e,t,i)=>{"use strict";i.d(t,{A5:()=>l,ZP:()=>r,kH:()=>n});let n={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",YEAR_SHORT_MONTH_DAY_TIME_TIMEZONE:"year_short_month_day_time_timezone",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit",TWO_DIGIT_YEAR:"two_digit_year",NUMERIC_WITH_TIME:"numeric_with_time",NUMERIC_WITH_TIME_TIMEZONE:"numeric_with_time_timezone"},a=function(e){switch(e){case n.YEAR:return{year:"numeric"};case n.LONG:return{year:"numeric",month:"long",day:"numeric"};case n.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case n.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case n.TWO_DIGIT_YEAR:return{year:"2-digit",month:"2-digit",day:"2-digit"};case n.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case n.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case n.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case n.MONTH_DAY:return{month:"long",day:"numeric"};case n.SHORT_MONTH:return{month:"short"};case n.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case n.DAY:return{day:"numeric"};case n.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case n.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case n.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case n.YEAR_SHORT_MONTH_DAY_TIME_TIMEZONE:return{month:"short",year:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case n.TIME:return{hour:"numeric",minute:"2-digit"};case n.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case n.HOUR:return{hour:"numeric"};case n.NUMERIC_WITH_TIME:return{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit"};case n.NUMERIC_WITH_TIME_TIMEZONE:return{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};default:throw Error('invalid dateFormatType "'+e+'"')}};function l(){return -1!==Intl.DateTimeFormat.toString().indexOf("[native code]")}function r(e,t,i,n=!0,s){let o=a(i);return n?o.timeZone="UTC":s&&(o.timeZone=s),l()||(o.calendar="gregory"),new Intl.DateTimeFormat(e,o).format(t)}},319579:(e,t,i)=>{"use strict";function n(e){let t=Math.round(e/1e3),i=Math.floor(t/60),n=t%60;return i+":"+(n<10?"0":"")+n}i.d(t,{Z:()=>n})},182997:(e,t,i)=>{"use strict";function n(e,t,i){let n,a,l,r=!!i?.leading,s=i?.trailing!==!1,o=i?.maxWait?Math.max(i.maxWait,t):void 0,d=null,c=0;function u(t){let i=n;return n=void 0,c=t,i&&(a=e(...i)),a}function p(e){let i=e-(l??0),n=e-c;return void 0===l||i>=t||i<0||void 0!==o&&n>=o}function m(){let e=Date.now();if(p(e))(d=null,s&&n)?u(e):n=void 0;else d=setTimeout(m,function(e){let i=e-(l??0),n=e-c,a=t-i;return void 0!==o?Math.min(a,o-n):a}(e))}function h(){null!==d&&clearTimeout(d),d=setTimeout(m,t)}function _(...e){let i=Date.now(),s=p(i);if(n=e,l=i,s){if(null===d)return c=i,d=setTimeout(m,t),r?u(i):a;else if(void 0!==o)return h(),u(i)}return null===d&&h(),a}return _.flush=function(){if(null!==d&&n){let e=Date.now();return clearTimeout(d),d=null,u(e)}return a},_.cancel=function(){null!==d&&clearTimeout(d),c=0,n=void 0,l=void 0,d=null},_}i.d(t,{Z:()=>n})},69466:(e,t,i)=>{"use strict";i.d(t,{Bx:()=>a,N4:()=>r,is:()=>s,lt:()=>n,oM:()=>l});let n=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),a=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),l=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),r=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.'),s=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')},80421:(e,t,i)=>{"use strict";i.d(t,{g:()=>r,t:()=>l});var n=i(667294);let a=(0,n.createContext)(null),l=a,r=()=>(0,n.useContext)(a)},95460:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=i(756064).Z},966239:(e,t,i)=>{"use strict";i.d(t,{HI:()=>r,f8:()=>o,hm:()=>s,sH:()=>l});var n=i(20256),a=i(785893);let l=({children:e})=>(0,a.jsx)(n.xu,{bottom:!0,left:!0,padding:4,position:"absolute",right:!0,children:e}),r=({children:e})=>(0,a.jsx)(n.xu,{padding:2,children:e}),s=({children:e})=>(0,a.jsx)(n.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:e}),o=({children:e})=>(0,a.jsx)(n.xu,{left:!0,padding:4,position:"absolute",right:!0,top:!0,children:e})},493936:(e,t,i)=>{"use strict";i.d(t,{Ec:()=>d,IA:()=>g,LX:()=>c,Mf:()=>_,SF:()=>s,_e:()=>o,h_:()=>P,l0:()=>r,ml:()=>l,pQ:()=>v,q4:()=>a,zn:()=>n});let n=e=>["feed_card_default","feed_card_video"].includes(e),a=2/3,l=2/3,r=1/3,s="36px",o="28px",d=.4,c=.65,u={0:"start",1:"center",2:"end"},p={web:{0:"16",1:"20",2:"24",3:"24"},mweb:{0:"12",1:"16",2:"18",3:"20"}},m={1:"italics",0:"normal"},h={1:"bold",0:"normal"},_=({color:e,font_style:t,font_weight:i,horizontal_alignment:n,size:a},l)=>({color:e,fontStyle:m[t??0],fontWeight:h[i??1],horizontalAlignment:u[n??0],fontSize:p[l][a??0]+"px"}),g=e=>e<=280?1.25:e>280&&e<=540?.75:e>540&&e<1024?c:d,y={1:"default",2:"subtle",3:"success",4:"error",5:"warning",6:"inverse",7:"dark",8:"light",9:"shopping"},f=y[8],x={1:"red",2:"gray",3:"transparent",4:"blue",5:"light",6:"dark"},b=x[2],v=e=>{if(e){if(e.button_style&&e.button_style in x)return x[e.button_style]||b;if(e.button_background_color){if("#e60023"===e.button_background_color.toLowerCase())return x[1]||b;else if("#0074e8"===e.button_background_color.toLowerCase())return x[4]||b}}return b},P=(e,t)=>{if(e){if(e.title_text_customization?.color&&(e.title_text_customization.color=e.title_text_customization.color.toLowerCase()),e.title_text_customization?.text_color&&e.title_text_customization?.text_color in y)return y[e.title_text_customization?.text_color]||f;if(e.title_text_customization?.color){if("#111111"===e.title_text_customization.color||"#000000"===e.title_text_customization.color)return y[7]||f;else if("#ffffff"===e.title_text_customization.color)return y[8]||f}}if(t)if("white"===t)return y[8]||f;else return y[7]||f;return f}},611577:(e,t,i)=>{"use strict";i.d(t,{$S:()=>n,V$:()=>a,_4:()=>r,iY:()=>s,mR:()=>l});let n="REFRESH_ALL_EXPERIENCES_MULTI",a="UPDATE_EXPERIENCE_MULTI",l="FETCH_EXPERIENCES",r="REFRESH_ALL_EXPERIENCES",s="UPDATE_EXPERIENCE"},518761:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=e=>{let[t,i]=[e?.width||580,e?.height||400],[n,a]=[window.screen.width,window.screen.height];return`scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=${t},height=${i},left=${Math.round((n-t)/2)},top=${a>i?Math.round((a-i)/2):0}`}},397657:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(578373);function a({url:e,method:t,data:i,ignoreBookmark:a,callOptions:l,headers:r}){let s={url:e,data:i,...null!=a?{ignore_bookmark:a}:{},..."PATCH"===t?{patchInsteadOfPut:!0}:{}},o=n.Z.create("ApiResource",s);switch(t){case"POST":return o.callCreate(l,r);case"PUT":case"PATCH":return o.callUpdate(l,r);case"DELETE":return o.callDelete(l,r);default:return o.callGet(l,r)}}},369464:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(537347),a=i.n(n),l=i(992114);function r(e){if("undefined"==typeof window||!document.head)return(0,l.nP)("load_fonts.failure",{sampleRate:1,tags:{failure_reason:"window undefined"}}),Promise.reject(Error("Window is undefined or no head on the document. Unable to load fonts"));let{head:t}=document,i=[];return e.forEach(e=>{e.styles.forEach(n=>{let l=document.querySelector(`#${e.fontFamily??""}-${n.name}`);l||((l=document.createElement("style")).setAttribute("id",`${e.fontFamily??""}-${n.name}`),t.appendChild(l),e.format&&n.fontUrl&&l&&l.sheet&&l.sheet.insertRule(`
            @font-face {
              font-family: "${e.fontFamily??""}";
              font-style: "${n.fontStyle}";
              font-weight: "${n.fontWeight}";
              src: url("${n.fontUrl}") format("${e.format}");
            }
          `,0),i.push(new(a())(e.fontFamily,{style:n.fontStyle,weight:n.fontWeight}).load()))})}),Promise.all(i).then(()=>{Promise.resolve()}).catch(e=>{(0,l.nP)("load_fonts.failure",{sampleRate:1,tags:{failure_reason:"unsuccessful load"}}),Promise.reject(e)})}},703116:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(785893);let a=({color:e="#111"})=>(0,n.jsx)("svg",{"data-test-id":"conversation-reply",display:"block",fill:"none",height:"12",viewBox:"0 0 12 12",width:"12",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"m0 9.99945c0 .55505.45 1.00005 1.005 1.00005s1.005-.45 1.005-1.00005c0-2.07 1.69-3.755 3.765-3.755h2.4l-1.57 1.565c-.39.39-.39 1.025 0 1.415s1.025.39 1.42 0l3.975-3.965-3.97-3.965c-.39-.389997-1.025-.389997-1.42 0-.39.39-.39 1.025 0 1.415l1.53 1.525h-2.365c-3.185 0-5.775 2.585-5.775 5.765z",fill:e})})},394484:(e,t,i)=>{"use strict";i.d(t,{Z:()=>E});var n=i(20256),a=i(472924),l=i(448528),r=i(954317),s=i(403065),o=i(244552),d=i(972444),c=i(756007),u=i(267789),p=i(252223),m=i(969809),h=i(334932),_=i(569590),g=i(860209),y=i(36806),f=i(955810),x=i(167173),b=i(995236),v=i(822153),P=i(335457),S=i(442967),w=i(255413),k=i(15996),I=i(178193),T=i(600740),A=i(785893);let C={caterpillar:{darkMode:a,lightMode:l},collage:{darkMode:r,lightMode:s},drink:{darkMode:o,lightMode:d},favorite:{darkMode:c,lightMode:u},fish:{darkMode:p,lightMode:m},gumball:{darkMode:h,lightMode:_},messagebottle:{darkMode:g,lightMode:y},palette:{darkMode:f,lightMode:x},pinboard:{darkMode:b,lightMode:v},pinjar:{darkMode:P,lightMode:S},popsicle:{darkMode:w,lightMode:k},sunglasses:{darkMode:I,lightMode:T}},E=({name:e,containerSize:t,illustrationSize:i=195,message:a,description:l,primaryAction:r})=>{let{colorSchemeName:s}=(0,n.tv)();return(0,A.jsx)(n.kC,{direction:"column",height:t,width:t,children:(0,A.jsxs)(n.kC,{alignItems:"center",direction:"column",gap:3,children:[(0,A.jsxs)(n.kC,{alignItems:"center",direction:"column",gap:1,width:"100%",children:[(0,A.jsx)(n.xu,{height:i,width:i,children:(0,A.jsx)(n.Ee,{alt:"",naturalHeight:1,naturalWidth:1,role:"presentation",src:"darkMode"===s?C[e].darkMode:C[e].lightMode})}),a||l?(0,A.jsxs)(n.kC,{direction:"column",children:[(0,A.jsx)(n.X6,{accessibilityLevel:"none",align:"center",size:"400",children:a}),(0,A.jsx)(n.xv,{align:"center",size:"200",children:l})]}):null]}),r??null]})})}},310630:(e,t,i)=>{"use strict";i.d(t,{$P8:()=>b,$rz:()=>g,A6H:()=>x,Bz5:()=>f,CIX:()=>h,KSH:()=>C,Mbi:()=>P,OxT:()=>_,Ufh:()=>v,W6M:()=>l,XqD:()=>c,Y6X:()=>d,_ie:()=>w,bsG:()=>a,d9H:()=>p,gU$:()=>A,iO$:()=>n,iiJ:()=>s,jMQ:()=>k,ltu:()=>r,oVN:()=>S,of3:()=>I,scJ:()=>T,t07:()=>u,te3:()=>y,wZV:()=>o,xKT:()=>m});let n="var(--base-color-pinterest)",a="var(--base-color-grayscale-0)",l="var(--base-color-grayscale-25)",r="var(--base-color-grayscale-50)",s="var(--base-color-grayscale-100)",o="var(--base-color-grayscale-150)",d="var(--base-color-grayscale-200)",c="var(--base-color-grayscale-250)",u="var(--base-color-grayscale-350)",p="var(--base-color-grayscale-400)",m="var(--base-color-grayscale-500)",h="var(--base-color-red-100)",_="var(--base-color-red-200)",g="var(--base-color-red-300)",y="var(--base-color-red-400)",f="var(--base-color-red-500)",x="var(--base-color-purple-100)",b="var(--base-color-purple-200)",v="var(--base-color-purple-400)",P="var(--base-color-blue-100)",S="var(--base-color-blue-400)",w="var(--base-color-blue-500)",k="var(--base-color-green-500)",I="var(--base-color-orange-100)",T="var(--base-font-size-16)",A="var(--base-font-family-default-latin)",C="var(--base-font-family-code)"},999637:(e,t,i)=>{"use strict";i.d(t,{Z:()=>S});var n=i(667294),a=i(693967),l=i.n(a),r=i(20256);function s(e,t){return Math.max(0,((t<=0?0:Math.ceil(e/t))-1)*t)}function o(e,t,i){return i<=1?Math.max(0,Math.min(e,t-1)):Math.min(Math.max(0,Math.floor(e/i)*i),s(t,i))}var d=i(233846),c=i(785893);let u="12px";function p({currentIndex:e=0,itemCount:t,itemHeight:i,itemsPerPage:a,onIndexChange:l,showNavigationArrows:p=!1}){let m=(0,n.useRef)(null),h=(0,d.ZP)(),_=(0,n.useCallback)(()=>{if(a&&a>1){let i=Math.max(0,o(e,t,a)-a);l?.(i)}else{let t=Math.max(0,e-1);l?.(t)}},[e,t,a,l]),g=(0,n.useCallback)(()=>{if(a&&a>1){let i=o(e,t,a),n=Math.min(s(t,a),i+a);l?.(n)}else{let i=Math.min(t-1,e+1);l?.(i)}},[e,t,a,l]),{showPrevious:y,showNext:f}=(()=>{if(!p)return{showPrevious:!1,showNext:!1};if(a&&a>1){let i=o(e,t,a);return{showPrevious:i>0,showNext:i<s(t,a)}}return{showPrevious:e>0,showNext:e<t-1}})(),x=i?`${i/2-18}px`:"50%";return(0,c.jsxs)(r.xu,{ref:m,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},left:!0,position:"absolute",right:!0,top:!0,zIndex:new r.Ry(10),children:[(0,c.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{left:u,marginBlockStart:x,pointerEvents:"auto"}},opacity:+!!y,position:"absolute",children:(0,c.jsx)(r.hU,{accessibilityLabel:h._('View Previous', 'CarouselOverlay.scrollButton.viewPrevious', 'Accessibility label for button to navigate to the previous item in the carousel'),bgColor:"white",icon:"arrow-back",onClick:_,size:"md"})}),(0,c.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{right:u,marginBlockStart:x,pointerEvents:"auto"}},opacity:+!!f,position:"absolute",children:(0,c.jsx)(r.hU,{accessibilityLabel:h._('View Next', 'CarouselOverlay.scrollButton.viewNext', 'Accessibility label for button to navigate to the next item in the carousel'),bgColor:"white",icon:"arrow-forward",onClick:g,size:"md"})})]})}var m=i(174646);let h=function({mode:e,showNavigationButtons:t=!1,showScrollMarkers:i=!1}){let{userAgent:{browserName:n,browserVersion:a}}=(0,m.B)(),l="Chrome"===n&&Number(a.split(".")[0])>=135;return"multi"===e?{enableCssScrollButtons:!1,enableCssScrollMarkers:!1,enableFallbackScrollButtons:t,enableFallbackScrollMarkers:i}:l?{enableCssScrollButtons:t,enableCssScrollMarkers:i,enableFallbackScrollButtons:!1,enableFallbackScrollMarkers:!1}:{enableCssScrollButtons:!1,enableCssScrollMarkers:!1,enableFallbackScrollButtons:t,enableFallbackScrollMarkers:i}};var _=i(755090),g=i(992114),y=i(247854);function f({index:e,isActive:t,onClick:i,label:n}){return(0,c.jsx)(r.xu,{height:8,width:8,children:(0,c.jsx)(r.iP,{accessibilityLabel:n||`Navigate to slide ${e+1}`,onTap:()=>i(e),rounding:"circle",children:(0,c.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:t?y.etl:y.zsO,transition:"background-color 0.2s ease"}},height:8,rounding:"circle",width:8})})},e)}function x({currentIndex:e,itemCount:t,itemLabels:i,itemsPerPage:a,mode:l,onNavigateToIndex:s}){let{enableCssScrollMarkers:d,enableFallbackScrollMarkers:u}=h({showScrollMarkers:!0,mode:l}),p=a?o(e,t,a):e,m=(0,n.useCallback)(e=>{s(e)},[s]),_=a?Math.ceil(t/a):t,g=a?a<=1?Math.max(0,Math.min(p,t-1)):Math.floor(o(p,t,a)/a):p;return _<=1?null:(0,c.jsx)(r.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:4,children:(0,c.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{display:"grid",gridAutoColumns:"1rem",gridAutoFlow:"column",placeItems:"center"}},width:"fit-content",children:[d&&(0,c.jsx)(r.xu,{minHeight:8}),u&&[...Array(_).keys()].map(e=>{let t=a?e*a:e;return(0,c.jsx)(f,{index:t,isActive:e===g,label:i?.[t],onClick:m},e)})]})})}let b=e=>`
  --scroll-button-size: 36px;
  --scroll-button-offset: 1rem;

  &::scroll-button(*) {
    opacity: 0;
    pointer-events: auto;
    position: absolute;
    position-anchor: --${e};
    background-color: ${y.Wmm};
    border: none;
    border-radius: 12px;
    cursor: pointer;
    display: inline-block;
    margin-block-start: calc(var(--carousel-item-height) / 2 - var(--scroll-button-size) / 2);
    height: var(--scroll-button-size);
    line-height: 0;
    vertical-align: middle;
    width: var(--scroll-button-size);
  }

  /* Show scroll buttons when hovering on the parent <ul>. */
  &:hover::scroll-button(*) {
    opacity: 1;
  }


  &::scroll-button(inline-end) {
    content: url("data:image/svg+xml,%3Csvg aria-hidden='true' role='img' viewBox='0 0 24 24' width='16' height='16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.7.3 20.42 12 8.71 23.7l-1.42-1.4L17.6 12 7.29 1.7z' /%3E%3C/svg%3E");
    right: anchor(--${e} right);
    margin-inline-end: var(--scroll-button-offset);
    top: anchor(--${e} start);
  }

  &::scroll-button(inline-start) {
    content: url("data:image/svg+xml,%3Csvg aria-hidden='true' role='img' viewBox='0%200%2024%2024' width='16' height='16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m6.41%2012%2010.3-10.3L15.29.3%203.6%2012l11.7%2011.7%201.42-1.4z'/%3E%3C/svg%3E");
    left: anchor(--${e} left);
    margin-inline-start: var(--scroll-button-offset);
    top: anchor(--${e} start);
  }

  /* CSS specificity order matters: hover/focus  active  disabled (most specific last) */
  &::scroll-button(*):is(:hover, :focus-visible) {
    background-color: ${y.KtD};
    opacity: 1;
  }

  &::scroll-button(*):active {
    background-color: ${y.hWn};
    transform: scale(0.90);
  }

  &::scroll-button(*):disabled {
    background-color: ${y.ilB};
    opacity: 0;
    cursor: not-allowed;
    interactivity: inert;
  }

`,v=(e,t="multi",i=1)=>{let n="multi"===t;return`
  scroll-marker-group: after;

  &::scroll-marker-group {
    display: grid;
    grid-auto-columns: 1rem;
    grid-auto-flow: column;
    justify-content: center;
    margin-block-start: ${n?"16px":"-1.25rem"};
    position-anchor: --${e};
    position-area: bottom;
    ${n?"position: fixed; align-items: center;":"scroll-snap-type: y mandatory;"}
    transition: all 150ms ease-out;
    @media (prefers-reduced-motion: no-preference) {
      scroll-behavior: smooth;
    }
  }

  > li:nth-child(${i}n + 1)::scroll-marker {
    aspect-ratio: 1;
    border-radius: 50% ;
    background: ${n?y.zsO:"rgba(255, 255, 255, 0.6)"};
    content: ' ';
    width: 50%;
    box-shadow: ${n?"none":"0 1px 0px rgba(0, 0, 0, 0.1)"};
    animation-timeline: view(x);
    interactivity: auto;
    transition: all 150ms ease-out;
    place-self: center;
  }

  > li:nth-child(${i}n + 1)::scroll-marker:target-current {
    background: ${n?y.etl:y.Wmm};
  }
`};var P=i(970601);function S({mode:e,itemHeight:t,items:i,itemWidth:a,onIndexChange:s,renderItem:o,selectedIndex:d,showScrollMarkers:u,showNavigationButtons:m}){let{enableCssScrollMarkers:y,enableCssScrollButtons:f,enableFallbackScrollMarkers:S,enableFallbackScrollButtons:w}=h({mode:e,showScrollMarkers:u,showNavigationButtons:m}),[k,I]=(0,n.useState)(0),T=(0,n.useRef)(null),A=(e=>{let[t,i]=(0,n.useState)(1),a=(0,n.useRef)(null);return(0,_.Z)(()=>{let t=null;if(e.current){let n=()=>{a.current&&cancelAnimationFrame(a.current),a.current=requestAnimationFrame(()=>{(()=>{let t=e.current;if(t){let e=t.offsetWidth,n=t.querySelector("li");if(n){let t=n.offsetWidth;if(t>0&&e>0){let n=Math.max(1,Math.floor((e-32+8)/(t+8)));i(e=>e!==n?n:e)}}}})(),a.current=null})};n(),(t=new ResizeObserver(n)).observe(e.current)}return()=>{a.current&&cancelAnimationFrame(a.current),t&&t.disconnect()}}),t})(T),C=(0,r.JZ)(),{isInteractive:E,onKeyboardFocus:j,onKeyboardBlur:R,onMouseOver:L,onMouseOut:F}=function(){let[e,t]=(0,n.useState)(!1),[i,a]=(0,n.useState)(!1),l=(0,n.useCallback)(e=>{e.target.matches(":focus-visible")&&t(!0)},[]),r=(0,n.useCallback)(()=>{t(!1)},[]);return{keyboardFocused:e,hovered:i,isInteractive:e||i,onKeyboardFocus:l,onKeyboardBlur:r,onMouseOver:(0,n.useCallback)(()=>{a(!0)},[]),onMouseOut:(0,n.useCallback)(()=>{a(!1)},[])}}(),{setNavigationIntent:D}=function({scrollerRef:e,itemsLength:t,itemsPerPage:i,mode:a,focusedIndex:l,setFocusedIndex:r,onIndexChange:s}){let o=(0,n.useRef)([]),d=(0,n.useRef)(null),c=(0,n.useRef)(!0),u=(0,n.useRef)(null),p=(0,n.useRef)(-1),m=(0,n.useRef)(0),h=(0,n.useRef)(0),_=(0,n.useRef)(null),y=(0,n.useCallback)(e=>{let{direction:t}=getComputedStyle(e),{scrollLeft:i,scrollWidth:n,clientWidth:a}=e;return"rtl"!==t?i:i<0?-i:n-a-i},[]),f=(0,n.useCallback)(()=>{let t=e.current;if(!t||!o.current.length)return;let n=u.current,d=t.children.length;if(c.current||!n||n.scrollWidth!==t.scrollWidth||n.clientWidth!==t.clientWidth||n.childrenCount!==d||o.current.length!==d){let e=Array.from(t.children);o.current=e.map(e=>e.offsetLeft+e.offsetWidth/2),u.current={scrollWidth:t.scrollWidth,clientWidth:t.clientWidth,childrenCount:e.length},c.current=!1}let f=y(t),x=t.scrollWidth-t.clientWidth,b=f+t.clientWidth/2,v=o.current,P=0,S=1/0;v.forEach((e,t)=>{let i=Math.abs(e-b);i<S&&(S=i,P=t)});let w=P;if("multi"===a&&i>1){let e=Math.floor(P/i)*i,t=Math.max(0,Math.floor((v.length-1)/i)*i),n=Math.min(e,t),a=m.current;if(a!==n){let e=n>a?1:-1,t=(v[a+(e>0?i-1:0)]+v[n+(e>0?0:Math.min(i-1,v.length-n-1))])/2+e*(b>v[v.length-1]-24||b<v[0]+24?6:24),l=f-h.current;(!(e>0?b>=t:b<=t)||e>0&&l<-.5||e<0&&l>.5)&&(n=a)}(f/x>.98||x-f<=8)&&(n=t),m.current=w=n}let k=performance.now(),I=_.current,T=I&&k-I.timestamp<500;w===l||T||(p.current!==w&&((0,g.nP)("closeup.dweb.css_carousel.enabled.carousel_index_change",{sampleRate:1}),p.current=w),r(w),s?.(w)),I&&(w===I.targetIndex||k-I.timestamp>500)&&(_.current=null),h.current=f},[l,i,a,s,e,r,y]),x=(0,n.useCallback)(()=>{let e=performance.now(),t=_.current;t&&e-t.timestamp<500||(d.current&&cancelAnimationFrame(d.current),d.current=requestAnimationFrame(()=>{d.current=null,f()}))},[f]),b=(0,n.useCallback)(()=>{c.current=!0,x()},[x]);return(0,n.useLayoutEffect)(()=>{let t=e.current;if(!t)return;let i=Array.from(t.children);o.current=i.map(e=>e.offsetLeft+e.offsetWidth/2),u.current={scrollWidth:t.scrollWidth,clientWidth:t.clientWidth,childrenCount:i.length},c.current=!1;let n="undefined"!=typeof ResizeObserver?new ResizeObserver(b):null,a=new MutationObserver(b);return n&&n.observe(t),a.observe(t,{childList:!0}),t.addEventListener("scroll",x,{passive:!0}),window.addEventListener("resize",b),()=>{t.removeEventListener("scroll",x),window.removeEventListener("resize",b),a.disconnect(),n&&n.disconnect(),d.current&&(cancelAnimationFrame(d.current),d.current=null)}},[x,b,e]),(0,n.useLayoutEffect)(()=>{c.current=!0,x()},[t,i,x]),{setNavigationIntent:(0,n.useCallback)(e=>{_.current={targetIndex:e,timestamp:performance.now()}},[])}}({scrollerRef:T,itemsLength:i.length,itemsPerPage:A,mode:e,focusedIndex:k,setFocusedIndex:I,onIndexChange:s}),O=(0,n.useCallback)(e=>{let t=T.current;if(!t)return;let i=Array.from(t.children),n=Math.max(0,Math.min(e,i.length-1)),a=i[n];if(a&&"number"==typeof a.offsetLeft){let e=parseInt(getComputedStyle(t).paddingInlineStart,10)||0;t.scrollTo({left:a.offsetLeft-e,behavior:C?"auto":"smooth"})}},[C]),M=(0,n.useCallback)(e=>{D(e),O(e),I(e),s?.(e)},[s,O,D]);(0,n.useLayoutEffect)(()=>{void 0!==d&&d!==k&&i.length&&M(d)},[d,k,M,i.length]);let Z=(0,n.useCallback)(e=>()=>I(e),[]),z=(0,n.useCallback)(()=>I(-1),[]),N="single"===e,K=`carousel--mode-${e}`,B=N?`
  .${K} {
    anchor-name: --${K};
    container-type: inline-size scroll-state;
    counter-reset: item;
    display: grid;
    grid-auto-flow: column;
    grid-auto-columns: 100%;
    height: 100%;
    list-style-type: none;
    overscroll-behavior-x: contain;
    overflow-x: auto;
    scroll-behavior: smooth;
    scroll-snap-type: x mandatory;
    scrollbar-width: none;

    @media (hover) {
      &:not(:hover,
      :focus-within)::scroll-button(*) {
        opacity: 0;
      }
    }

    > li {
      container-type: scroll-state;
      scroll-snap-align: center;
      scroll-snap-stop: always;
      width: 100%;
      height: 100%;
      overflow: hidden;

      & img {
        height: 100%;
        width: 100%;
      }
    }

    &.scroll-markers {
      ${v(K,"single")}
    }

    &.scroll-buttons {
      ${b(K)}
    }
  }
`:`
  .${K} {
    --carousel-edge-padding: 16px;
    anchor-name: --${K};
    container-type: inline-size;
    counter-reset: item;
    display: grid;
    gap: 0.5rem;
    grid-auto-flow: column;
    grid-auto-columns: var(--carousel-item-width, min-content);
    list-style-type: none;
    margin-inline: auto;
    overscroll-behavior-x: contain;
    overflow-y: hidden;
    overflow-x: auto;
    padding-inline: var(--carousel-edge-padding);
    scroll-padding-inline-start: var(--carousel-edge-padding);
    scroll-padding-inline-end: var(--carousel-edge-padding);
    scroll-snap-type: x mandatory;
    scrollbar-width: none;

    @media (prefers-reduced-motion: no-preference) {
      scroll-behavior: smooth;
    }

    >li {
      block-size: auto;
      width: var(--carousel-item-width, auto);
      overflow: visible;
      display: flex;
      flex-direction: column;
      container-type: scroll-state;
      scroll-snap-align: start;
    }

    &.scroll-markers {
      ${v(K,"multi",A)}
    }

    &.scroll-buttons {
      ${b(K)}
    }

    /* Ensure page boundaries are mandatory stops so native buttons can't skip a page */
    > li:nth-child(${A}n + 1) {
      scroll-snap-stop: always;
    }
  } `,U={...t&&{"--carousel-item-height":`${t}px`},...a&&{"--carousel-item-width":`${a}px`}},V=l()(K,{"scroll-markers":y,"scroll-buttons":f});return(0,c.jsxs)(r.xu,{height:"100%",onBlur:R,onFocus:j,onMouseOut:F,onMouseOver:L,width:"100%",children:[(0,c.jsx)(P.Z,{unsafeCSS:B}),w&&(0,c.jsx)(p,{currentIndex:k,itemCount:i.length,itemHeight:t,itemsPerPage:A,onIndexChange:M,showNavigationArrows:E}),(0,c.jsx)("ul",{ref:T,className:V,style:U,children:i.map((e,t)=>(0,c.jsx)("li",{children:o({item:e,index:t,isFocused:k===t,onFocus:Z(t),onUnfocus:z})},e?.id??e?.entityId??t))}),(y||S)&&(0,c.jsx)(x,{currentIndex:k,itemCount:i.length,itemsPerPage:A,mode:e,onNavigateToIndex:M})]})}},852015:(e,t,i)=>{"use strict";i.d(t,{ZP:()=>o,bN:()=>r,p4:()=>s});var n=i(538645),a=i(757653),l=i(785893);let r=(0,a.Z)(()=>i.e(51879).then(i.bind(i,937984)),{ssr:!1},e=>937984,"DesktopModal"),s=(0,a.Z)(()=>i.e(72430).then(i.bind(i,699644)),{ssr:!1},e=>699644,"MobileModal");function o(e){let t=(0,n.ZP)(),i=void 0===e.isOpen||e.isOpen;if("desktop"===t&&i){let{isOpen:t,mobileAccessibilityCloseIconLabel:i,mobileAllowScroll:n,mobileHeadingSize:a,mobileHideCloseIcon:s,mobileIsFullscreen:o,mobileIsSlideUp:d,mobileTopOffset:c,type:u,mobileIsFooter:p,zIndex:m,...h}=e;return(0,l.jsx)(r,{...h})}let{allowMediaPlay:a,allowScroll:o,role:d,size:c,_dangerouslyDisableScrollBoundaryContainer:u,layerZIndex:p,...m}=e;return(0,l.jsx)(s,{...m,isOpen:i})}},231333:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var n=i(667294),a=i(20256),l=i(896252),r=i(538645),s=i(755090),o=i(785893);function d({_dangerouslySetThumbnail:e,_dangerouslySetPrimaryAction:t,text:i,primaryAction:d,dismissButton:c,helperLink:u,thumbnail:p,type:m,dataTestId:h,duration:_=2e3,onHide:g,href:y,onClick:f,openNewPage:x,imageUrl:b}){let v,P=(0,r.ZP)(),[S,w]=(0,n.useState)(!1),[k,I]=(0,n.useState)(!1),T=(0,n.useRef)(void 0),A=()=>{w(!0),T.current=setTimeout(g,l.Vg)},C=()=>{T.current=setTimeout(A,_)},E=()=>{T.current&&clearTimeout(T.current)};(0,s.Z)(()=>(setTimeout(()=>I(!0),100),C(),E)),b&&(v={image:(0,o.jsx)(a.Ee,{alt:"string"==typeof i?i:`${i[0]} ${i[1]}`,fit:"cover",naturalHeight:1,naturalWidth:1,src:b})});let j=(0,o.jsx)(a.FN,{_dangerouslySetPrimaryAction:t,_dangerouslySetThumbnail:e,dismissButton:c,helperLink:u,primaryAction:d,text:i,thumbnail:v??p,type:m}),{marginTop:R,opacity:L,pointerEvents:F,position:D,transform:O,transition:M,visibility:Z}=(0,l.ZP)({deviceType:P,hiding:S,visible:k});return(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transform:O,transition:M,visibility:Z,pointerEvents:F}},"data-test-id":h??"toast",display:"flex",marginTop:R,onMouseEnter:E,onMouseLeave:C,opacity:L,position:D,children:y?(0,o.jsx)(a.Tg,{href:y,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{y.startsWith("#")&&(e.preventDefault(),t()),f?.(e)},rounding:"pill",target:x?"blank":null,children:j}):j})}},896252:(e,t,i)=>{"use strict";i.d(t,{Vg:()=>n,ZP:()=>a});let n=200,a=({deviceType:e,hiding:t,visible:i})=>{let n="desktop"===e,a=0,l=n?"translateY(200px)":"translateY(-200px)",r="opacity 0.1s ease-in-out",s="hidden";return i&&!t&&(a=1,l="translateY(0)",r="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",s="visible"),i&&t&&(l="scale(1.1)",r="opacity transform 0.2s"),{opacity:a,pointerEvents:"auto",position:"relative",marginTop:10*!!n,transform:l,transition:r,visibility:s}}},971518:(e,t,i)=>{"use strict";i.d(t,{qE:()=>r,u_:()=>s.ZP,FN:()=>o.Z});var n=i(20256),a=i(785893);function l({accessibilityLabel:e,color:t,name:i,outline:l,size:r,src:s,verified:o}){return(0,a.jsx)(n.qE,{accessibilityLabel:e,color:t,name:i,outline:l,size:r,src:s?.includes("images/user/default")&&i?void 0:s,verified:o})}l.displayName="Avatar";let r=l;var s=i(852015),o=i(231333)},331247:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(174646);let a=()=>{let e="default",{locale:t}=(0,n.B)();return(({"ar-SA":"tall","bn-IN":"tall","hi-IN":"tall","te-IN":"tall","ko-KR":"ck","zh-CN":"ck","zh-TW":"ck",ja:"ja","th-TH":"th","vi-VN":"vi"})[t]??e)===e?"compact":"none"}},297934:(e,t,i)=>{"use strict";i.d(t,{$:()=>n,Z:()=>l});let{Provider:n,get:a}=(0,i(218291).Z)("viewer"),l=a},380222:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(167912),a=i(244311),l=i(989043),r=i(667294),s=i(316886);let o=function({strategy:e,query:t,variables:i,options:o,useGetLegacyResource:d,useGetLegacyPaginatedResource:c,useGetLegacyData:u}){let p;if("GRAPHQL"===e){let e=(0,a.getRequest)(t);return(0,n.useLazyLoadQuery)(e,i,o)}if(null!=d&&null!=c&&null!=u)throw Error(`Only pass one of those calls from the list: 
[useGetLegacyResource, useGetLegacyPaginatedResource, useGetLegacyData]
to useLazyLoadQueryOrLegacy`);let{actualVariables:m,refetch:h}=function(e,t){let i=(0,r.useRef)(e),n=(0,r.useRef)(null),[,a]=(0,r.useState)({}),l=(0,s.ZP)(e,i.current)?null==n.current?i.current:n.current:(i.current=e,n.current=null,i.current),o=(0,r.useCallback)(e=>{let i={...l,...e||{}};(0,s.ZP)(l,i)&&t(),n.current=i,a({})},[l,t]);return{actualVariables:l,refetch:o}}(i,()=>{p()});if(null!=u){let e=u(m);if(!e)return null;let{selections:i}=(0,a.getRequest)(t).fragment;return p=()=>{},(0,l.Z)(i,{kind:"LegacyData",singularLegacyData:e,refetchInfo:{refetch:h},paginationInfo:null})}if(null!=d){let e=d(m),{data:i}=e;if(p=e.refresh,null==i)return null;let{selections:n}=(0,a.getRequest)(t).fragment;return(0,l.Z)(n,{kind:"LegacyData",singularLegacyData:i,refetchInfo:{refetch:h},paginationInfo:null})}if(null!=c){let e=c(m),{data:i,isFetching:n,isAtEnd:r,fetchMore:s}=e;if(p=e.refresh,null==i)return null;let{selections:o}=(0,a.getRequest)(t).fragment;return(0,l.Z)(o,{kind:"PaginationLegacyData",paginationLegacyData:i,refetchInfo:{refetch:h},paginationInfo:{isLoadingNext:n,hasNext:!r,loadNext:s}},null)}throw Error("useGetLegacyData or useGetLegacyResource must be provided")}},41086:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(650376),a=i(174646);let l=({currency:e,maximumFractionDigits:t,minimumFractionDigits:i,shortform:l,shortformMaximumFractionDigits:r,formatStyle:s,uplimit:o,value:d})=>(0,n.Z)()((0,a.B)().locale||"en-US",d,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:i,shortform:l,shortform_maximum_fraction_digits:r,style:s,uplimit:o})},650376:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(233846),a=i(121006);let l=(e,t)=>{let i=t||0,n=10**i,a=+(i?e*n:e).toFixed(8),l=Math.floor(a),r=a-l,s=r>.49999999&&r<.50000001?l%2==0?l:l+1:Math.round(a);return i?s/n:s};function r(){let e=(0,n.ZP)();return(t,i,n)=>{let r=0,s=0,o=n&&n.style||void 0,d=n&&n.shortform||!1,c=n&&n.uplimit||void 0,u=n&&n.currency||void 0,p=!!c&&i>=c,m=c&&p?c:i;if("currency"===o){let{minimumFractionDigits:e,maximumFractionDigits:i}=((e,t)=>{if(t){let{minimumFractionDigits:i,maximumFractionDigits:n}=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions();if(void 0!==i&&void 0!==n)return{minimumFractionDigits:i,maximumFractionDigits:n}}return{minimumFractionDigits:2,maximumFractionDigits:2}})(t,u);r=void 0===n||void 0===n.maximum_fraction_digits?i:n.maximum_fraction_digits,s=void 0===n||void 0===n.minimum_fraction_digits?e:n.minimum_fraction_digits}else r=void 0===n||void 0===n.maximum_fraction_digits?0:n.maximum_fraction_digits,s=void 0===n||void 0===n.minimum_fraction_digits?0:n.minimum_fraction_digits;if(d&&m>999&&(r=void 0===n||void 0===n.shortform_maximum_fraction_digits?2:n.shortform_maximum_fraction_digits,s=0),r<s)return String(m);let h=m,_="",g=[{"100m":{value:1e8,localeKey:e._('', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],y=[{b:{value:1e9,localeKey:e._('b', 'Used in number formatting to abbreviate large values in billions.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('m', 'Used in number formatting to abbreviate large values in millions.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Used in number formatting to abbreviate large values in thousands.', 'Abbreviation for one thousand.')}}],f=/^zh|ja|ko/.test(t);if(d&&m>999){let e=f?g:y;for(let t=0;t<e.length;t+=1){let i=Object.keys(e[t])[0],n=e[t][i].value;if(m>=n){h=l(m/n*Math.pow(10,r))/Math.pow(10,r),_=e[t][i].localeKey;break}}}if(null==h)return"";let x=h.toLocaleString([(e=>{try{0..toLocaleString([e])}catch(e){return!1}return!0})(t)&&"ar-SA"!==t?t:"en-US"],(({maximumFractionDigits:e,minimumFractionDigits:t,style:i,currency:n})=>{let a={maximumFractionDigits:e,minimumFractionDigits:t};return i?{...a,style:i,..."currency"===i?{currency:n,currencyDisplay:"symbol"}:{}}:a})({maximumFractionDigits:r,minimumFractionDigits:s,currency:u,style:o}));return _&&_.length>0?(0,a.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:x,numberSuffix:_})+(p?"+":""):x+(p?"+":"")}}},537236:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var n=i(667294),a=i(19963),l=i(297934),r=i(32526),s=i(958659),o=i(785893);function d(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let c=(0,r.Z)()&&(0,r.Z)().debug_impression_log,u={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061}};function p(e){class t extends n.Component{constructor(...e){super(...e),d(this,"currentNs",()=>1e6*Date.now()),d(this,"startTime",0),d(this,"debugPinImpressions",c&&"Pin"===this.props.impressionType&&this.props.viewer.isAuth&&this.props.viewer.isEmployee),d(this,"handleVisibilityChanged",e=>{let{componentType:t,contextLogData:i,impressionAuxFields:n,impressionType:a,loggingId:l,slotIndex:r,viewParameter:s,viewType:o,viewData:d,logContextEvent:c}=this.props;if(e)this.startTime=this.currentNs(),this.debugPinImpressions&&console.log(r+" started timer");else{let e=u[a],p=e.idType,m=this.currentNs(),h={endTime:m,[p]:l,slotIndex:r,time:this.startTime,renderDuration:m-this.startTime,...n};c({event_type:e.eventType,component:t,event_data:{[e.impressionType]:[h]},view_type:o,view_parameter:s,view_data:d,aux_data:{...i}}),this.debugPinImpressions&&console.log(r+" logged for "+(m-this.startTime)/1e9+"s")}})}render(){return(0,o.jsx)(s.Z,{onVisibilityChanged:this.handleVisibilityChanged,...this.props,children:(0,o.jsx)(e,{...this.props})})}}return function(e){let{logContextEvent:i}=(0,a.u)(),n=(0,l.Z)();return(0,o.jsx)(t,{...e,logContextEvent:i,viewer:n})}}},915470:(e,t,i)=>{"use strict";function n(e,t){let i=e.split(t?",":":");return i.length>0?t?i[0]:i[1]:""}i.d(t,{Z:()=>n})},906872:(e,t,i)=>{"use strict";i.d(t,{HM:()=>a,ZP:()=>r,oV:()=>l});var n=i(393383);let a=e=>[n.Mq.SKIN,n.Mq.HAIR,n.Mq.BODY].includes(e),l=e=>{switch(e){case n.Mq.SKIN:return n.ti.SKIN;case n.Mq.HAIR:return n.ti.HAIR;case n.Mq.BODY:return n.ti.BODY;default:return""}};function r(e,t){return e===n.ti.SKIN?t.skin_tone_filter_list.options:t.hair_pattern_filter_list}},51340:(e,t,i)=>{"use strict";function n(e,t,i){return e.split(i).map(e=>{if(e.match(i)){let i=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,i))return t[i]}return e})}i.d(t,{Wc:()=>s,XB:()=>r,bF:()=>d,nk:()=>l});let a=/(\{\{\s*\w+\s*\}\})/g;function l(e,t){return n(e,t,a)}function r({text:e,markers:t,jsxReplacements:i}){let a=["strong","a","em","span"],l=/(\{\{\s*\w+\s*\}\})/g,r=/<\s*(strong|a|em|span)\b[^>]*>.*?<\s*\/\s*\1\s*>/g,s=/<(strong|a|em|span)\s+[^>]*id\s*=\s*["']([^"']+)["'][^>]*>/,o=/<(strong|a|em|span)\b[^>]*>(.*?)<\/\1>/,d=e.match(r)?.map(e=>{let a=e.match(s),r=(a&&a[2])??0,d=e.match(o),c=(d&&d[2])??"",u=t?n(c,t,l):[c];return r&&i&&i[r]?.({innerHtmlStrings:u})});return e.split(r)?.map(e=>a.some(t=>e===t)?d?.shift():t?n(e,t,l):e)}function s(e,t){return n(e,t,a).join("")}let o=/(\{\s*\w+\s*\})/g;function d(e,t){return n(e,t,o)}},131714:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(667294);function a(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class l extends n.Component{constructor(...e){super(...e),a(this,"ref",(0,n.createRef)()),a(this,"observer",null),a(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}render(){return this.props.children(this.ref)}}let r=l},122644:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(397657),a=i(857147);let l=(e=()=>{})=>{let t=(0,a.mB)(window.location.search),{invite_code:i}=t;if(!i)return void e(t);let l=encodeURIComponent(encodeURIComponent(i));(0,n.Z)({url:"/v3/invite_code/attribution/land/",method:"POST",data:{invite_code:l}})}},575481:(e,t,i)=>{"use strict";i.d(t,{J:()=>l,U:()=>_});var n=i(578373),a=i(992114);let l="nic_v4",r=`${l}=1a`,s=`${l}=1b`,o=[r,s],d=["invite_code","invite","board_invite_code","sender"],c=null,u=e=>!!d.find(t=>e.includes(t)),p=e=>{let t;return e.pathname.includes("/pin/")&&!u(e.search)&&(t=e.search,!o.find(e=>t.includes(e)))},m=async e=>{let{resource_response:t}=await n.Z.create("InviteSocialTrackingParamNonInviteResource",{user_id:e}).callCreate();if(!t)return(0,a.nP)(`${l}.social_tracking_pin_non_invite.no_resource_response`),"";{let e=encodeURIComponent(t.data);return(0,a.nP)(`${l}.social_tracking_pin_non_invite.encrypted.${e?"true":"false"}`),e}},h=(e,t,i=!1,n)=>{if(!p(e))return;let o=i?"mweb":"web";if(!t)return void(0,a.nP)(`${o}.${l}.social_tracking_pin_non_invite.insert.no_encrypted_id`);(0,a.nP)(`${o}.${l}.social_tracking_pin_non_invite.insert.attempt`);try{let d=((e,t,i)=>{let n=e.search?"&":"?";return e.pathname+e.search+(n+(i?s:r)+t)})(e,t,i||!1);(0,a.nP)(`${o}.${l}.social_tracking_pin_non_invite.insert.success`),n(d)}catch{(0,a.nP)(`${o}.${l}.social_tracking_pin_non_invite.insert.caught_exception`)}},_=(e,t,i,n,r)=>{let s=i?"mweb":"web";(0,a.nP)(`${s}.${l}.social_tracking_pin_non_invite.attempt`);try{let o;!i&&n&&p(e)?((0,a.nP)(`${s}.${l}.social_tracking_pin_non_invite.search_string_eligible`),((e,t,i=!1,n)=>{c?h(e,c,i,n):(async()=>{let a=await m(t);c=a,h(e,a,i,n)})()})(e,t,i,r)):(o=e.search,!u(o)&&!o.includes("sender")&&o.includes(l)&&(0,a.nP)(`${s}.${l}.social_tracking_pin_non_invite.search_string_land`))}catch{(0,a.nP)(`${s}.${l}.social_tracking_pin_non_invite.caught_exception`)}}},129333:(e,t,i)=>{"use strict";i.d(t,{Rq:()=>n,Vf:()=>a,jd:()=>l,oy:()=>r});let n=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,a=28,l=e=>window.innerHeight>=748&&n(e),r=()=>"undefined"!=typeof window&&!!window.navigator&&(/iPad/.test(navigator.platform)||"MacIntel"===navigator.platform&&"ontouchend"in document&&Math.min(window.screen.width,window.screen.height)>=700)},868841:(e,t,i)=>{"use strict";function n(e){return"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)}i.d(t,{Z:()=>n})},361351:(e,t,i)=>{"use strict";async function n(e){return new Promise((t,i)=>{let n=document.createElement("img");n.onerror=()=>i(Error(`Image failed to load with src ${e}`)),n.onload=()=>t(!0),n.src=e})}async function a(e){try{let t=await fetch(e,{method:"HEAD"}),i=(await t.blob()).type.startsWith("image/");{let t=await n(e);return i&&t}}catch(e){return!1}}i.d(t,{Z:()=>a})},94183:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var n=i(667294),a=i(20256),l=i(484465),r=i(640935),s=i(247854),o=i(94970),d=i(837509),c=i(785893);function u({children:e,footerConfig:t,headerConfig:i,height:u,hideOnScroll:p,hideOnScrollState:{isHidden:m,updateHiddenState:h},isFooterHidden:_,noPadding:g,paddingX:y,paddingY:f=d.og,type:x,zIndex:b}){let v,P,{headerLimitedOverflow:S,ignoreObstructions:w,zIndexForGestaltBug:k}=i||{},{appUpsellFooterConfig:I,footerInLego:T,navFooterConfig:A}=t||{},C=!!I,E="header"===x?"top":"bottom",j=(0,r.vs)(),{mWebCloseupRedesignEnabled:R}=(0,l.Z)(),L=(0,n.useRef)(null),F=(0,n.useRef)(null);(0,n.useEffect)(()=>{try{if(!w){let e=L.current;F.current=S&&e&&Array.isArray(e.children)?e.children[0]:e,F.current instanceof HTMLElement&&o.Z.addObstruction(E,F.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{!w&&F.current instanceof HTMLElement&&o.Z.removeObstruction(E,F.current)}},[w,S,E,j]);let D="top"===E?"relative":"fixed",O=g?0:f,M=(u??d.R$)+(i?.overrideTop||0),Z=p||A?{transition:T||R?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...m||_?{transform:`translateY(${"top"===E?-M:M}px)`,opacity:T||R?0:1}:Object.freeze({})}:{},z=2*!("relative"!==D||i?.noGutter),N=z?-z:0,K=j?r.k7:"rgba(255,255,255,.95)";j&&("header"===x?v=-1:P=-1);let B=T?C?void 0:u??d.R$:"100%",U=T?d.KJ:void 0,V=i?.isTranslucent&&K||j?K:s.Wmm,H=i?.isTransparentBackground&&s.Wyp?s.Wyp:V,G=(0,n.useMemo)(()=>({height:"footer"===x&&R?`calc(${B} + env(safe-area-inset-bottom))`:B,...R&&"footer"===x?{paddingBottom:`calc(env(safe-area-inset-bottom) + ${4*(O||0)}px)`}:Object.freeze({})}),[R,B,x,O]);return(0,c.jsx)(a.xu,{ref:L,bottom:"footer"===x,dangerouslySetInlineStyle:{__style:{top:v,bottomStyle:P,...!b||k?{zIndex:k||1}:Object.freeze({}),...S?{background:"transparent",overflow:"hidden",paddingBottom:d.UB,marginBottom:-d.UB,pointerEvents:"none"}:Object.freeze({}),...i?.hasBorder?{borderBottom:d.dS}:Object.freeze({}),...t?.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...Z}},"data-test-id":x,display:C?"flex":void 0,height:u&&!T?u:void 0,left:!0,marginEnd:T?"auto":N,marginStart:T?"auto":N,onTransitionEnd:()=>{(p||A)&&F.current&&(m||_?o.Z.removeObstruction(E,F.current):o.Z.addObstruction(E,F.current))},position:D,right:!0,top:"header"===x,width:T||"fixed"!==D?void 0:"100%",zIndex:k?void 0:b,children:(0,c.jsx)(a.xu,{alignItems:t?.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:H,...G,boxShadow:R&&"footer"===x?`0 10px 0 0 ${H}, ${d.KJ}`:U,marginBottom:T&&!A?.docked?16:void 0,...S?{pointerEvents:"auto"}:Object.freeze({}),...i?.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},display:T||t?.alignCenter?"flex":void 0,marginEnd:T?"auto":void 0,marginStart:T?"auto":void 0,paddingX:y||4*("footer"===x&&!g)+z,paddingY:O,position:"relative",rounding:T&&!A?.docked?"pill":void 0,width:A?A.footerWidth:C?void 0:"100%",children:"function"==typeof e?e({updateHiddenState:h}):e})})}},902389:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(94183),a=i(890167),l=i(785893);function r({alignCenter:e,appUpsellFooterConfig:t,footerInLego:i,hasTopShadow:r,navFooterConfig:s,...o}){return(0,l.jsx)(a.Z,{appUpsellFooterConfig:t,hideOnScroll:o.hideOnScroll,navFooterConfig:s?.scrollConfig,children:a=>(0,l.jsx)(n.Z,{...o,footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:i,hasTopShadow:r,navFooterConfig:s},hideOnScrollState:a,type:"footer"})})}},540547:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(20256),a=i(837509),l=i(94183),r=i(890167),s=i(785893);function o({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:i,isTranslucent:o,isTransparentBackground:d,noGutter:c,overrideTop:u,useRoundedCorners:p,zIndexForGestaltBug:m,...h}){let{noPadding:_,paddingY:g=a.og,zIndex:y}=h;return(0,s.jsx)(n.Le,{height:t?a.LV+2*(_?0:g)*4:void 0,top:u||0,zIndex:y||void 0,children:(0,s.jsx)(r.Z,{hideOnScroll:h.hideOnScroll,children:n=>(0,s.jsx)(l.Z,{...h,headerConfig:{isTranslucent:o,isTransparentBackground:d,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:i,noGutter:c,overrideTop:u,zIndexForGestaltBug:m,useRoundedCorners:p},hideOnScrollState:n,type:"header"})})})}},890167:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(667294),a=i(169650);function l(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class r extends n.Component{constructor(...e){super(...e),l(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.navFooterConfig?.isDockedNavOnPlp}),l(this,"lastScrollPos",0),l(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),l(this,"handleScroll",(0,a.Z)(()=>{let{appUpsellFooterConfig:e,navFooterConfig:t}=this.props,{isHidden:i}=this.state,n=window.scrollY,a=n-this.lastScrollPos,l="none",{scrollHeight:r,clientHeight:s}=document.documentElement||{};Number.isNaN(r)||Number.isNaN(s)||(l=a<0?n<=Math.abs((window.scrollMinY||0)+Math.max(a,20))?"start":"none":n>=(window.scrollMaxY||r-s)-Math.max(a,20)?"end":"none");let o=55*!t?.isModal;e?a>20&&i&&n>=500?e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),t?.onScroll(!1)):(a<-20&&!i||n<=o)&&(this.updateHiddenState(!0),t?.onScroll(!0)):this.props.navFooterConfig?.isDockedNavOnPlp?"start"===l&&!i||n<=o?(this.updateHiddenState(!0),t?.onScroll(!0)):(n>o||"end"===l)&&i&&(this.updateHiddenState(!1),t?.onScroll(!1)):(a<-20||"start"===l)&&i||n<=o?(this.updateHiddenState(!1),t?.onScroll(!1)):(a>20||"end"===l)&&!i&&(this.updateHiddenState(!0),t?.onScroll(!0)),this.lastScrollPos=n},30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.navFooterConfig?.isDockedNavOnPlp&&this.props.navFooterConfig?.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.navFooterConfig?.isDockedNavOnPlp&&!this.props.navFooterConfig?.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){let{children:e,navFooterConfig:t}=this.props,{isHidden:i}=this.state;return e({isHidden:!t?.forceShow&&i,updateHiddenState:this.updateHiddenState})}}},864339:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=i(20256),a=i(56063),l=i(129333),r=i(237238),s=i(174646),o=i(785893);let d=({children:e,dataLayoutShiftBoundaryId:t,hasFixedHeader:i=!1,hasGutter:d=!0,height:c,showKeychainError:u=!1,useViewport:p=!1})=>{let m=(0,s.B)(),h=(0,l.jd)(m.userAgent.platform)?l.Vf:0;return(0,o.jsx)(n.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:p?`calc(100vh - ${h}px)`:c,paddingX:d?a.D6:void 0,paddingY:i||u?void 0:3,children:(0,o.jsx)(r.C,{value:!!d,children:e})})}},837509:(e,t,i)=>{"use strict";i.d(t,{KJ:()=>s,LV:()=>r,R$:()=>n,UB:()=>l,dS:()=>o,og:()=>a});let n=64,a=3,l=100,r=44,s="0px 0px 8px rgba(0, 0, 0, 0.1)",o="1px solid #efefef"},750065:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(992114);function a(e,t){return new Promise((i,a)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t)if(window.FB)i();else{let t=setInterval(()=>{window.FB||20===e?(clearInterval(t),i()):(e+=1,(0,n.nP)(`mweb.loadScript.facebook.tries_${e}`,{sampleRate:.01}))},100)}else if("GSI"===t)if(window.google)i();else{let t=setInterval(()=>{window.google||20===e?(clearInterval(t),i()):(e+=1,(0,n.nP)(`mweb.loadScript.gsi.tries_${e}`,{sampleRate:.01}))},100)}else i()}else{let t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",()=>i()),t.addEventListener("error",a),document.getElementsByTagName("head")[0].appendChild(t)}})}},890360:(e,t,i)=>{"use strict";i.d(t,{ll:()=>eB,ey:()=>ef,uj:()=>ez,m8:()=>eZ,jG:()=>eM,dt:()=>b,z_:()=>en,R$:()=>eo,bo:()=>ep,oF:()=>ew,bW:()=>f,Lj:()=>F,AX:()=>m,Fy:()=>p,XE:()=>u,am:()=>s,pD:()=>h,OJ:()=>d,LO:()=>ej,Gl:()=>ek,Y8:()=>k,Y_:()=>C,lY:()=>P,N6:()=>E,Ur:()=>w,dK:()=>S,h3:()=>eF,PY:()=>M,QD:()=>L,or:()=>O,z6:()=>R,dm:()=>j,Ni:()=>v,H_:()=>D,Q8:()=>A,Bg:()=>T,mW:()=>I,pV:()=>Q,L6:()=>J,Ig:()=>eK,bb:()=>eL,b0:()=>y,jC:()=>eh,O7:()=>eI,LM:()=>em,q_:()=>Y,OK:()=>$,Ep:()=>X,Mc:()=>eN,mP:()=>Z,hd:()=>z,HV:()=>K,C$:()=>N,dr:()=>ei,mk:()=>eA,gT:()=>et,Fr:()=>ey,XQ:()=>U,Xn:()=>B,e:()=>eO,l4:()=>q,b_:()=>eS,J:()=>o,dZ:()=>c,FO:()=>G,re:()=>H,RU:()=>eT,Ui:()=>_,KY:()=>g,fY:()=>ex,uM:()=>eg,x7:()=>eb,rk:()=>eR,XU:()=>ev,wg:()=>x,En:()=>ee,ej:()=>eE,OX:()=>es,f1:()=>er,E0:()=>eu,gf:()=>W,nU:()=>eD,mY:()=>eC,cY:()=>eP,$Y:()=>ec,Zz:()=>V,$V:()=>ed,j8:()=>e_,Q0:()=>ea,tZ:()=>el});var n=i(616550),a=i(542326);let l=new RegExp(/^\/(?!(?:pin|categories|report|search|password|terms|discover|help|email|topics|explore|pw|login|signup|about|business|source|ideas|today|tv|shopping|videos|age-apeal|oauth)\/)[\w\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\-]+\/(?!(?:following|followers|_tools|_created|_saved|tried))[\w\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\-]+(?=\/|$)/);var r=i(655057);let s=e=>l.test(e.pathname),o=(e,t)=>{let{pathname:i}=e;return s(e)&&i.match(t||"?")},d=e=>{let{pathname:t}=e;return!!(0,n.LX)(t,{path:"/:username/:boardId/:boardSectionId",exact:!0})&&!t.match(/^\/.+\/.+\/(_tools)/i)},c=(e,t)=>{let{pathname:i}=e;return d(e)&&i.match(t||"?")},u=e=>!!(0,n.LX)(e.pathname,{path:"/board/:id/edit",exact:!0}),p=e=>!!(0,n.LX)(e.pathname,{path:"/board/:id/edit/collaborators",exact:!0}),m=e=>!!(0,n.LX)(e.pathname,{path:"/board/:id/edit/add_collaborators",exact:!0}),h=e=>!!(0,n.LX)(e.pathname,{path:"/boardsection/:id/edit",exact:!0}),_=e=>!!(0,n.LX)(e.pathname,{path:"/pin/:id/comments",exact:!0}),g=e=>!!(0,n.LX)(e.pathname,{path:"/pin/:id/edit",exact:!0}),y=e=>!!(0,n.LX)(e.pathname,{path:"/conversation/:id",exact:!0}),f=e=>!!(0,n.LX)(e.pathname,{path:"/appealed-pin/",exact:!0}),x=e=>!!(0,n.LX)(e.pathname,{path:"/reports-and-violations/",exact:!0}),b=e=>e.pathname.startsWith("/age-appeal"),v=e=>e.pathname.startsWith("/business/"),P=e=>!!(0,n.LX)(e.pathname,{path:"/business/business-access/:userBizId/dashboard",exact:!0})||!!(0,n.LX)(e.pathname,{path:"/business/business-manager/:userBizId/dashboard",exact:!0})||!!(0,n.LX)(e.pathname,{path:"/business/business-hierarchy/:businessHierarchyId/dashboard",exact:!0}),S=e=>!!(0,n.LX)(e.pathname,{path:"/business/business-hierarchy/:businessHierarchyId/hierarchy",exact:!0}),w=e=>!!(0,n.LX)(e.pathname,{path:"/business/business-hierarchy/:businessHierarchyId/dashboard",exact:!0}),k=e=>!!(0,n.LX)(e.pathname,{path:"/business/business-access/:userBizId/asset-groups",exact:!0})||!!(0,n.LX)(e.pathname,{path:"/business/business-manager/:userBizId/asset-groups",exact:!0}),I=e=>!!(0,n.LX)(e.pathname,{path:"/business/business-manager/:userBizId/catalogs",exact:!0}),T=e=>!!(0,n.LX)(e.pathname,{path:"/business/catalogs/:userBizId/",exact:!1}),A=e=>!!(0,n.LX)(e.pathname,{path:"/business/business-access/:userBizId/shared-tags",exact:!0})||!!(0,n.LX)(e.pathname,{path:"/business/business-manager/:userBizId/shared-tags",exact:!0}),C=e=>!!(0,n.LX)(e.pathname,{path:"/business/business-access/:userBizId/brand-safety",exact:!0})||!!(0,n.LX)(e.pathname,{path:"/business/business-manager/:userBizId/brand-safety",exact:!0}),E=e=>!!(0,n.LX)(e.pathname,{path:"/business/business-hierarchy/:businessHierarchyId/business_security",exact:!0}),j=e=>!!(0,n.LX)(e.pathname,{path:"/business/business-hierarchy/:businessHierarchyId/managers",exact:!0}),R=e=>!!(0,n.LX)(e.pathname,{path:"/business/business-hierarchy/:businessHierarchyId/"})||!!(0,n.LX)(e.pathname,{path:"/business/business-access/:businessId/"})||!!(0,n.LX)(e.pathname,{path:"/business/business-manager/:businessId/"})||!!(0,n.LX)(e.pathname,"/business/business-manager"),L=e=>!!(0,n.LX)(e.pathname,{path:"/business/business-access/:businessId/invoice-management",exact:!0})||!!(0,n.LX)(e.pathname,{path:"/business/business-manager/:businessId/invoice-management",exact:!0}),F=e=>!!(0,n.LX)(e.pathname,{path:"/business/business-access/:businessId/audiences",exact:!0})||!!(0,n.LX)(e.pathname,{path:"/business/business-manager/:businessId/audiences",exact:!0}),D=e=>!!(0,n.LX)(e.pathname,{path:"/business/business-access/:businessId/security",exact:!0})||!!(0,n.LX)(e.pathname,{path:"/business/business-manager/:businessId/security",exact:!0}),O=e=>!!(0,n.LX)(e.pathname,{path:"/business/business-manager/:businessId/ad-accounts/cee-migration",exact:!0}),M=e=>e.pathname.startsWith("/business/invite/"),Z=e=>!!(0,n.LX)(e.pathname,{path:"/pin/:id/visual-search/",exact:!0}),z=e=>!!(0,n.LX)(e.pathname,{path:"/pin/:id/visual-search/products/",exact:!0}),N=e=>"/"===e.pathname,K=e=>"/"===e.pathname||"/homefeed/"===e.pathname,B=e=>e.pathname.startsWith("/login"),U=e=>e.pathname.startsWith("/invited"),V=e=>!!(0,n.LX)(e.pathname,{path:"/today",exact:!0}),H=e=>e.pathname.startsWith("/password/reset")||!!(0,n.LX)(e.pathname,{path:"/pw/:username",exact:!0}),G=e=>e.pathname.startsWith("/secure/panic"),W=e=>e.pathname.startsWith("/signup"),$=e=>e.pathname.startsWith("/email/subscription"),Y=e=>e.pathname.startsWith("/email/user_survey"),X=e=>e.pathname.startsWith("/email_verification_error"),q=e=>e.pathname.startsWith("/notifications/"),J=e=>!!(0,n.LX)(e.pathname,{path:"/pin/:id",exact:!0}),Q=e=>e.pathname.startsWith("/pin_redirect"),ee=e=>e.pathname.startsWith("/search"),et=e=>!!(0,n.LX)(e.pathname,{path:"/ideas",exact:!0}),ei=e=>!!(0,n.LX)(e.pathname,{path:"/ideas/:interest/:id",exact:!0}),en=e=>et(e)||ei(e),ea=e=>!!(0,n.LX)(e.pathname,{path:"/videos/:category/:id",exact:!0}),el=e=>!!(0,n.LX)(e.pathname,{path:"/videos/",exact:!0}),er=e=>!!(0,n.LX)(e.pathname,{path:"/shopping/",exact:!0}),es=e=>!!(0,n.LX)(e.pathname,{path:"/shopping/:category/:id",exact:!0}),eo=e=>er(e)||es(e),ed=e=>e.pathname.startsWith("/topics"),ec=e=>e.pathname.startsWith("/today/article/")||e.pathname.startsWith("/today/best/")||e.pathname.startsWith("/today/trending/"),eu=e=>e.pathname.startsWith("/today/shop/"),ep=e=>V(e)||ec(e)||e.pathname.startsWith("/today/popular/"),em=e=>/^\/discover\/article\/\S+\/?/i.test(e.pathname),eh=e=>e.pathname.startsWith("/pin/create/"),e_=e=>e.pathname.startsWith("/unauth-profile"),eg=e=>e.pathname.startsWith("/pin/"),ey=e=>"#imgViewer"===e.hash,ef=e=>/invite_code/.test(e.search),ex=e=>!!(0,n.LX)(e.pathname,{path:"/pin/:id",exact:!1})&&(e.pathname.includes("/sent/")||e.pathname.includes("/feedback/")),eb=e=>e.pathname.includes("/repin/x"),ev=e=>!!(0,n.LX)(e.pathname,{path:"/pin/:id/repin"})&&!eb(e),eP=e=>e.pathname.startsWith("/_/storyboard"),eS=e=>e.pathname.startsWith("/oauth"),ew=e=>e.pathname.startsWith("/app-factory-oauth"),ek=e=>e.pathname.startsWith("/business/convert"),eI=e=>e.pathname.startsWith("/pin-editor"),eT=e=>e.pathname.startsWith("/pin-builder"),eA=e=>e.pathname.startsWith("/idea-ads-tool"),eC=e=>e.pathname.startsWith("/story-pin-builder")||e.pathname.startsWith("/idea-pin-builder")||e.pathname.startsWith("/pin-creation-tool")||eA(e),eE=e=>e.pathname.startsWith("/settings"),ej=e=>void 0!==e.pathname&&(e.pathname.startsWith("/business/business-access/")||e.pathname.startsWith("/business/business-manager/"))&&e.pathname.includes("/dashboard/"),eR=e=>void 0!==e.pathname&&e.pathname.startsWith("/tv/studio"),eL=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/commerce-integrations/"),eF=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/hub"),eD=e=>void 0!==e.pathname&&e.pathname.startsWith("/signup/sso-business-account/"),eO=(e,t)=>a.Wr(t,"2025-02-08","mweb_notif_settings_redesign")?e.pathname.startsWith("/settings"):e.pathname.startsWith("/settings")&&!e.pathname.startsWith("/settings/notifications"),eM=e=>void 0!==e.pathname&&!!(0,n.LX)(e.pathname,{path:"/advertiser/:id/ads/edit/",exact:!0}),eZ=e=>void 0!==e.pathname&&!!(0,n.LX)(e.pathname,{path:"/advertiser/:id/ads/edit_draft/",exact:!0}),ez=e=>void 0!==e.pathname&&!!(0,n.LX)(e.pathname,{path:"/advertiser/:id/ads/duplicate/",exact:!0}),eN=e=>void 0!==e.pathname&&!!(0,n.LX)(e.pathname,{path:"/advertiser/:id/ads/bulk_edit/",exact:!0}),eK=e=>!!(0,n.LX)(e.pathname,{path:"/collage-creation-tool/",exact:!0}),eB=({url:e="",state:t=null}={})=>{let i=(0,r.Z)(e);return{pathname:i.path,search:i.query,hash:i.anchor,state:t}}},348332:(e,t,i)=>{"use strict";i.d(t,{AS:()=>d,Ps:()=>l,Q6:()=>m,ZP:()=>c,le:()=>h,qe:()=>u,yU:()=>p});var n=i(316886),a=i(136388);let l=(e,t)=>e.length===t.length&&e.every((e,i)=>(0,a.Z)(e,t[i])),r=(e,t)=>e.length===t.length&&e.every((e,i)=>e===t[i]),s=e=>e;function o(e,t=r,i=s){return function(n){let a=[];return function(...l){let r=a.find(e=>t(e.args,i(l)));if(r)return r.result;let s=n(...l);return a.push({args:i(l),result:s}),e&&a.length>e&&a.shift(),s}}}function d(e,t=r,i=s){let n=[];return{memoize:function(a){return function(...l){let r=i(l),s=n.find(e=>t(e.args,r));if(s)return s.result;let o=a(...l);return n.push({args:r,result:o}),e&&n.length>e&&n.shift(),o}},clearCache:function(){n=[]}}}let c=o(),u=o(1),p=o(void 0,r,e=>[JSON.stringify(e)]),m=o(0,l),h=o(0,(e,t)=>e.length===t.length&&e.every((e,i)=>(0,n.ZP)(e,t[i])))},542326:(e,t,i)=>{"use strict";i.d(t,{Wr:()=>l});var n=i(992114);let a=(e,t)=>{switch(t){case 2025:return e.checkExperiment("notifications_holdout_2025").group;case 2026:return e.checkExperiment("notifications_holdout_2026").group;case 2027:return e.checkExperiment("notifications_holdout_2027").group;case 2028:return e.checkExperiment("notifications_holdout_2028").group;default:return""}},l=(e,t,i)=>{let l=new Date(Date.parse(t)),r=l.getFullYear(),s=l.getMonth()+1,o=s<7?"h1":"h2",d=new Date(Date.now()),c=d.getMonth()+1,u=d.getFullYear(),p=u-1,m=`notifications_holdout_${p}`,h=`notifications_holdout_${u}`;if(r<p||r===p&&c>=2||r===p&&s<=6)return(0,n.nP)("in_notifications_older_holdout_group",{sampleRate:1,tags:{source:i}}),!1;let _=a(e,u)||"",g=a(e,p)||"";if(""!==_&&(0,n.nP)("in_notifications_holdout_group.info",{sampleRate:1,tags:{exp_name:h,exp_group:_,source:i}}),""!==g&&(0,n.nP)("in_notifications_holdout_group.info",{sampleRate:1,tags:{exp_name:m,exp_group:g,source:i}}),1===c||7===c){if(1===c){if(r===p&&"h2"===o)return g.startsWith(`holdout_${o}`);if(r===u&&1===s&&(g.startsWith("holdout_h2")||g.startsWith("production_h2")))return!0}if(7===c){if(r===u&&"h1"===o)return _.startsWith(`holdout_${o}`);if(r===u&&7===s&&(_.startsWith("holdout_h1")||_.startsWith("production_h1")))return!0}}return!!(c>=1&&c<=6&&_.includes("h1")||c>=7&&c<=12&&_.includes("h2"))&&_.startsWith(`holdout_${o}`)}},254447:(e,t,i)=>{"use strict";i.d(t,{T:()=>n,Z:()=>l});let{Provider:n,get:a}=(0,i(218291).Z)("NotificationContext"),l=a},23084:(e,t,i)=>{"use strict";i.d(t,{Z:()=>function e(t,i,n=()=>void 0){let a=n(t,i);return void 0!==a?a:void 0===i?t:Array.isArray(t)&&Array.isArray(i)?i.reduce((t,a,l)=>(t[l]=e(t[l],i[l],n),t),[...t]):t&&"object"==typeof t&&i&&"object"==typeof i?Object.keys(i).reduce((t,a)=>(t[a]=e(t[a],i[a],n),t),{...t}):i}})},348240:(e,t,i)=>{"use strict";i.d(t,{G7:()=>r,Nl:()=>o,WE:()=>l,l6:()=>s});var n=i(906667),a=i(121006);function l(e,t,i,n,a,l){return e.isAuth&&!!t&&(i||n)&&!!a?.isLoaded&&!l}function r(e,t){return(0,a.Z)(t.ngettext('Last {{ count }} Day', 'Last {{ count }} Days', e, 'Previous {{ count }} days from current date', 'Previous {{ count }} days from current date'),{count:e})}function s(e,t){return(0,a.Z)(t.ngettext('Last {{ count }} Hour', 'Last {{ count }} Hours', e, 'analytics.utils', 'Previous {{ count }} hours from current time'),{count:e})}function o({i18n:e,isRealtime:t,humanizedTimeSinceLastUpdate:i,displayLifetime:l,numDays:r,selectedDateRange:s,locale:o}){let d=[];if(r){let t=l?(0,a.Z)(e.ngettext('Percent changes are compared to {{n}} day before {{startDate}} \u2013 {{endDate}}.', 'Percent changes are compared to {{n}} days before {{startDate}} \u2013 {{endDate}}.', r, 'pinstats.toplineMetrics.description', 'Label describing how deltas are calculated and when performance over time metrics are updated'),{n:r,startDate:(0,n.ZP)(o,s.startDate,n.kH.NUMERIC),endDate:(0,n.ZP)(o,s.endDate,n.kH.NUMERIC)}):(0,a.Z)(e.ngettext('Percent changes are compared to {{n}} day before the selected date range.', 'Percent changes are compared to {{n}} days before the selected date range.', r, 'pinstats.toplineMetrics.description', 'Label describing how deltas are calculated and when performance over time metrics are updated'),{n:r});d.push(t)}return t?d.push(e._('Metrics are updated in real-time.', 'pinstats.PinnerToplineMetrics.description', 'Label describing when lifetime of pin metrics are updated')):i&&d.push((0,a.Z)(e._('Metrics updated {{ timeSince }}.', 'analytics.header.disclaimer.metricsUpdated', 'Disclaimer describing when data was last updated. timeSince: time period since last update (ex: 1 day)'),{timeSince:i})),d.join(" ")}},819362:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r}),i(422578);var n,a=i(69401),l=i(78039);function r(e,t,r){let s=(0,l.Z)((void 0!==n||(n=i(126517)).hash&&"977a37f1bef6ecfbe279db65075e1520"!==n.hash&&console.error("The definition of 'usePinAnalyticsStatus_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),e);if(!t.isAuth||!t.isPartner||null==s)return!1;let{creatorAnalytics:o}=s,d=!!s.storyPinDataId,c=!!s.videos?.videoList,u=!(d||c)&&0!==Object.keys(s.aggregatedPinData?.creatorAnalytics?._30dRealtime||{}).length,p=s.board?.privacy===a.ZP.BoardPrivacy.PUBLIC,m=(s.board?.privacy===a.ZP.BoardPrivacy.PROTECTED||p)&&!s.isRepin&&[t.id,r].includes(s.pinner?.entityId??"");return u||0!==Object.keys(o?._30dRealtime||{}).length||t.isPartner&&m||d&&m}},469422:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(992114);let a=e=>{let t=new Image;t.loading="lazy",t.src=e;let{complete:i}=t;return t.src="",i},l=["736x","564x","474x","236x"],r=new RegExp(/\/(\d+x|originals)\//);function s(e){for(let t of l){let i=e.replace(r,`/${t}/`);if(a(i))return(0,n.nP)("web.closeup.cached_preview_image.found",{tags:{resolution:t}}),i}return(0,n.nP)("web.closeup.cached_preview_image.not_found"),null}},204763:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a,f:()=>n});let n=e=>{let{h:t,m:i}=e||{},n={hours:t||0,minutes:i||0};return void 0!==t||void 0!==i?{h:t,m:i,time:n,isoDuration:function({hours:e,minutes:t}){return`PT${e}H${t}`}(n)}:null},a=e=>{if(!e)return null;let{richMetadata:t}=e,{recipe:i}=t;return i&&i.name?{...e,recipe:{name:i.name,categorizedIngredients:i.categorized_ingredients,diets:i.diets,fromAggregatedData:i.from_aggregated_data,prepTime:n(i.cook_times?.prep),cookTime:n(i.cook_times?.cook),totalTime:n(i.cook_times?.total),servingSummary:i.servings_summary?.summary,serves:i.servings_summary?.serves,instructions:i.instructions}}:null}},522539:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=e=>{if(!e)return null;let{rich_metadata:t}=e.pin;return t?{...e,richMetadata:t}:null}},15415:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(674296),a=i(50865);let l=e=>{if(!e)return null;let{video:t}=(e=>{if(!e)return null;let{videos:t}=e.pin,{id:i,video_list:a={}}=t||{},{V_720P:l,V_HLSV4:r,V_HLSV3_MOBILE:s}=a,o=(0,n.V3)(r),d=(0,n.V3)(s),c=(0,n.V3)(l),u=c||o||d;return i&&u?{...e,video:{id:i,hasVideo:u,mp4:c||void 0,hls:o||void 0,hlsv3:d||void 0}}:null})((0,a.Z)(e))||{},{embed:i}=(e=>{if(!e)return null;let{embed:t}=e.pin,{type:i,src:n,subtype:a}=t||{};return n?{...e,embed:{type:i,src:n,subtype:a}}:null})((0,a.Z)(e))||{},l=!!(t&&(e=>{let{hlsv3:t,hls:i}=e,n=t||i;return!!(n&&(n.width??0)>(n.height??0))})(t))||!!(i&&i.src&&"pinstory"!==i.subtype&&"gif"!==i.type);return{...e,isWideVideo:l}}},158759:(e,t,i)=>{"use strict";i.d(t,{Mt:()=>v,NK:()=>y,P6:()=>l,UE:()=>S,ZE:()=>h,Zt:()=>_,_J:()=>d,_S:()=>f,cL:()=>p,iR:()=>x,jL:()=>o,oN:()=>a,oU:()=>P,rM:()=>m,sV:()=>c,sY:()=>u,vj:()=>g,yp:()=>r});var n=i(606688);let a=5e3,l=5e3/n.gJ,r="Pin page",s=["Uploaded by user"],o=(e,t)=>!!t&&!e,d=e=>!!e&&5!==e,c=e=>["email","messages","deep_linking"].includes(e),u=e=>!!e&&"gif"===e,p=({embedSrc:e,embedSubtype:t,embedType:i})=>!!e&&!u(i)&&"pinstory"!==t,m=({link:e,mobileLink:t,trackedLink:i,utmLink:n})=>!t&&!n&&!i&&!e,h=e=>/pin.it/gim.test(e||""),_=({link:e,mobileLink:t,origImageUrl:i,trackedLink:n,utmLink:a})=>t||a||n||e||i||"",g=e=>"string"==typeof e&&(e.includes("#recipe")||e.includes("#:~:text=")),y=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function f(e){for(let t of s)if(e===t)return!1;return!0}function x(e){if(!e)return!1;let{id:t,videos:i}=e;if(t&&i?.id&&i.video_list){let{V_720P:e,V_HLSV4:t,V_HLSV3_MOBILE:n}=i.video_list;if(e&&b(e)||t&&b(t)||n&&b(n))return!0}let n=e.story_pin_data?.pages?.[0]?.blocks;if(n){for(let e of n)if("story_pin_video_block"===e.type&&e?.video)return!0}return!1}function b(e){return!!(e.thumbnail&&e.url&&e.width&&e.height)}function v(e){return e?/(?:v\/|V\/|be\/|(?:\?|&)v=|embed\/|shorts\/)([\w-]+)/.exec(e)?.[1]??null:null}function P({isVideo:e,link:t}){return!!e&&!!t&&!!/(youtu(|.)be)/.exec(t)&&!!v(t)}let S=e=>"button"in e&&1===e.button},966555:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var n,a=i(667294);i(167912);var l=i(78039),r=i(358410);let s=(void 0!==n||(n=i(581406)).hash&&"64a50a10a8f854ca82309453d98f41a7"!==n.hash&&console.error("The definition of 'useGetMainPinImage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function o(e,t){return e&&t?`${e} ${t}w`:null}function d({pinKey:e}){let t=(0,l.Z)(s,e),{anyEnabled:i,group:n}=(0,r.Z)(),d=(0,a.useMemo)(()=>t?.imageSpec_736x||t?.imageSpec_564x||t?.imageSpec_orig||t?.imageSpec_474x||t?.imageSpec_236x,[t]),c=(0,a.useMemo)(()=>{if(!t)return;let e=[o(t.imageSpec_736x?.url,t.imageSpec_736x?.width),o(t.imageSpec_1200x?.url,t.imageSpec_1200x?.width),{enabled:null,enabled_564x:o(t.imageSpec_564x?.url,t.imageSpec_564x?.width),enabled_orig:o(t.imageSpec_orig?.url,t.imageSpec_orig?.width)}[n]].filter(Boolean);return e.length>1?e.join(", "):void 0},[t,n]),u=i?"100cqw":void 0;return(0,a.useMemo)(()=>({mainPinImage:{url:d?.url||"",height:d?.height||1,width:d?.width||1},srcSet:c,srcSizes:u}),[d,c,u])}},779561:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n,a=i(667294);i(167912);var l=i(78039);let r=(void 0!==n||(n=i(752824)).hash&&"3d7a6d04f923d00acfb2887f852aea16"!==n.hash&&console.error("The definition of 'useGetNormalizedPinImage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function s({pinKey:e,maxWidth:t}){let i=(0,l.Z)(r,e),n=i?.imageSpec_564x||i?.imageSpec_736x||i?.imageSpec_orig||i?.imageSpec_474x||i?.imageSpec_236x,s=n?.width||1,o=n?.height||1,d=n?.url||"",c=function(e,t,i=564){return e>i&&(t*=i/e,e=i),{width:e,height:t}}(s,o,t);return{getNormalizedPinImage:(0,a.useCallback)(()=>({width:c.width,height:c.height,url:d}),[c.height,c.width,d])}}},358410:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(967312),a=i(174646),l=i(538645);let r=({skipExpActivation:e=!1}={})=>{let{checkExperiment:t}=(0,n.r)(),i=(0,l.HG)(),{isAuthenticated:r}=(0,a.B)();return r&&i?t("closeup_dweb_adaptive_images",{dangerouslySkipActivation:e}):{anyEnabled:!1,group:""}}},196794:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o}),i(167912);var n,a=i(78039),l=i(158759),r=i(537913);let s=(void 0!==n||(n=i(2139)).hash&&"b694b913cbcf66451260d78ec78bcccd"!==n.hash&&console.error("The definition of 'usePinFormattedLink_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),o=e=>{let t=(0,a.Z)(s,e),i=(0,r.Z)(t);if(!t?.entityId)return null;let{trackedLink:n,link:o,method:d,utmLink:c}=t,u=(0,l.Zt)({trackedLink:n,link:o,utmLink:c});return u&&("catalog_bulk_create"===d||i)?decodeURIComponent(u):u}},537913:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r}),i(167912);var n,a=i(78039);let l=(void 0!==n||(n=i(840032)).hash&&"e1f413e0ba2f9031ea605d85baa14a4b"!==n.hash&&console.error("The definition of 'usePinHasProducts_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),r=e=>{let t=(0,a.Z)(l,e);if(!t?.richMetadata)return!1;let{products:i}=t.richMetadata??{};return!!Array.isArray(i)&&i.some(e=>!!e&&e.name)}},11683:(e,t,i)=>{"use strict";i.d(t,{NC:()=>l,Rc:()=>s,WK:()=>d,X9:()=>a,b9:()=>n,f9:()=>o,gu:()=>r});let n="pin-builder-font-faces",a="system-font-faces",l="pin-builder-education-font-faces",r="licensed",s="system",o="brand",d=4},50865:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=e=>e?.pin?.id?e:null},448852:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var n=i(20256),a=i(233846),l=i(51340),r=i(666717),s=i(785893);function o(){return (0, a.ZP)()._('Free shipping', 'closeup.product.shipping', 'product shipping info')}function d({freeShippingPrice:e}){let t=(0,a.ZP)();return(0,l.nk)(t._('Free shipping with {{ shippingPrice }}+', 'closeup.product.shipping', 'product shipping info'),{shippingPrice:e}).join("")}function c({customStyles:e,showPrevDot:t,freeShippingPrice:i,freeShippingValue:a}){let l,c=t?[""]:[],{color:u="subtle",size:p="200"}=e||{};return Number.isFinite(a)?(0===a?l=(0,s.jsx)(o,{}):i&&(l=(0,s.jsx)(d,{freeShippingPrice:i})),l&&c.push((0,s.jsx)(n.kC,{direction:"row",children:l})),0===c.length)?null:(0,s.jsx)(n.xv,{color:u,size:p,children:(0,s.jsx)(r.Z,{color:u,items:c})}):null}},219463:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(667294),a=i(20256),l=i(298568),r=i(349057),s=i(785893);function o(e){let t=(0,l.A)();return(0,n.useEffect)(()=>{let i=document.getElementById(e.containerId),n=async(e,t)=>{let i=e.getBoundingClientRect(),n=t.getBoundingClientRect();return!!i&&!!n&&i.top>=n.top&&i.left>=n.left&&i.bottom<=n.bottom&&i.right<=n.right};if(null==i)t?.removeConstraint("thumbnailsLoaded"),(0,r.l7)("thumbnailsLoaded");else{let e=Array.from(i.querySelectorAll("*")).filter(e=>"IMG"===e.tagName&&n(e,i)),a=e.length;e.forEach(e=>{e.onload=void(a-=1),0===a&&(t?.markConstraintComplete("thumbnailsLoaded"),(0,r.Nx)("thumbnailsLoaded"))})}},[e.containerId,t]),(0,s.jsx)(a.xu,{id:"imageContainerPerf",children:e.children})}},857656:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(667294),a=i(498905),l=i(785893);function r({alt:e,children:t,color:i,elementTiming:r,fetchPriority:s,isActive:o=!1,naturalHeight:d,naturalWidth:c,onLoad:u,src:p,fit:m="none",srcSet:h,..._}){let g=(0,n.useRef)(null),y=(0,n.useRef)(null);return(0,n.useEffect)(()=>{if(p!==g.current||o&&o!==y.current){g.current=p??null;let e=document.querySelector(`img[src="${p}"]`)||null;e?.complete&&u()}y.current=o},[p,u,o]),(0,l.jsx)(a.Z,{..._,alt:e,color:i,elementTiming:r,fetchPriority:s,fit:m,naturalHeight:d,naturalWidth:c,onLoad:u,src:p,srcSet:h,children:t})}},32747:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=(0,i(667294).createContext)(null)},849289:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=(0,i(667294).createContext)(null)},282273:(e,t,i)=>{"use strict";i.d(t,{Z:()=>j});var n=i(667294),a=i(221097),l=i(582082),r=i(150739),s=i(535768),o=i(17433),d=i(298568),c=i(850625),u=i(638619),p=i(48756),m=i(904523),h=i(657742),_=i(482535),g=i(286272),y=i(642058),f=i(174646),x=i(873874),b=i(992114),v=i(785893);let P=["initial_app_load","client_route_push"],S=(0,r.XV)("PwtSurface"),w="NavigationComplete",k="VisuallyComplete",I=()=>{(0,u._T)()},T=e=>{if(e.metricConfig.constraints.every(t=>e.constraintMap[t])){let i=Math.max(...e.metricConfig.constraints.map(t=>e.constraintMap[t])),{metricConfig:{metricId:n,pwtStaticContext:a,annotateExperiments:r},annotations:d,binaryAnnotations:p,constraintMap:m,startTime:h,imageTimings:g,spans:y,traceId:f}=e;(0,o.L8)(`Report_PWT_Complete_${(0,l.KJ)(n)}`,h,i);let x=(0,c.W)({annotateExperiments:[...r??[]],annotations:d,binaryAnnotations:p,constraintMap:m,endTime:i,imageTimings:g,metricId:n,pwtStaticContext:a,startTime:h,traceId:f,spans:y});try{var t=String(x.binaryAnnotationMap["metricId.surface"].value);let e=performance.getEntriesByType("resource").filter(e=>e.name.includes("i.pinimg")).reduce((e,t)=>{let i=t.name.replace(".jpg","").split("/");return{[i[i.length-1]]:{downloadSize:t.name.split("/")[3].split("x")[0]},...e}},{});[...Array.from(document.getElementsByTagName("img")).map(t=>{let i=t.src.replace(".jpg","").split("/"),n=i[i.length-1];if(e[n]){let i=(0,_.rZ)(t)?.width||1,a=e[n].downloadSize;return{fileName:n,renderedSize:i,downloadedSize:a,ratio:a/i}}return{fileName:n,renderedSize:1,downloadedSize:1,ratio:1}}),...Array.from(document.querySelectorAll('div[role="img"]')).map(t=>{let i=t.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),n=i[i.length-1];if(e[n]&&t instanceof HTMLDivElement){let i=(0,_.rZ)(t)?.width||1,a=e[n].downloadSize;return{fileName:n,renderedSize:i,downloadedSize:a,ratio:a/i}}return{fileName:n,renderedSize:1,downloadedSize:1,ratio:1}})].forEach(e=>{let{ratio:i,fileName:n,downloadedSize:a}=e;e.ratio>1.05&&(0,s.A9)(`checkImageRatio.${t}`,{count:Math.round(10*i)/10,tags:{fileName:`${a}_${n}`}})})}catch(e){(0,s.H)("image_ratio_check_error",{error:e})}return(0,u._T)(),{...e,result:x,status:"DONE"}}return S(`Remaining constraints: ${e.metricConfig.constraints.filter(t=>!e.constraintMap[t]).join(", ")}`),e},A=(e,t)=>{let{constraint:i,time:n}=t,a=(0,l.KJ)(e.metricConfig.metricId);return y.Z?e.metricConfig.constraints.find(e=>e===i)?e.constraintMap[i]?(S(`constraint "${i}" is already complete.`),(0,s.H)("duplicated_constraint_complete",{constraint:i,action:a}),e):(S(`marking constraint "${i}" as complete ${n||performance.now()}`),n?(0,o.ZP)(`constraint_${i}_is_complete`,n):(0,o.ZP)(`constraint_${i}_is_complete`),T({...e,constraintMap:{...e.constraintMap,[i]:n||y.Z.now()}})):(S(`marked constraint "${i}" is not a required constraint.`),e):((0,s.H)("missing_window_performance",{action:a}),e)},C=(e,t)=>{if(S("dispatch action",t),"INIT_ROUTE"===t.type)return((e,t)=>{let{metricConfig:i,startTime:n,isSampled:a,disablePWTLogging:r}=t;if(r||"TIMING"!==e.status||n===e.startTime||I(),!i)return{status:"DISABLED",metricConfig:null};let o=(0,l.KJ)(i.metricId);if("TIMING"===e.status&&e.startTime===n&&e.constraintMap[w])return(0,s.H)("duplicated_init_route_action",{action:o}),e;if(!r){let e=(0,x.H)();(0,s.A9)(`handler.${o}`,{tags:{handler:e}});let t=void 0!==i.metricId.isAuthenticated&&{tags:{isAuth:i.metricId.isAuthenticated}}||void 0;"Other"===i.pwtStaticContext.browserName&&!1===i.metricId.isAuthenticated&&"initial_app_load"===i.metricId.navigationType?((0,s.A9)(`TIMING.${o}`,{tags:{userAgent:window?.navigator?.userAgent}}),(0,s.A9)(`TIMING.sampled.${o}`,{tags:{userAgent:window?.navigator?.userAgent},sampleRate:.03})):((0,s.A9)(`TIMING.${o}`),(0,s.A9)(`TIMING.sampled.${o}`,{sampleRate:.03})),(0,p.C)({resultLog:`TIMING.${o}`,annotateExperiments:i.annotateExperiments||[],getExperimentGroup:i.pwtStaticContext.getExperimentGroup,options:t})}return A({traceId:(0,u.vc)()||(0,u.ZP)("initial_app_load"===i.metricId.navigationType,i.pwtStaticContext.serverData?.trace_id),status:"TIMING",metricConfig:i,startTime:n,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:a,spans:[]},{constraint:w,disablePWTLogging:r})})(e,t.payload);if("TIMING"!==e.status)return S(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":I();let i={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:i};case"ANNOTATE":let{name:n}=t.payload;if(!y.Z)return e;let a=y.Z.now();return S(`adding annotation {${n}: ${a}}`),{...e,annotations:{...e.annotations,...{[n]:a}}};case"BINARY_ANNOTATE":let{name:r,value:o,annotationType:d}=t.payload;return S(`adding binary annotation {${r}: ${o}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,...{[r]:{value:o,type:d}}}};case"MARK_CONSTRAINT_COMPLETE":return A(e,t.payload);case"REMOVE_CONSTRAINT":return((e,t)=>{if(!y.Z){let t=(0,l.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}S(`removing constraint "${t}"`);let i=e.metricConfig.constraints.filter(e=>e!==t),{[t]:n,...a}=e.constraintMap;return T({...e,constraintMap:a,metricConfig:{...e.metricConfig,constraints:i}})})(e,t.payload);case"SET_SEGMENT":var c=t.payload;if(!y.Z){let t=(0,l.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}S(`updating pwt segment to "${c}"`);let m={...e.metricConfig.metricId,segment:c};return{...e,metricConfig:{...e.metricConfig,metricId:m}};case"SET_VISUALLY_COMPLETE_RESULT":{let{payload:{imageTimings:i}}=t;if(0===i.length)return I(),{...e,status:"DONE",result:{type:"ABORT",reason:"visuallyComplete_noImages"}};let n=Math.max(...i.map(e=>e.responseEnd||0));return A({...e,imageTimings:i},{constraint:k,time:n})}case"ADD_SUBSPAN":let{startTime:h}=e,{payload:{name:_,startTime:f,endTime:b,annotations:v,binaryAnnotations:P,parentId:C}}=t;return{...e,spans:[...e.spans,{name:_,id:(0,g.Z)(),startTime:f||h,endTime:b,annotationMap:{...v},binaryAnnotationMap:{...P},parentId:C}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,g.Z)(),startTime:y.Z?y.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":let E=e.spans.findIndex(e=>e.name===t.payload.name);return E>-1?(e.spans[E].endTime=y.Z?y.Z.now():0,t.payload.annotations&&(e.spans[E].annotationMap={...e.spans[E].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[E].binaryAnnotationMap={...e.spans[E].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,s.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:let j=(0,l.KJ)(e.metricConfig.metricId);return(0,s.H)("invalid_pwt_surface_action",{action:j}),e}},E=new Set;function j({children:e,...t}){let i=(0,m.Z)(),r=(e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}})(i),o=t.measureGridVisuallyComplete?["web_masonry_v2"]:[],c=[...t.annotateExperiments??[],...o],{context:u}=(({surface:e,constraints:t,segment:i,measureGridVisuallyComplete:l,annotateExperiments:r,customEnabledNavigationTypes:s,navigationInfo:{clientNavigation:o,navigationType:d},sampleRate:c})=>{let u=(0,n.useRef)("NOT_SET"),p=(0,h.Z)(),{getState:m,dispatch:_}=((e,t)=>{let i=(0,n.useRef)(t);return{getState:()=>i.current,dispatch:t=>{i.current=e(i.current,t)}}})(C,{status:"DISABLED",metricConfig:null}),g=(0,f.B)();if(u.current!==o&&(u.current=o,p)){let{isAuthenticated:n}=p,a=e&&d&&(s||P).includes(d)?{metricId:{type:"surface",surface:e,navigationType:d,isAuthenticated:n,segment:i},annotateExperiments:r,constraints:[w,...t||[],...l?[k]:[]],pwtStaticContext:p}:null;(0,b.nP)("webapp.pwt_surface.init_route",{tags:{surface:e,navigationType:d,isAuthenticated:n}});let u=!E.has(o);_({type:"INIT_ROUTE",payload:{metricConfig:a,startTime:o?o.time:0,isSampled:!c||Math.random()<c,disablePWTLogging:!u}}),u&&E.add(o)}let v=m();if((0,n.useEffect)(()=>()=>{E.delete(o)},[o]),(0,n.useEffect)(()=>{let e=e=>{_({type:"ABORT",reason:e})};a.Z.onSessionPause(e);let t=window.innerHeight,i=window.innerWidth,n=()=>{let e=Math.abs(window.innerHeight-t),a=Math.abs(window.innerWidth-i),l=window.innerHeight!==t,r=window.innerWidth!==i,s={handler:(0,x.H)(),deviceType:p?.deviceType??"unknown",isAuthenticated:p?.isAuthenticated??"unknown",platform:g.userAgent.platform??"unknown"};if((0,b.nP)("webapp.PwtLogger.handleResize",{sampleRate:1,tags:{...s,heightChanged:l,widthChanged:r}}),l&&(0,b.S0)("webapp.PwtLogger.resizeHeightDelta",e,{sampleRate:1,tags:s}),r&&(0,b.S0)("webapp.PwtLogger.resizeWidthDelta",a,{sampleRate:1,tags:s}),window.removeEventListener("resize",n),p?.deviceType==="phone"&&(!r&&l&&e<=150||!l&&!r)||p?.deviceType==="desktop"&&!l&&!r)return void(0,b.nP)("webapp.PwtLogger.skipResizeAbort",{sampleRate:1,tags:{...s,heightChanged:l,widthChanged:r}});_({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",n),()=>{let t=m();S("handling unmount",t),"TIMING"===t.status&&I(),a.Z.removePauseListener(e),window.removeEventListener("resize",n)}},[]),"TIMING"!==v.status||!v.constraintMap[w])return{state:v,context:null};let{startTime:T,metricConfig:A}=v;return{state:v,context:{abort:e=>_({type:"ABORT",reason:e}),addAnnotation:e=>_({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,i)=>_({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:i}}),addSubspan:(e,t,i,n={},a={},l=null)=>_({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:i,annotations:n,binaryAnnotations:a,parentId:l}}),getId:()=>T,getMetricId:()=>A.metricId,markConstraintComplete:e=>_({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:y.Z?y.Z.now():0}}),removeConstraint:e=>_({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>_({type:"SET_SEGMENT",payload:e}),setVisuallyCompleteResult:A.constraints.includes(k)?e=>_({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,startSubspan:(e,t={},i={},n=null)=>_({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:i,parentId:n}}),stopSubspan:(e,t={},i={},n=null)=>_({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:i,parentId:n}})}}})({...t,annotateExperiments:c,navigationInfo:{navigationType:r,clientNavigation:i}}),p=(0,d.A)(),_=!!p;return(0,n.useEffect)(()=>{if(_){let e=p?.getMetricId(),t=e?(0,l.KJ)(e):null;(0,s.H)("nested_pwt_surface",{action:t})}},[_]),(0,v.jsx)(d.S,{value:u,children:e})}},298568:(e,t,i)=>{"use strict";i.d(t,{A:()=>a,S:()=>n});let{Provider:n,getMaybe:a}=(0,i(218291).Z)("pwtSurfaceContext")},894957:(e,t,i)=>{"use strict";i.d(t,{Z:()=>v});var n=i(667294),a=i(218291),l=i(535768),r=i(150739),s=i(638619),o=i(88835),d=i(856516),c=i(48756),u=i(479288),p=i(657742),m=i(192666),h=i(387260),_=i(286272),g=i(642058);let y=(0,r.XV)("PwtStopwatch"),f=(e,t)=>{if(g.Z){if("start"===t.type&&!e.isTiming){let{name:i,startTime:n,navigationType:a}=t;return(0,l.A9)(`TIMING.${i}`),{isTiming:!0,name:i,isSampled:t.isSampled,startTime:"number"==typeof n?n:g.Z.now(),metricId:{type:"stopwatch",name:i,navigationType:a},pwtStaticContext:t.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId,spanNameUpdates:e.spanNameUpdates}}if(!e.isTiming)if(t.bypassIsTimingCheck)y("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",t);else{let i=t.name||e.name;return y("ignoring action - stopwatch is not actively timing",t),(0,l.A9)(`WARN.${i}.noTiming.${t.type}`),e}if("annotate"===t.type){let i=g.Z.now();return y(`adding annotation {${t.label}: ${i}}`),{...e,annotations:e.annotations.concat([{label:t.label,timestamp:i}])}}if("binaryAnnotate"===t.type)return y(`adding binary annotation {${t.name}: ${String(t.value)}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,...{[t.name]:{value:t.value,type:t.annotationType}}}};if("binaryAnnotateOperation"===t.type){let{value:i,type:n}=t.binaryAnnotationValueAndType;if(!e.binaryAnnotations[t.name])return{...e,binaryAnnotations:{...e.binaryAnnotations,...{[t.name]:{value:i,type:n}}}};{let a=e.binaryAnnotations[t.name].value||0;return y(`operating on binary annotation {
          name: ${t.name}
          pervious value: ${String(a)}
          operand: ${String(i)}
        }`),{...e,binaryAnnotations:{...e.binaryAnnotations,...{[t.name]:{value:i?t.operation(a,i):a,type:n}}}}}}if("addSubspan"===t.type){y(`adding subspan {${t.name}}`),-1!==e.spans.findIndex(e=>e.name===t.name)&&y(`WARNING: adding duplicate subspan name {${t.name}}`);let i=t.id||(0,_.Z)();-1!==e.spans.findIndex(e=>e.id===i)&&y(`WARNING: adding duplicate subspan id {${t.name}: ${i}}`);let n=0;return t.startTime?n=t.startTime:e.startTime?n=e.startTime:y(`WARNING: adding subspan {${t.name}} without start time`),{...e,spans:[...e.spans,{name:t.name,id:i,startTime:n,endTime:t.endTime||1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations},parentId:t.parentId}]}}if("subspanStart"===t.type){y(`starting subspan {${t.name}}`),-1!==e.spans.findIndex(e=>e.name===t.name)&&y(`WARNING: starting duplicate subspan name {${t.name}}`);let i=t.id||(0,_.Z)();-1!==e.spans.findIndex(e=>e.id===i)&&y(`WARNING: starting duplicate subspan id {${t.name}: ${i}}`);let n=t.parentName?e.spans.find(e=>e.name===t.parentName)?.id:null;return{...e,spans:[...e.spans,{name:t.name,id:i,parentId:t.parentId||n,startTime:g.Z.now(),endTime:1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations}}]}}if("subspanStop"===t.type){y(`stopping subspan {${t.name}}`),!t.id&&e.spans.filter(e=>e.name===t.name).length>1&&(0,l.H)("duplicate_subspan_stop_name",{name:t.name,type:t.type});let i=t.id?e.spans.findIndex(e=>e.id===t.id):e.spans.findIndex(e=>e.name===t.name);return i>-1?(e.spans[i].endTime=g.Z.now(),t.annotations&&(e.spans[i].annotationMap={...e.spans[i].annotationMap,...t.annotations}),t.binaryAnnotations&&(e.spans[i].binaryAnnotationMap={...e.spans[i].binaryAnnotationMap,...t.binaryAnnotations})):(0,l.H)("invalid_subspan_stop_name",{name:t.name}),e}if("subspanUpdateName"===t.type){e.spans.filter(e=>e.name===t.currentName).length>1&&(0,l.H)("duplicate_subspan_stop_name",{name:t.currentName,type:t.type});let i=e.spans.findIndex(e=>e.name===t.currentName);return i>-1?t.updateWhenStopwatchCompletes?e.spanNameUpdates=[...e.spanNameUpdates,{currentName:t.currentName,newName:t.newName}]:(y(`renaming subspan {${t.currentName}} to {${t.newName}}`),e.spans[i].name=t.newName):(0,l.H)("no_subspan_found_to_rename",{name:t.currentName}),e}if("stop"===t.type&&e.isTiming){let{startTime:i,metricId:n,pwtStaticContext:a,annotations:l,binaryAnnotations:r,isSampled:p,spans:h,traceId:f}=e;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),p){let s=t.stopTime||g.Z.now(),p=[...h.map(t=>{t.endTime===1/0&&(t.endTime=s);let i=e.spanNameUpdates.findIndex(e=>t.name===e.currentName);return i>-1&&(y(`renaming subspan {${t.name}} to {${e.spanNameUpdates[i].newName}}`),t.name=e.spanNameUpdates[i].newName,e.spanNameUpdates=e.spanNameUpdates.filter(e=>e.newName!==t.name)),t})];if(t.manualAndResourceSpans||0===h.length){let e=(0,_.Z)();p.push({name:"network_resources",id:e,startTime:i,endTime:s,annotationMap:{},binaryAnnotationMap:{},parentId:null},...(t.customStopwatchBuffer||[]).map(t=>(0,u.Z)((0,d.p)(t,[]),e)).filter(Boolean))}let x={type:"COMPLETE",metricId:n,traceId:f,startTime:i,endTime:s,spans:p,annotationMap:{...(0,m.Z)(l)},binaryAnnotationMap:(0,o.ng)({metricId:n,pwtStaticContext:a,binaryAnnotations:r,performanceResourceTimings:t.customStopwatchBuffer||[],type:"COMPLETE"})};(0,c.Z)({metricId:n,pwtStaticContext:a,result:x})}return(0,s.$B)(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,_.Z)(),spanNameUpdates:[]}}if("error"===t.type){let{error:i,stopwatchPerformanceObserver:n}=t;return i&&(0,l.H)(i),n&&n.disconnect(),(0,s.$B)(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,_.Z)(),spanNameUpdates:[]}}if("abort"===t.type&&e.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();let i=t.reason||"",{startTime:n,metricId:a,pwtStaticContext:l,binaryAnnotations:r,traceId:d}=e,u={type:"ABORT",traceId:d,startTime:n,endTime:g.Z.now(),spans:[],annotationMap:{},binaryAnnotationMap:(0,o.ng)({metricId:a,pwtStaticContext:l,binaryAnnotations:r,performanceResourceTimings:t.customStopwatchBuffer||[],type:"ABORT"}),reason:i};return(0,c.Z)({metricId:a,pwtStaticContext:l,result:u}),(0,s.$B)(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:d,spanNameUpdates:[]}}}return e};var x=i(904523),b=i(785893);let v=({name:e,sampleRate:t,abortOnUnloadOrClientNavigation:i=!0,navigationType:r,manualAndResourceSpans:o=!1})=>{let{Provider:d,useMaybeHook:c}=(0,a.Z)(`Stopwatch_${e}`);return{Provider:function({children:a}){let c=(({name:e,sampleRate:t,navigationType:i,manualAndResourceSpans:a=!1})=>{let l=(0,p.Z)(),r=(0,n.useRef)([]),o=(0,n.useRef)(null),d=(0,n.useRef)(null);null===d.current&&(d.current=(0,s.jf)());let[c,u]=(0,n.useReducer)(f,{isTiming:!1,name:e,annotations:[],binaryAnnotations:{},spans:[],traceId:d.current,spanNameUpdates:[]});return l?{isTiming:c.isTiming,name:c.name,start:n=>(window.PerformanceObserver&&(r.current=[],o.current=(0,h.Z)({entryTypes:["resource"]},e=>{r.current=r.current.concat(e.getEntries()),r.current.length>1e3&&(r.current=r.current.slice(-1e3))})),u({type:"start",startTime:n,name:e,navigationType:i,pwtStaticContext:l,isSampled:!t||Math.random()<t})),stop:e=>u({type:"stop",stopTime:e,stopwatchPerformanceObserver:o.current,customStopwatchBuffer:r.current,manualAndResourceSpans:a}),error:e=>{u({type:"error",stopwatchPerformanceObserver:o.current,error:e})},abort:e=>u({type:"abort",stopTime:g.Z?.now(),stopwatchPerformanceObserver:o.current,customStopwatchBuffer:r.current,reason:e}),annotate:(e,t,i=!1)=>u({type:"annotate",label:e,parentId:t,bypassIsTimingCheck:i}),binaryAnnotate:(e,t,i,n,a=!1)=>u({type:"binaryAnnotate",name:e,value:t,annotationType:i,parentId:n,bypassIsTimingCheck:a}),binaryAnnotateOperation:({name:e,binaryAnnotationValueAndType:t,operation:i,parentId:n,bypassIsTimingCheck:a=!1})=>u({type:"binaryAnnotateOperation",name:e,binaryAnnotationValueAndType:t,operation:i,parentId:n,bypassIsTimingCheck:a}),addSubspan:({name:e,startTime:t,endTime:i,annotations:n={},binaryAnnotations:a={},parentId:l=null,id:r=null,bypassIsTimingCheck:s=!1})=>u({type:"addSubspan",name:e,startTime:t,endTime:i,annotations:n,binaryAnnotations:a,parentId:l,id:r,bypassIsTimingCheck:s}),subspanStart:({name:e,annotations:t={},binaryAnnotations:i={},parentId:n=null,parentName:a=null,id:l=null,bypassIsTimingCheck:r=!1})=>u({type:"subspanStart",name:e,annotations:t,binaryAnnotations:i,parentId:n,parentName:a,id:l,bypassIsTimingCheck:r}),subspanStop:({name:e,annotations:t,binaryAnnotations:i,id:n,parentId:a,bypassIsTimingCheck:l=!1})=>u({type:"subspanStop",name:e,annotations:t,binaryAnnotations:i,id:n,parentId:a,bypassIsTimingCheck:l}),subspanUpdateName:({currentName:e,newName:t,bypassIsTimingCheck:i,updateWhenStopwatchCompletes:n=!0})=>u({type:"subspanUpdateName",currentName:e,newName:t,bypassIsTimingCheck:i,updateWhenStopwatchCompletes:n}),getSpans:(e,t)=>c.spans.filter(i=>i[e]===t),getTraceId:()=>c.traceId}:null})({name:e,sampleRate:t,navigationType:r,manualAndResourceSpans:o}),u=(0,x.Z)(),m=u?u.time:0,_=(0,n.useRef)(!1),y=c?.isTiming,v=(0,n.useCallback)(t=>{_.current?(_.current=!1,c?.abort(t)):(0,l.A9)(`WARN.${e}.noTiming.abort`)},[c]),P=(0,n.useCallback)((e,t)=>{c?.annotate(e,t)},[c]),S=(0,n.useCallback)((e,t,i,n)=>{c?.binaryAnnotate(e,t,i,n)},[c]),w=(0,n.useCallback)(({name:e,binaryAnnotationValueAndType:t,operation:i,parentId:n,bypassIsTimingCheck:a})=>{c?.binaryAnnotateOperation({name:e,binaryAnnotationValueAndType:t,operation:i,parentId:n,bypassIsTimingCheck:a})},[c]),k=(0,n.useCallback)(({name:e,startTime:t,endTime:i,annotations:n,binaryAnnotations:a,parentId:l,id:r,bypassIsTimingCheck:s})=>{c?.addSubspan({name:e,startTime:t,endTime:i,annotations:n,binaryAnnotations:a,parentId:l,id:r,bypassIsTimingCheck:s})},[c]),I=(0,n.useCallback)(({name:e,annotations:t,binaryAnnotations:i,parentId:n,parentName:a,id:l,bypassIsTimingCheck:r})=>{c?.subspanStart({name:e,annotations:t,binaryAnnotations:i,parentId:n,parentName:a,id:l,bypassIsTimingCheck:r})},[c]),T=(0,n.useCallback)(({name:e,annotations:t,binaryAnnotations:i,id:n,parentId:a,bypassIsTimingCheck:l})=>{c?.subspanStop({name:e,annotations:t,binaryAnnotations:i,id:n,parentId:a,bypassIsTimingCheck:l})},[c]),A=(0,n.useCallback)(({currentName:e,newName:t,bypassIsTimingCheck:i,updateWhenStopwatchCompletes:n})=>{c?.subspanUpdateName({currentName:e,newName:t,bypassIsTimingCheck:i,updateWhenStopwatchCompletes:n})},[c]),C=(0,n.useCallback)((e,t)=>c?c.getSpans(e,t):[],[c]),E=(0,n.useCallback)(()=>c?c.getTraceId():"",[c]),j=(0,n.useCallback)(t=>{_.current?(_.current=!1,c?.error(t)):(0,l.A9)(`WARN.${e}.noTiming.error`)},[c]),R=(0,n.useCallback)(e=>{_.current&&c?.abort("duplicated_init_stopwatch_action"),_.current=!0,c?.start(e)},[c]),L=(0,n.useCallback)(t=>{_.current?(_.current=!1,c?.stop(t)):(0,l.A9)(`WARN.${e}.noTiming.stop`)},[c]);(0,n.useEffect)(()=>()=>{i&&v("unloadOrClientNavigation")},[m]);let F=(0,n.useMemo)(()=>({name:e,isTiming:y,abort:v,addAnnotation:P,addBinaryAnnotation:S,binaryAnnotationOperation:w,addSubspan:k,subspanStart:I,subspanStop:T,getSpans:C,getTraceId:E,updateSubspanName:A,stop:L,error:j,start:R}),[y,v,P,S,w,k,I,T,C,E,A,L,j,R]);return(0,b.jsx)(d,{value:F,children:a})},get:c}}},951107:(e,t,i)=>{"use strict";i.d(t,{B6:()=>c,IQ:()=>d,_m:()=>r});var n=i(894957);let{Provider:a,get:l}=(0,n.Z)({name:"related_feed",sampleRate:1}),r=a,{Provider:s,get:o}=(0,n.Z)({name:"related_feed_pageload",sampleRate:1}),d=s,c=e=>{let t=l(),i=o();return"related_feed"===e?t:"related_feed_pageload"===e?i:void 0}},616693:(e,t,i)=>{"use strict";i.d(t,{T:()=>l,g:()=>r});let{Provider:n,get:a}=(0,i(894957).Z)({name:"story_pin_step",sampleRate:1}),l=n,r=a},904523:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(667294),a=i(32747);function l(){return(0,n.useContext)(a.Z)}},657742:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(667294),a=i(849289);function l(){return(0,n.useContext)(a.Z)}},192666:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=e=>{let t={};e.forEach(({label:e,timestamp:i})=>{t={...t,[e]:(t[e]||[]).concat([i])}});let i=Object.freeze({});return Object.keys(t).forEach(e=>{(t[e]||[]).forEach((t,n)=>{let a=n?`${e}_${n+1}`:e;i={...i,[a]:t}})}),i}},473357:(e,t,i)=>{"use strict";i.d(t,{A:()=>r,Z:()=>s});var n=i(667294),a=i(20256),l=i(785893);let r=({fill:e})=>{let t="half"===e?(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(a.xu,{position:"absolute",children:(0,l.jsx)(a.JO,{accessibilityLabel:"","aria-hidden":!0,color:"default",icon:"star-half",size:15})}),(0,l.jsx)(a.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:15})]}):(0,l.jsx)(a.JO,{accessibilityLabel:"","aria-hidden":!0,color:"full"===e?"default":"subtle",icon:"star",size:15});return(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},"data-test-id":`rating-star-${e}`,display:"inlineBlock",children:t})};function s({max_rating:e,rating:t,display:i}){var n;if(!t)return null;let s=[],o=parseFloat(e)||5,d=5*(n=(n=parseFloat(t)||0)<=o?n:o)/o;if(Number.isNaN(d))return null;let c=Math.floor(d),u=d-c;return[...Array(c).keys()].forEach(e=>s.push((0,l.jsx)(r,{fill:"full"},e))),u>=.75?s.push((0,l.jsx)(r,{fill:"full"},s.length)):u>=.25&&s.push((0,l.jsx)(r,{fill:"half"},s.length)),[...Array(5-s.length).keys()].forEach(()=>s.push((0,l.jsx)(r,{fill:"empty"},s.length))),(0,l.jsx)(a.xu,{"aria-label":`Rating ${String(d)} stars out of 5`,"data-test-id":"rating-stars",display:i?"flex":"inlineBlock",position:"relative",role:"img",width:18*o,children:s})}},896403:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var n=i(667294),a=i(20256),l=i(233846),r=i(967312),s=i(121006),o=i(785893);function d({category:e,ingredients:t,textSize:i="300"}){return(0,o.jsxs)(a.xu,{children:[e&&(0,o.jsx)(a.xu,{children:(0,o.jsx)(a.xv,{size:i,weight:"bold",children:e})}),(0,o.jsx)("ul",{children:t.map((e,t)=>(0,o.jsx)("li",{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",children:(0,o.jsx)(a.xu,{marginTop:1,children:(0,o.jsxs)(a.xv,{size:i,children:[" ",e.amt||null," ",e.name]})})},t))})]})}function c({instructions:e}){return e?e.map((e,t)=>{let i=`Step ${t+1}`;return(0,o.jsxs)(a.xu,{children:[(0,o.jsx)(a.xv,{size:"200",weight:"bold",children:i}),(0,o.jsx)(a.xv,{size:"100",children:e})]},i)}):null}var u=i(232375),p=i(132280),m=i(460632);function h({recipeProps:e,marginOverrides:t}){var i;let h=(0,l.ZP)(),{checkExperiment:_}=(0,r.r)(),{image:g,name:y,categorizedIngredients:f,instructions:x}=e.recipe,{peekCloseupEnabled:b}=(0,m.x4)(),v=x&&_("web_food_indicator").anyEnabled,P=0;if(f&&f.length){let e=[];f.forEach(t=>(P+=t.ingredients.length,e.push(t.ingredients)))}let S=b?(i=P,(0,s.Z)(h.ngettext('{{ count }} Ingredient', '{{ count }} Ingredients', i, 'closeup.recipePin.heading.ingredientCount', 'Ingredient count on a Pin. count: number of ingredients'),{count:i.toString()})):h._('Ingredients', 'Ingredients title and count in closeup recipe description', 'Ingredients title and count in closeup recipe description');return(0,o.jsx)(a.xu,{marginBottom:2,marginTop:2,children:(0,o.jsxs)(u.Z,{itemScope:!0,itemType:"https://schema.org/Recipe",children:[(0,o.jsx)("meta",{content:y,itemProp:"name"}),(0,o.jsx)("meta",{content:g,itemProp:"image"}),v&&(0,o.jsx)(p.Z,{collapseByDefault:!1,heading:"Instructions",children:(0,o.jsx)(a.xu,{children:(0,o.jsx)(c,{instructions:x})})}),(0,o.jsx)(p.Z,{heading:S,children:(0,o.jsx)(a.xu,{children:f.map(({category:e,ingredients:i},l)=>{let r=`ingredient-${l}`;return(0,o.jsx)(n.Fragment,{children:(0,o.jsx)(a.xu,{marginBottom:t?.ingredientMarginBottom||4,children:(0,o.jsx)(d,{category:e,ingredients:i,textSize:"200"})})},r)})})})]})})}},640380:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(51340);function a({m:e,h:t,rm:i,rh:l},r,s=!1){return e&&(!t||l<=0)?s?(0,n.nk)(r._('{{mins}}min', 'closeup.makeRecipeTimeText.minutes', 'number showing the minutes to complete a recipe'),{mins:i.toString()}):(0,n.nk)(r.ngettext('{{mins}} minute', '{{mins}} minutes', i, 'number showing the minutes to complete a recipe', 'number showing the minutes to complete a recipe'),{mins:i.toString()}):t?s?(0,n.nk)(r._('{{hrs}}hr {{mins}}min', 'closeup.makeRecipeTimeText.hours', 'hrs: number showing the hours to complete a recipe, mins: number showing the minutes to complete a recipe'),{hrs:t.toString(),mins:e.toString()}):(0,n.nk)(r.ngettext('{{hrs}} hour', '{{hrs}} hours', l, 'number showing the hours to complete a recipe', 'number showing the hours to complete a recipe'),{hrs:l.toString()}):null}},606898:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(41086),a=i(51340),l=i(785893);function r({m:e,h:t,rm:i,rh:r},s){return e&&(!t||r<=0)?(0,a.nk)(s._('{{mins}}min', 'closeup.makeRecipeText.minutesLabel', 'Minutes label for Rich Pin Recipe'),{mins:(0,l.jsx)(n.Z,{maximumFractionDigits:2,value:i},"recipe-minutes")}):t?(0,a.nk)(s._('{{hrs}}hr', 'closeup.makeRecipeText.hoursLabel', 'Hours label for Rich Pin Recipe'),{hrs:(0,l.jsx)(n.Z,{maximumFractionDigits:2,value:r},"recipe-hours")}):null}},83945:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(51340);function a(e,t){return e<60?(0,n.nk)(t._('{{mins}}min', 'recipe.minutes', 'recipe in minutes. mins: recipe duration in minutes'),{mins:e}):(0,n.nk)(t._('{{hrs}}h {{mins}} min', 'recipe.time', 'recipe time. mins: recipe duration in minutes. hrs: recipe duration in hours'),{mins:e%60,hrs:Math.floor(e/60)})}},174646:(e,t,i)=>{"use strict";i.d(t,{B:()=>l,P2:()=>s,Ts:()=>a,gf:()=>r});let n=i(324340),{getRequestContext:a}=n,{useRequestContext:l}=n,{useUpdateRequestContext:r}=n,{RequestContextProvider:s}=n},324340:(e,t,i)=>{"use strict";i.r(t),i.d(t,{RequestContextProvider:()=>d,getRequestContext:()=>o,useRequestContext:()=>c,useUpdateRequestContext:()=>u});var n=i(667294),a=i(786420),l=i(136388),r=i(785893);let s=(0,n.createContext)(null);function o(){return(0,n.use)(s).requestContextState}function d({children:e,initialValue:t}){let[i,o]=(0,n.useState)(t),d=(0,n.useMemo)(()=>({requestContextState:i,updateRequestContext:e=>{let t={...i,...e};(0,l.Z)(i,e)||o(t),(0,a.J)(t)}}),[i]);return(0,r.jsx)(s,{value:d,children:e})}function c(){let e=(0,n.useContext)(s);if(!e)throw Error("useRequestContext must be used within a RequestContextProvider");return e.requestContextState}function u(){let e=(0,n.useContext)(s);if(!e)throw Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},52157:(e,t,i)=>{"use strict";function n(e,t){let i;if(e.error){let{httpStatus:n,api_error_code:a,redirectUrl:l}=e.error;(404===n||401===n&&7===a)&&(i={pathname:t?"/ideas/":"/",state:{showError:!0}}),301===n&&l&&(i={pathname:l})}return i}i.d(t,{Z:()=>n})},515989:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(113474);function a(e){return(0,n.Z)(function(e){let t;if(!e)return null;let i=e?.url;return Array.isArray(e?.params)?t=e?.params:Object.entries(t={...e?.params??{}}).forEach(([e,n])=>{i?.includes(`{${e}}`)&&(i=i?.replaceAll(`{${e}}`,String(n)),delete t[e])}),{name:"ApiResource",options:{url:i,data:t,...e?.method==="POST"?{postInsteadOfGet:!0}:{}},enabledRouteRefresh:e?.enabledRouteRefresh,headers:e?.headers,noCache:e?.noCache}}(e))}},810139:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(741594),a=i(292643);function l(e){let{enabledRouteRefresh:t,headers:i,name:l,noCache:r,options:s,schema:o}=e??{name:n.fY,options:null},d=!e,{fetchResource:c,ref:u,fetchMore:p,isFetching:m,isLoaded:h,isRefreshing:_,refresh:g}=(0,a.Z)({enabledRouteRefresh:t,headers:i,name:l,noCache:r,options:s,schema:o},d,!1);return d||c(),{ref:u,fetchMore:p,isFetching:m,isLoaded:h,isRefreshing:_,refresh:g}}},42450:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(616550),a=i(297934),l=i(890360),r=i(52157),s=i(113474);function o(e){let t=(0,n.k6)(),i=(0,n.TH)(),{isAuth:o}=(0,a.Z)(),d=!o&&(0,l.L6)(i),c=(0,s.Z)(e),u=(0,r.Z)(c,d);return u&&t.replace(u.pathname,u.state),c}},232375:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(785893);let a=e=>{let t=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,n.jsx)("div",{"data-test-id":"rich-pin-information",...t,children:e.children||null})}},674296:(e,t,i)=>{"use strict";i.d(t,{QO:()=>o,U0:()=>l,V3:()=>r,cO:()=>u,dn:()=>d,fP:()=>c,zP:()=>s});var n=i(697591),a=i(112800);let l={FOLLOW_ACTION:"https://schema.org/FollowAction",LIKE_ACTION:"https://schema.org/LikeAction",SHARE_ACTION:"https://schema.org/ShareAction",WATCH_ACTION:"https://schema.org/WatchAction"},r=e=>{let{thumbnail:t,url:i,width:n,height:a,duration:l}=e||{};return t&&i&&n&&a&&{thumbnail:t,url:i,width:n,height:a,duration:l}||void 0},s=({isEligible:e,hasName:t,hasAggregateRating:i,hasOffers:n})=>{(0,a.My)("closeup_main_pin.leaf_snippet.is_product",{isEligible:e,hasName:t,hasAggregateRating:i,hasOffers:n})},o=(e,{userName:t,fullName:i})=>{let n=t||"";return{"@type":"Person",name:i||n,alternateName:n,url:e+"/"+n}};function d(e,t,i,a,l,r){i=i.trim();let s=(t=t.trim())||r||i||a;if(!e||!e.metatags)return{title:s,description:i||t||l};let{description:o=""}=e.metatags;return{title:s,description:(0,n.o)(o||"").trim()||t||l}}let c=(e,t,i)=>{let n=t;return i?{fallbackTitle:n="recipe"===e?i._('Pinterest Recipe', 'pin.closeup.leafsnippet.recipe', 'Default recipe title and description for crawlers'):"howto"===e?i._('Pinterest How To', 'pin.closeup.leafsnippet.howto', 'Default how to title and description for crawlers'):"video"===e?i._('Pinterest Video', 'pin.closeup.leafsnippet.video', 'Default video title and description for crawlers'):"product"===e?i._('Pinterest Product', 'pin.closeup.leafsnippet.product', 'Default product title and description for crawlers'):i._('Pin page', 'pin.closeup.leafsnippet.pin', 'Default pin title and description for crawlers'),fallbackDescription:n}:{fallbackTitle:n,fallbackDescription:n}},u=e=>{if(!e)return;let t=!!e.ratingCount||!!e.reviewCount,{ratingValue:i}=e;if(!t||!i||Number.isNaN(parseFloat(i)))return;let n=e.ratingCount||e.reviewCount;return{"@type":"AggregateRating",ratingValue:e.ratingValue,ratingCount:n,bestRating:5,worstRating:1}}},774609:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(667294),a=i(723842);function l({children:e}){if("undefined"==typeof window)throw Error(a.u);return e}var r=i(785893);function s({children:e,fallback:t}){return(0,r.jsx)(n.Suspense,{fallback:t,children:(0,r.jsx)(l,{children:e})})}},181710:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=i(774609).Z},203774:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(5500);function a({scrollPosition:e,containerSize:t,contentSize:i,intendedDistance:n,extendToEdgeDistance:a=0}){let l=i-t,r=n;return r=Math.max(r=Math.min(r,l-e),-e),n>0&&l-(e+r)<=a?r=l-e:n<0&&e+r<=a&&(r=-e),r}let l={easingFunction:"ease-in-out",extendToEdgeDistanceX:0,extendToEdgeDistanceY:0,scrollSpeedPxPerMs:1.2,minScrollDuration:200},r={linear:e=>e,"ease-in":e=>e*e,"ease-out":e=>e*(2-e),"ease-in-out":e=>e<.5?2*e*e:-1+(4-2*e)*e};function s(e,t,i,o={}){let d={...l,...o},{scrollLeft:c,scrollTop:u,scrollWidth:p,scrollHeight:m,clientWidth:h,clientHeight:_}=e,g=a({scrollPosition:c,containerSize:h,contentSize:p,intendedDistance:t,extendToEdgeDistance:d.extendToEdgeDistanceX}),y=a({scrollPosition:u,containerSize:_,contentSize:m,intendedDistance:i,extendToEdgeDistance:d.extendToEdgeDistanceY}),f=Math.max(Math.abs(Math.floor(g/d.scrollSpeedPxPerMs)),Math.abs(Math.floor(y/d.scrollSpeedPxPerMs)));d.minScrollDuration&&(f=Math.max(f,d.minScrollDuration));let x=r[d.easingFunction]||r["ease-in-out"];return(0,n.Z)({window,duration:f,run:t=>{e.scrollLeft=c+g*x(t),e.scrollTop=u+y*x(t),1===t&&d.onAnimationComplete&&setTimeout(d.onAnimationComplete,0)}})}},241966:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(985630);function a(e){let{enteredQuery:t,filters:i,guideAdded:a,query:l,requestParams:r,rs:s,scope:o,selectedOneBarModules:d,user:c}=e;if(!l)return"/";let u={q:l,rs:s,...r};if(i&&(u.filters=i),c&&(u.user=c),d&&(u.selected_one_bar_modules=d),a&&a.term&&(u.add_refine=`${a.term}|guide|word|${a.index}`),t&&(u.entered_query=t),window.location.pathname.startsWith("/explore"))return`/search/pins/?${(0,n.Z)(u)}`;let p=o;return["pins","buyable_pins","my_pins","boards","users","videos"].includes(p)||(p="pins"),p?`/search/${p}/?${(0,n.Z)(u)}`:`${window.location.pathname}?${(0,n.Z)(u)}`}},25486:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(26234),a=i(985630);function l({bubbleId:e,pinId:t,query:i,referringSource:l,storyCategory:r,storyId:s,title:o}){let d=[0,24,21,26].includes(r),c=(0,a.Z)({q:i,rs:l||void 0,b_id:e,source_id:s,top_pin_id:t}),u=d&&o?(0,n.x)({title:o,id:e,articleType:"discover"}):`/discover/article/${e}/`;return d?u:`/search/pins/${c?"?"+c:""}`}},166543:(e,t,i)=>{"use strict";i.d(t,{i:()=>n});let n={AC:"ac",AUTOCOMPLETE:"autocomplete",BOARD:"blp",CONTENT_TYPE_FILTER:"content_type_filter",DIRECT_NAVIGATION:"direct_navigation",FILTER:"filter",GUIDED_SEARCH_ENTRY:"guided_search_entry",GUIDED_SEARCH_LANDING:"guided_search_landing",HASHTAG_CLOSEUP:"hashtag_closeup",HASHTAG_PINREP:"hashtag_pinrep",HOMEFEED_BUBBLE:"homefeed_bubble",HUB_PAGE:"hub_page",IDEAS_ROOT:"ideas_root",IMAGE_ONLY_ATTRIBUTION:"image_only_attribution",LANDING_PAGE_STORY:"landing_page_story",NO_RESULTS_SEARCH_STORY:"no_results_search_story",PRODUCT:"product",REMOVE:"remove",RS:"rs",SHOPPING_FILTER:"shopping_filter",SITELINKS_SEARCHBOX:"sitelinks_searchbox",SLP_REC_CURATED:"slp_rec_curated",SLP_REC_TRENDING:"slp_rec_trending",SRS:"srs",STRUCTURED_GUIDE:"structured_guide",TRENDING:"trending",TYPED:"typed",TYPO_AUTO_ORIGINAL:"typo_auto_original",TYPO_SUGGESTION:"typo_suggestion",UNKNOWN:"Unknown",URECS:"urecs",VANILLA_GUIDE:"guide",VIDEO:"video",VOICE_SEARCH:"voice_search"}},136388:(e,t,i)=>{"use strict";function n(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let i=Object.keys(e),n=Object.keys(t);return i.length===n.length&&i.every(i=>e[i]===t[i])}i.d(t,{Z:()=>n})},878280:(e,t,i)=>{"use strict";i.d(t,{l:()=>l,r:()=>r});var n=i(667294);let a=(0,n.createContext)(null),l=()=>(0,n.useContext)(a),r=a},676620:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(80421),a=i(878280);let l=()=>{let e=(0,n.g)(),t=(0,a.l)();return i=>{let{mobileOptions:n,desktopOptions:a,reason:l,attributionLabel:r,pinId:s,savePinImageUrl:o}=i;e?e.showDesktopSignupModal({signupFlow:a?.modalType==="login"?{type:"login"}:{type:"signup"},reason:l,attributionLabel:r,savePinId:s,savePinImageUrl:o,...a?.modalOptions}):t&&t.showMobileSignupModal({reason:l,attributionLabel:r,headingType:n?.headingType??"none",pinId:s,savePinImageUrl:o})}}},765557:(e,t,i)=>{"use strict";i.d(t,{Z:()=>ev});var n=i(667294),a=i(616550),l=i(20256),r=i(839117),s=i(660098),o=i(194910),d=i(545007),c=i(233846),u=i(840962),p=i(958659),m=i(903683),h=i(785893);let _=e=>{let t=(0,c.ZP)(),{sourceUrl:i,clientTrackingParams:n,linkText:a,displayUrl:r,image:s,pageId:o,canonicalUrl:p,pinId:_,onTouch:g,onClickThrough:y,isLoading:f}=e,x={story_pin_page_id:o,story_pin_data_id:(0,d.v9)(t=>e.pinId&&t.pins?.[e.pinId]?.story_pin_data_id),src_url:i,canonical_url:p},b=(0,h.jsxs)(l.xu,{alignItems:"center",borderStyle:"sm",display:"flex",overflow:"hidden",rounding:2,children:[(0,h.jsx)(l.xu,{alignItems:"center",color:f||s&&s.url?void 0:"secondary",dangerouslySetInlineStyle:{__style:{borderRight:"1px solid lightGray"}},display:"flex",flex:"none",height:80,justifyContent:"center",minWidth:80,width:80,children:f?(0,h.jsx)(l.xH,{accessibilityLabel:t._('Loading website', 'a11y for loading spinner', 'a11y for loading spinner'),show:!0}):s&&s.url?(0,h.jsx)(l.Ee,{alt:a,fit:"cover",naturalHeight:s.height??1,naturalWidth:s.width??1,src:s.url}):(0,h.jsx)(l.JO,{accessibilityLabel:t._('Default link block icon', 'Icon for default link blocks without an image', 'Icon for default link blocks without an image'),color:"subtle",icon:"link",size:35})}),(0,h.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap",textOverflow:"ellipsis"}},flex:"grow",overflow:"hidden",paddingX:5,children:[(0,h.jsx)(l.xv,{lineClamp:1,weight:"bold",children:a}),(0,h.jsx)(l.xv,{color:"shopping",size:"200",children:r})]})]}),v=(0,m.S6)()(_),P=(0,u.Z)({href:{pathname:i,state:{trackingParams:n}},target:"blank",clientTrackingParams:n,externalData:v?{pin:v&&{attributionSourceId:v.attribution_source_id,board:v.board&&{url:v.board.url},campaignId:v.campaign_id,entityId:v.id,isDownstreamPromotion:v.is_downstream_promotion,isPromoted:v.is_promoted,pinner:v.pinner&&{username:v.pinner.username},pinPromotionId:v.pin_promotion_id,promoter:v.promoter&&{entityId:v.promoter.id},storyPinDataId:v.story_pin_data_id,trackingParams:v.tracking_params,advertiserId:v.advertiser_id}}:void 0});return g?(0,h.jsx)(l.iP,{onTap:g,rounding:2,children:b}):(0,h.jsx)(l.Tg,{href:i,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),y&&y({auxData:x}),P({event:e})},rel:"nofollow",rounding:2,target:"blank",children:b})},g=e=>(0,h.jsx)(p.Z,{...e,children:(0,h.jsx)(_,{...e})});var y=i(19963),f=i(581288);let x=(0,i(757653).Z)(()=>Promise.all([i.e(88962),i.e(28164)]).then(i.bind(i,130035)),void 0,e=>130035,"app-common-react-components-Activities-Utils-Linkify"),b=({block:e,clientTrackingParams:t,pageId:i,pinId:n,onClickThrough:a})=>{let{logContextEvent:r}=(0,y.u)();switch(e.type){case f.h8.LINK:let{canonical_url:s,image:o,normalized_url:d,src_url:c,text:u=""}=e,p=o?.images?.["345x"];if(o&&c&&d&&s)return(0,h.jsx)(l.xu,{marginTop:5,children:(0,h.jsx)(g,{canonicalUrl:s,clientTrackingParams:t,displayUrl:d,image:p,linkText:u,onClickThrough:a,onVisibilityChanged:e=>{e&&r({event_type:120,view_type:3,view_parameter:157,component:228,element:11157,object_id_str:n,aux_data:{story_pin_page_id:i,srcUrl:c,canonicalUrl:s}})},pageId:i,pinId:n,sourceUrl:c})});return null;case f.h8.HEADING:{let{text:t=""}=e;return(0,h.jsx)(l.xu,{marginBottom:4,paddingX:2,children:(0,h.jsx)(l.X6,{accessibilityLevel:2,overflow:"normal",size:"600",children:t})})}case f.h8.PARAGRAPH:{let{text:t=""}=e;return(0,h.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-line"}},paddingX:2,children:(0,h.jsx)(l.xv,{children:(0,h.jsxs)(x,{children:[" ",t," "]})})})}default:return null}};var v=i(970601);let P=`
@media (min-height: 0) {
  .StoryPinText {
    padding: 15px;
  }
  .StoryPinText span {
    font-size: 12px;
  }
  .StoryPinText h2 {
    font-size: 18px;
  }
}

@media (min-height: 600px) {
  .StoryPinText {
    padding: 2.5vh;
  }
  .StoryPinText span {
    font-size: 2vh;
  }
  .StoryPinText h2 {
    font-size: 3vh;
  }
}

@media (min-height: 800px) {
  .StoryPinText {
    padding: 20px;
  }
  .StoryPinText span {
    font-size: 16px;
  }
  .StoryPinText h2 {
    font-size: 24px;
  }
}
`,S=e=>{let{blocks:t,clientTrackingParams:i,pageId:a,pinId:l,onClickThrough:r}=e;return(0,h.jsxs)(n.Fragment,{children:[(0,h.jsx)(v.Z,{unsafeCSS:P}),(0,h.jsx)("div",{className:"StoryPinText",children:t.filter(e=>e).map((e,t)=>(0,h.jsx)(b,{block:e,clientTrackingParams:i,onClickThrough:r,pageId:a,pinId:l},t))})]})};var w=i(501619);let k=s._B*f.ap,I=`
.StoryPinTextDrawer {
  background: #fff;
  border-top-left-radius: 32px;
  border-top-right-radius: 32px;
  bottom: 0;
  box-shadow: rgba(0, 0, 0, 0.1) 0 1px 20px 0;
  box-sizing: border-box;

  height: auto;
  max-height: 15%;
  opacity: 0.625;
  position: absolute;
  transition: max-height 0.15s ease-in, opacity 0.15s ease-in;
  width: 100%;
}

.StoryPinTextDrawer:hover {
  max-height: 70%;
  opacity: 1;
  overflow: scroll;
}
`;function T(e){let t=(0,c.ZP)(),{activePageIndex:i,clientTrackingParams:a,hideText:r,isActive:o,isCoverPage:d,muteVideos:u,onClickThrough:p,page:{image_adjusted:m,image:_,blocks:g,video:y,id:f},pageIndex:x,pageWidth:b,pin:P,pinId:T}=e,{images:A={}}=m||_||{},C=A["750x"],{video_list:E={}}=y||{},j=E.V_HLSV3_MOBILE||E.V_720P;if(!C&&!j)return null;let R=b/s._B;return(0,h.jsxs)(n.Fragment,{children:[!!y&&!!j&&(0,h.jsx)(w.Z,{activePageIndex:i,blockHeight:k*R,blockWidth:s._B*R,isPlaying:o,muted:u,pageIndex:x,pin:P,pinId:T,video:y}),C&&C.url&&!j&&(0,h.jsx)(l.Ee,{alt:function(e){let t="";for(let i of e.blocks??[])[1,0].includes(i.block_type)&&(t=i.text?i.text:"");return t??""}(e.page)||t._('Story pin image', 'Alt text for story pin image', 'Alt text for story pin image'),fit:d?"cover":"contain",naturalHeight:C.height??1,naturalWidth:C.width??1,src:C.url}),g&&g.length>0&&!r&&(0,h.jsxs)(n.Fragment,{children:[(0,h.jsx)(v.Z,{unsafeCSS:I}),(0,h.jsx)("div",{className:"StoryPinTextDrawer",children:(0,h.jsx)(S,{blocks:g,clientTrackingParams:a,onClickThrough:p,pageId:f,pinId:T})})]})]})}let A=e=>{let{page:{image_adjusted:t,blocks:i}}=e,{images:a={}}=t||{},r=a["750x"];if(!r)return null;let{width:s,height:o}=r;return(0,h.jsx)(n.Fragment,{children:r&&r.url&&(0,h.jsx)(l.Ee,{alt:(i??[]).map(e=>e.text||"").join(),fit:"contain",naturalHeight:o??1,naturalWidth:s??1,src:r.url})})};var C=i(369464),E=i(468318),j=i(113474),R=i(891022),L=i(5112),F=i(437318),D=i(12624);function O({children:e,clientTrackingParams:t,closeupStoryPinViewability:i,pin:n,productPins:a,viewParameter:l,viewType:r}){let{previous:s,forward:d}=(0,E.ou)(),c=0===s.length&&0===d.length,u=(0,D.t)();return(0,h.jsx)(R.o,{closeupPaneWidth:F.Gg,headerHeight:u,isLandingPage:c,loadFonts:C.Z,productPins:a,renderStoryPinMediaLayout:({activePageIndex:e,hideText:i,isActive:a,isCoverPage:l,muteVideos:r,onClickThrough:s,page:o,pageIndex:d,pageWidth:c,pinId:u})=>(0,h.jsx)(T,{activePageIndex:e,clientTrackingParams:t,hideText:i,isActive:a,isCoverPage:l,muteVideos:r,onClickThrough:s,page:o,pageIndex:d,pageWidth:c,pin:n,pinId:u}),renderStoryPinPage:({activePageIndex:e,customEndCard:a,fontsLoaded:s,isActive:d,muteVideos:c,onEnded:u,onFlyoutOpen:p,onUpdateVideoInfo:m,page:_,pageAspectRatio:g,pageHeight:y,pageWidth:f,ownerId:x,pinId:b,productPins:v,shouldLogTimeSpent:P,stillLoading:S,videoPinProgress:w})=>(0,h.jsx)(o.Z,{activePageIndex:e,clientTrackingParams:t,closeupStoryPinViewability:i,customEndCard:a,fontsLoaded:s,isActive:d,muteVideos:c,onEnded:u,onFlyoutOpen:p,onUpdateVideoInfo:m,ownerId:x,page:_,pageAspectRatio:g,pageHeight:y,pageIndex:e,pageWidth:f,pin:n,pinId:b,productPins:v,shouldLogTimeSpent:P,stillLoading:S,videoPinProgress:w,viewParameter:l,viewType:r}),renderStoryPinSplitLayout:({page:e})=>(0,h.jsx)(A,{page:e}),renderStoryPinText:({blocks:e,onClickThrough:i,pageId:n,pinId:a})=>(0,h.jsx)(S,{blocks:e,clientTrackingParams:t,onClickThrough:i,pageId:n,pinId:a}),children:e})}function M({clientTrackingParams:e,children:t,isInStream:i,viewType:n,viewParameter:a}){return i?t:(0,h.jsx)(L.Z,{clientTrackingParams:e,component:85,view:n,viewParameter:a,children:t})}function Z({children:e,pin:t}){return e({productPins:(0,j.Z)({name:"StoryPinTaggedProductsResource",options:{id:t.id},noCache:!0}).data||[]})}function z({children:e,clientTrackingParams:t,closeupStoryPinViewability:i,pin:n,isInStream:a=!1,viewType:l,viewParameter:r}){let s=!!n.story_pin_data?.has_product_pins,o=({productPins:a})=>(0,h.jsx)(O,{clientTrackingParams:t,closeupStoryPinViewability:i,pin:n,productPins:a,viewParameter:r,viewType:l,children:e});return(0,h.jsx)(M,{clientTrackingParams:t,isInStream:a,viewParameter:r,viewType:l,children:s?(0,h.jsx)(Z,{pin:n,children:o}):o({productPins:[]})})}var N=i(219308),K=i(476943),B=i(95460),U=i(131714),V=i(158759),H=i(779561),G=i(740195),W=i(298568),$=i(616693),Y=i(349057),X=i(181710),q=i(174646),J=i(677316);function Q({appConfig:e}){let t=(0,c.ZP)(),i=(0,J.Z)(),{isRTL:a}=(0,q.B)();return(0,h.jsx)(n.Fragment,{children:(0,h.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{marginTop:16}},"data-test-id":"back-button",left:!a,paddingX:4,position:"absolute",right:a,top:!0,children:"authDesktop"===e.type&&(0,h.jsx)(l.hU,{accessibilityLabel:t._('Back button', 'storyPin.closeup.back', 'Button label to navigate to previous page'),bgColor:"transparent",icon:"directional-arrow-left",iconColor:"darkGray",onClick:()=>{i({action:"click",item:"back-button"}),e.onNavigateBack()},size:"lg"})})})}var ee=i(661319),et=i(436818),ei=i(772962),en=i(53634),ea=i(757686),el=i(823440),er=i(755090),es=i(606688),eo=i(460632),ed=i(14217),ec=i(670380);let eu=(0,n.lazy)(()=>i.e(3434).then(i.bind(i,254036))),ep=(0,n.lazy)(()=>Promise.resolve().then(i.bind(i,587650))),em=(0,n.lazy)(()=>i.e(43473).then(i.bind(i,16736))),eh=(0,n.lazy)(()=>Promise.all([i.e(97270),i.e(55783),i.e(78352),i.e(24859)]).then(i.bind(i,978352))),e_=(0,n.lazy)(()=>Promise.resolve().then(i.bind(i,900337))),eg={backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",borderRadius:"32px 32px 0 0"},ey={backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",borderRadius:"0 0 32px 32px",bottom:0},ef={backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",borderRadius:"32px 32px 0 0",paddingTop:"30px",top:0},ex=[5,6,2];function eb({appConfig:e,clientTrackingParams:t,isInFocus:i,isInStream:a=!1,isStreamMuted:o,isStreamPanelOpen:d=!0,pin:u,storyPinData:p,onIdeaPinCloseupCommentClick:m,setStreamIsMuted:_,streamItemIndex:g,togglePanel:y,variant:x,viewType:b=3,viewParameterType:v,onTogglePanel:P}){let S,w=(0,R.c)(),{peekCloseupEnabled:k,viewportSize:I}=(0,eo.x4)(),T=(0,c.ZP)(),A=(0,N.Z)(),C=(0,$.g)(),E=(0,W.A)(),{setIdeaPinActivePage:j,setIdeaPinDynamicWidth:L}=(0,ed.Ut)(),{activePage:F}=(0,ed.H8)(),{clearSeekTime:D}=(0,ea.RC)(),{seekTimes:O}=(0,ea.Hx)(),{closeupPaneWidth:M,headerHeight:Z,isLandingPage:z,renderStoryPinMediaLayout:U,renderStoryPinPage:q,renderStoryPinSplitLayout:J,renderStoryPinText:ec,productPins:eb}=w||{},{id:ev}=u,eP=O&&O[u.id],eS=!!p?.is_deleted,{pages:ew=[],metadata:ek={}}=p||{},{canvas_aspect_ratio:eI,version:eT}=ek,eA=eI??f.ap,eC={paddingLeft:"26px",bottom:0},[eE,ej]=(0,n.useState)(0),eR=(0,n.useRef)(0),eL=(0,n.useRef)(null),[eF,eD]=(0,n.useState)("closeup"===x&&i),[eO,eM]=(0,n.useState)(375),eZ="calc(100% - 32px)",ez=(0,n.useRef)(null),[eN,eK]=(0,n.useState)(!1),[eB,eU]=(0,n.useState)(!1),[eV,eH]=(0,n.useState)(!0);(0,n.useEffect)(()=>{P&&P(eV)},[eV,P]),(0,n.useEffect)(()=>{eH(d)},[d]);let{should_mute:eG=!0,music_attributions:eW=[]}=ew[eE],[e$,eY]=(0,n.useState)(z||eG),eX=void 0!==_?_:eY,eq=void 0!==o?o:e$;(0,n.useEffect)(()=>{eG&&eX(!0)},[eG,eX]);let eJ=ew.filter(e=>!ex.includes(e.layout)),eQ=eJ.length,e0=eJ[eE],e1=v||(0,G.Z)({hasPin:!!u,hasPinRichMetadata:!!u.rich_metadata,hasPinRichMetadataProducts:!!u.rich_metadata?.products,hasPinRichMetadataArticle:!!u.rich_metadata?.article,hasPinRichMetadataRecipe:!!u.rich_metadata?.recipe,hasPinStoryPinData:!!u.story_pin_data}),e2=Z+64,{getNormalizedPinImage:e3}=(0,H.Z)({pinKey:{type:"deprecated",data:u},maxWidth:K.Wm}),e6="closeup"===x,e4=()=>{if("undefined"!=typeof window){let e=window.innerWidth-(eV?M:0)-216;if(e6)eM(function({availableWidth:e,pageAspectRatio:t,unavailableHeight:i,windowInnerHeight:n}){let a=n-i,l=Math.min(Math.max(650,Math.min((n-i)*t,e)),1e3);return l/t>=a&&(l=a*t),l}({availableWidth:e,pageAspectRatio:eA,unavailableHeight:e2,windowInnerHeight:window.innerHeight}));else{let{width:e}=e3();eM(e),L(e)}}};(0,er.Z)(()=>(window.addEventListener("resize",e4),e4(),()=>{window.removeEventListener("resize",e4)}));let[e5,e8]=(0,n.useState)(!1),[e7,e9]=(0,n.useState)(null),[te,tt]=(0,n.useState)(!1);(0,n.useEffect)(()=>{!te&&i&&(A({event_type:7588,view_type:b,view_parameter:e1,component:13801,object_id_str:ev,aux_data:{..."number"==typeof g?{grid_index:g}:{}}}),tt(!0))},[te,i,A,ev,b,e1,g]);let ti=(0,n.useCallback)(e=>{let{blocks:t}=ew[e]||{},n=t?.find(e=>3===e.block_type);ez.current&&ez.current instanceof el.B7&&(ez.current.clear(),ez.current=null),!n&&i&&(ez.current=new el.B7(e=>{e9({currentTime:e<1?e:1,duration:1})},()=>{let t="closeup"===x?e:F;t<eQ-1?(ez.current&&ez.current instanceof el.B7&&(ez.current.clear(),ez.current=null),tl(t+1)):(eK(!0),eD(!1))},V.oN))},[i,eQ,ew,F,x]),tn=e=>{e9({currentTime:0,duration:1}),ti(e)};(0,n.useEffect)(()=>{eR.current=eE},[eE]),(0,n.useEffect)(()=>{eL.current=eF},[eF]),(0,er.Z)(()=>(tn(eE),()=>{ez.current&&ez.current instanceof el.B7&&eL.current&&ez.current.clear()}));let ta=e=>{E&&(E.abort("startNewPwt"),(0,Y.sX)("startStoryPinStepPwt")),C&&(C.abort("startNewPwt"),C.start(),C.addBinaryAnnotation("page.current.index",e,"I16"),C.addBinaryAnnotation("page.count",ew.length,"I16"),C.addBinaryAnnotation("view.type",b,"I32"),C.addBinaryAnnotation("view.parameter",e1,"I32"))};(0,er.Z)(()=>{E&&(E.addBinaryAnnotation("page.current.index",eE,"I16"),E.addBinaryAnnotation("page.count",ew.length,"I16"),E.addBinaryAnnotation("view.type",b,"I32"),E.addBinaryAnnotation("view.parameter",e1,"I32")),(0,Y.rt)("page.current.index",eE,"I16"),(0,Y.rt)("page.count",ew.length,"I16"),(0,Y.rt)("view.type",b,"I32"),(0,Y.rt)("view.parameter",e1,"I32")});let tl=e=>{eF||eD(!0),eN&&eK(!1),tn(e),e!==eE&&D(),ej(e),j(e),ta(e)};(0,n.useEffect)(()=>{if(eN&&eK(!1),ez.current&&eP){let e=ez.current;e.pause(),e.remaining=V.oN-eP*es.gJ,e9({currentTime:eP/V.P6,duration:1})}},[eP]),(0,n.useEffect)(()=>{j(F)},[j,F]),(0,n.useEffect)(()=>{"related-products"===x&&(ej(F),tl(F))},[F,x]);let tr=()=>eN?13799:0===eE?227:228,ts=()=>{eE<eQ-1&&(tl(eE+1),A({event_type:101,view_type:b,view_parameter:e1,component:tr(),element:12261,object_id_str:ev}))},to=e=>{let{keyCode:t,target:i}=e,n=!!i&&"isContentEditable"in i&&i.isContentEditable||!!i&&"contentEditable"in i&&"true"===i.contentEditable;37!==t||n?39!==t||n||ts():eE===eQ-1&&eN?(tl(eE),A({event_type:101,view_type:b,view_parameter:e1,component:tr(),element:12260,object_id_str:ev})):eE>0&&(tl(eE-1),A({event_type:101,view_type:b,view_parameter:e1,component:tr(),element:12260,object_id_str:ev}))};(0,n.useEffect)(()=>(document.addEventListener("keydown",to),()=>document.removeEventListener("keydown",to)),[eE]);let{fontsLoaded:td,mediaDataReceived:tc}=(0,en.tq)({hasPin:!!u,pages:ew}),tu=eT?(0,el.n4)(eT,"0.8.0"):null,tp=null!=tu&&tu>=0,tm=e=>{e===eQ-1&&(eK(!0),eD(!1),j(0)),e===eE&&ts()},th=e=>{e9({currentTime:e?.currentTime??0,duration:e?.duration??1})},t_=()=>{eU(!0),eD(!1),ez.current&&!ez.current.paused&&ez.current.pause()},tg=t=>ew[t]?tp?q({activePageIndex:eE,fontsLoaded:td,customEndCard:!0,isActive:t===eE&&eF,muteVideos:eq,onChangeMuteVideo:eX,onEnded:tm,onFlyoutOpen:t_,videoPinProgress:eE===t?e7:void 0,onUpdateVideoInfo:th,ownerId:u.native_creator?.id??"",page:ew[t],pageAspectRatio:eA,pageIndex:t,pageHeight:eO/eA,pageWidth:eO,pinId:u.id,productPins:eb,shouldLogTimeSpent:i,stillLoading:!tc}):(t=>{let i=0===t.layout;switch(t.layout){case 0:case 1:return U({activePageIndex:eE,hideText:i,isActive:!0,isCoverPage:i,muteVideos:eq,onClickThrough:e.onClickThrough,page:t,pageIndex:eE,pageWidth:eO,pinId:ev});case 4:return t.blocks.length>0&&ec({blocks:t.blocks,pageId:`text-${eE}`,page:t,pinId:ev,onClickThrough:e.onClickThrough});case 3:return J({page:t});default:return null}})(e0):null,ty=()=>{eD(!1),ez.current&&ez.current.pause(),A({event_type:9324,view_type:b,view_parameter:e1,component:tr(),object_id_str:ev,aux_data:{story_pin_page_id:eE}})},tf=()=>{if(eD(!0),ez.current){let e=ez.current;eP&&eP>0&&D(),e.resume()}else e7||tn(eE);A({event_type:9323,view_type:b,view_parameter:e1,component:tr(),object_id_str:ev,aux_data:{story_pin_page_id:eE}})},tx=()=>{eN||(eU(!1),eF?ty():tf())};(0,n.useEffect)(()=>{"closeup"===x&&(!i||eN||eF?!i&&eF&&ty():tf())},[i,x]),(0,n.useEffect)(()=>{"related-products"===x&&ty()},[]);let tb=()=>{tl(0)},{fiftyPercentWidth:tv,fiftyPercentHeight:tP}=(0,s.Re)(64),{maxHeight:tS}=(0,s.Re)(0,32),{fiftyPercentWidth:tw}=(0,s.Re)();return k&&(S="sm"===I?tP:tS),(0,h.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:e6?{top:Z,height:`calc(100vh - ${Z}px)`,position:"sticky",pointerEvents:"none",minHeight:632,maxHeight:k?S:void 0,zIndex:eV?"auto":3}:{}},display:"flex",left:!0,children:[(0,h.jsxs)(l.xu,{alignItems:"center",color:"default",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",minWidth:k&&"sm"!==I?tw:void 0}},display:"flex",flex:"grow",justifyContent:"center",position:"relative",children:[e6&&(0,h.jsx)(l.xu,{bottom:!0,color:"secondary",left:!0,position:"absolute",right:!0,top:!0}),eS?(0,h.jsx)(et.Z,{height:eO/f.ap,rounding:f.yR,width:eO}):(0,h.jsxs)(n.Fragment,{children:[tc&&(0,h.jsx)(l.xu,{height:1,left:!0,marginTop:-1,overflow:"hidden",position:"absolute",top:!0,width:1,children:(()=>{let e=[];for(let t=1;t<=ew.length;t+=1)eE+t<ew.length&&e.push(tg(eE+t));return e})()}),(0,h.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginLeft:e6?void 0:`${f.YL}px`}},display:"flex",onMouseLeave:()=>{e8(!1)},onMouseOver:()=>e8(!0),position:"relative",children:(0,h.jsxs)(l.xu,{paddingX:4,children:[(0,h.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...ey,flexDirection:"column-reverse"}},display:"flex",height:128,paddingX:6,position:"absolute",width:eZ,zIndex:f.Gf,children:(0,h.jsx)(ei.Z,{activePageIndex:eE,handleMute:()=>{eG||eX(!eq)},handlePanelChange:()=>{eH(!eV)},handlePause:ty,handlePausePlay:tx,handlePlay:tf,handleVideoScrubbingNewPage:e=>{eN&&eK(!1),tn(e),ej(e),j(e),ta(e)},handleWatchAgain:tb,inMilliseconds:!0,isMuted:eq,isPanelOpen:eV,isPlaying:eF,onPageSelect:e=>tl(e),pageCount:eQ,pages:eJ,pinId:u.id,progressInfo:e7,showEndCard:eN,showVideoControls:e5,viewParameter:e1})}),(0,h.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...!eV?eC:ef,marginBottom:eV?void 0:"88px",maxWidth:tv}},"data-test-id":"music-attribution",display:"flex",justifyContent:eV?"center":"start",overflow:"hidden",paddingY:eV?5:void 0,position:"absolute",width:eO,zIndex:f.Gf,children:(0,h.jsx)(r.Z,{handlePause:ty,handlePlay:tf,musicAttributions:eW,shouldMute:eG,showEndCard:eN})}),!eN&&!eV&&(0,h.jsxs)(l.xu,{alignItems:"start",dangerouslySetInlineStyle:{__style:eV?{}:eg},display:"flex",height:128,justifyContent:"between",padding:4,position:"absolute",top:!0,width:eZ,zIndex:f.Gf,children:[(0,h.jsxs)(l.kC,{alignItems:"stretch",direction:"row",children:[!eV&&(0,h.jsx)(B.Z,{name:"SafeSuspense_IdeaPinCloseup_IdeaPinSecondarySendButton",children:(0,h.jsx)(X.Z,{children:(0,h.jsx)(e_,{imageSrc:u.image_url??"",pinDescription:u.description??"",pinId:u.id})})}),!eV&&u.is_eligible_for_aggregated_comments&&(0,h.jsx)(B.Z,{name:"SafeSuspense_IdeaPinCloseup_CommentButton",children:(0,h.jsx)(X.Z,{children:(0,h.jsx)(eu,{onCommentClick:()=>{A({event_type:101,view_type:b,view_parameter:e1,component:13801,element:10944,object_id_str:u.id}),a&&y?y():eH(!0),m&&m();let e=document.getElementById(`canonical-card-${u.id}`);e&&e.scrollIntoView({behavior:"smooth",block:"end"})}})})}),!eV&&(0,h.jsx)(B.Z,{name:"SafeSuspense_IdeaPinCloseup_ReactionPickerContainer",children:(0,h.jsx)(X.Z,{children:(0,h.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"pointer-events-wrapper",children:(0,h.jsx)(eh,{clientTrackingParams:t,component:13801,iconColor:"white",pinId:u.id,reactionByMe:u.reaction_by_me,showTooltip:!0,viewParameter:e1,viewType:b})})})})]}),!eV&&(0,h.jsx)(B.Z,{name:"SafeSuspense_IdeaPinCloseup_PinSaveButton",children:(0,h.jsx)(X.Z,{children:(0,h.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"pointer-events-wrapper",children:(0,h.jsx)(em,{clientTrackingParams:t,isCloseupPin:!0,onClickCallback:()=>{A({event_type:101,view_type:b,view_parameter:e1,component:13801,element:0,object_id_str:u.id})},pinKey:{type:"deprecated",data:u},size:"lg"})})})})]}),(0,h.jsx)(l.xu,{"data-test-id":"story-pin-closeup-container",position:"relative",children:(0,h.jsx)(l.iP,{accessibilityLabel:eF?T._('Pause', 'storyPin.closeup.pauseButton.accessibilityLabel', 'Button label for pause tap area'):T._('Play', 'storyPin.closeup.playButton.accessibilityLabel', 'Button label for play tap area'),disabled:eN,onTap:tx,rounding:f.yR,children:(0,h.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{maxWidth:tv,maxHeight:S}},"data-test-id":"story-pin-closeup-page",height:eO/eA,overflow:"hidden",position:"relative",rounding:f.yR,width:eO,children:[tg(eE),!eN&&!eB&&!eP&&(0,h.jsx)(ee.Z,{playing:eF}),"authDesktop"===e.type&&eN&&u.native_creator&&(0,h.jsx)(B.Z,{name:"IdeaPinCloseup_EndCard",children:(0,h.jsx)(X.Z,{children:(0,h.jsx)(l.xu,{bottom:!0,left:!0,padding:4,position:"absolute",right:!0,rounding:f.yR,top:!0,zIndex:f.s5,children:(0,h.jsx)(ep,{clientTrackingParams:u.trackingParams||u.tracking_params,imageSrc:u.image_url??"",pinDescription:u.description??"",pinId:u.id,watchAgain:tb})})})})]})})})]})})]}),!a&&e6&&(0,h.jsx)(Q,{appConfig:e})]}),eV&&e6&&(0,h.jsx)(l.xu,{flex:"none",height:"100%",position:"relative",width:M,children:"duplo"===e.type&&e.storyPinDetails})]})}function ev(e){let{pin:t,viewType:i=3,viewParameterType:r}=e,[s,o]=(0,n.useState)({isInFocus:!0,viewability:0}),{isInFocus:d,viewability:c}=s,u=r||(0,G.Z)({hasPin:!!t,hasPinRichMetadata:!!t.rich_metadata,hasPinRichMetadataProducts:!!t.rich_metadata?.products,hasPinRichMetadataArticle:!!t.rich_metadata?.article,hasPinRichMetadataRecipe:!!t.rich_metadata?.recipe,hasPinStoryPinData:!!t.story_pin_data}),p=(0,a.TH)(),m=e.clientTrackingParams||(0,ec.Z)((p?.state||{}).trackingParams,t.trackingParams||t.tracking_params);return(0,h.jsx)($.T,{children:(0,h.jsx)(U.Z,{onVisibilityChange:e=>{if(e&&e.length>0){let{intersectionRatio:t}=e[0];o({isInFocus:t>.5,viewability:t})}},options:{threshold:[0,.5,.8,.99,1]},children:n=>(0,h.jsx)(l.xu,{ref:n,children:(0,h.jsx)(z,{clientTrackingParams:m,closeupStoryPinViewability:c,pin:t,viewParameter:u,viewType:i,children:d?(0,h.jsx)(L.Z,{clientTrackingParams:m,component:13801,objectId:t.id,view:i,viewParameter:u,children:(0,h.jsx)(eb,{...e,isInFocus:d})}):(0,h.jsx)(eb,{...e,isInFocus:d})})})})})}},661319:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var n=i(667294),a=i(20256),l=i(970601),r=i(581288),s=i(374534),o=i(785893);function d({playing:e,zIndexValue:t}){return(0,o.jsxs)(n.Fragment,{children:[(0,o.jsx)(l.Z,{unsafeCSS:"#story-pin-closeup-pause-play-overlay svg { filter: drop-shadow( 0px 0px 8px rgba(0,0,0,0.1));}"}),(0,o.jsx)(a.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},"data-test-id":"story-pin-closeup-pause-play-overlay",display:"flex",id:"story-pin-closeup-pause-play-overlay",justifyContent:"center",left:!0,opacity:.8,position:"absolute",right:!0,rounding:r.yR,top:!0,zIndex:t?new a.Ry(t):s.lt,children:!e&&(0,o.jsx)(a.JO,{accessibilityLabel:"Play",color:"light",icon:"play",size:48})})]})}},436818:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(20256),a=i(233846),l=i(785893);function r({height:e,isDenseView:t,rounding:i,width:r,color:s}){let o=(0,a.ZP)();return(0,l.jsx)(n.xu,{alignItems:"center",color:s||"default","data-test-id":"unavailable-pin",display:"flex",height:e,justifyContent:"center",overflow:"hidden",position:"relative",rounding:i,width:r,children:(0,l.jsxs)(n.kC,{alignItems:"center",direction:"column",children:[(0,l.jsx)(n.xu,{paddingY:t?2:4,children:(0,l.jsx)(n.JO,{accessibilityLabel:o._('Pin not available', 'story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:"default",icon:"alert",size:20})}),(0,l.jsx)(n.xv,{weight:"bold",children:o._('Unavailable', 'story-pin.Closeup.UnavailableIdeaPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),!t&&(0,l.jsx)(n.xu,{paddingY:1,children:(0,l.jsx)(n.xv,{children:o._('Removed by the creator', 'story-pin.Closeup.UnavailableIdeaPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})}},772962:(e,t,i)=>{"use strict";i.d(t,{Z:()=>x});var n=i(667294),a=i(20256),l=i(233846),r=i(158759),s=i(837029),o=i(581288),d=i(757686),c=i(112800),u=i(677316),p=i(538645),m=i(606688),h=i(422908),_=i(460632),g=i(785893);let y=()=>{},f=({accessibilityLabel:e,dataTestId:t,disable:i,handleTap:n,icon:l})=>(0,g.jsx)(a.xu,{"data-test-id":t,opacity:i?.5:void 0,children:(0,g.jsx)(a.iP,{disabled:i,onTap:n,children:(0,g.jsx)(a.JO,{accessibilityLabel:e,color:"light",icon:l,size:16})})});function x({activePageIndex:e,handlePanelChange:t,handlePlay:i,handlePause:x,handlePausePlay:b,handleMute:v,handleVideoScrubbingNewPage:P,handleWatchAgain:S,inMilliseconds:w,isPlaying:k,isMuted:I,isPanelOpen:T,pages:A,pageCount:C,pinId:E="",progressInfo:j,showEndCard:R,showVideoControls:L=!1,viewParameter:F,isStoryPin:D=!0,captionsUrl:O=""}){let M=(0,l.ZP)(),{currentTime:Z}=j||{},{seekTimes:z}=(0,d.Hx)(),{closeupWithinMasonryEnabled:N}=(0,_.x4)(),K=(0,h.H)(),B=(0,p.HG)(),{captionsEnabled:U}=K,V=(0,u.Z)(),H=A[e],{should_mute:G}=H||I,W=Object.keys(z).includes(E)&&z[E]?z[E]:Z,$=(0,n.useMemo)(()=>A.map(e=>{let t=e.blocks?.find(e=>3===e.block_type),i=t?.video?.video_list?.V_HLSV3_MOBILE?.duration||t?.video?.video_list?.V_720P?.duration;return i?{duration:i,isVideo:!0}:{duration:r.oN,isVideo:!1}}),[A]),Y=[{duration:j?.duration||0,isVideo:!0}],X=D?$:Y,q=(H&&H.blocks?.[0]||{}).video?.video_list?.V_HLSV3_MOBILE?.captions_urls,J=!1;(q&&0!==Object.keys(q).length||O)&&(J=!0);let Q=(0,n.useMemo)(()=>X.reduce((e,t)=>e+(t.duration||0),0)/(D?m.gJ:1),[X,D]),ee=(0,n.useMemo)(()=>X.filter((t,i)=>i<e).reduce((e,t)=>e+(t.duration||0),0)/m.gJ,[X,e]),et=X.length>0&&X[e]?.isVideo?Z??0:(Z??0)*5+(ee??0),ei=M._('Hide captions', 'gestalt.video.accessibilityHideCaptionsLabel', 'ARIA label for hide captions button'),en=M._('Show captions', 'gestalt.video.accessibilityShowCaptionsLabel', 'ARIA label for show captions button');return(0,g.jsxs)(a.xu,{alignContent:"evenly",alignItems:"baseline",dangerouslySetInlineStyle:{__style:{gap:"18.5px",pointerEvents:"auto"}},direction:"column",display:"flex",justifyContent:"between",width:"100%",children:[(0,g.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{opacity:L||!k?1:0,transition:"all .1s"}},direction:"row",display:"flex",justifyContent:"between",width:"99%",children:[(0,g.jsxs)(a.kC,{alignItems:"center",direction:"row",gap:5,children:[(0,g.jsx)(f,{accessibilityLabel:k?M._('Pause', 'closeup.IdeaPinVideo.Pause', 'Pause button on Idea Pin video'):M._('Play', 'closeup.IdeaPinVideo.Play', 'Play button on Idea Pin video'),dataTestId:`story-pin-closeup-${k?"pause":"play"}`,handleTap:R&&S?S:b,icon:k?"pause":"play"}),j&&(0,g.jsx)(a.iP,{children:(0,g.jsxs)(a.xu,{"aria-label":`${M._('Video duration', 'closeup.IdeaPinVideo.durationLabel', 'Screen reader label for video duration display')}: ${(0,o.Lc)(et)} of ${(0,o.Lc)(Q)}`,"data-test-id":"time-display",children:[(0,g.jsx)(a.xv,{align:"end",color:"inverse",inline:!0,overflow:"normal",size:"300",weight:"bold",children:`${(0,o.Lc)(et)}`})," ",(0,g.jsx)(a.xu,{display:"inlineBlock",opacity:.6,children:(0,g.jsx)(a.xv,{align:"end",color:"inverse",inline:!0,overflow:"normal",size:"300",weight:"bold",children:`/ ${(0,o.Lc)(Q)}`})})]})})]}),(0,g.jsxs)(a.kC,{direction:"row",gap:5,children:[J&&(0,g.jsx)(f,{accessibilityLabel:U?en:ei,dataTestId:`closed-captions-button-${U?"disable":"enable"}`,handleTap:()=>{let e=B?"desktop_pin_page":"mweb_pin_page";U?(0,c.My)(`${e}.closed_captions_button.toggle_off`):(0,c.My)(`${e}.closed_captions_button.toggle_on`),V({action:"click",item:"closed-captions-button"}),K.setCaptionsEnabled(!U)},icon:U?"captions":"captions-outline"}),(0,g.jsx)(f,{accessibilityLabel:I?M._('Unmute', 'closeup.IdeaPinVideo.unmute', 'Unmute button on Idea Pin video'):M._('Mute', 'closeup.IdeaPinVideo.mute', 'Mute button on Idea Pin video'),dataTestId:`story-pin-closeup-${I?"unmute":"mute"}`,disable:G,handleTap:v,icon:I?"mute":"sound"}),t&&!N&&(0,g.jsx)(f,{accessibilityLabel:T?M._('Maximize', 'closeup.IdeaPinVideo.maximize', 'Maximize button on Idea Pin video'):M._('Minimize', 'closeup.IdeaPinVideo.minimize', 'Minimize button on Idea Pin video'),dataTestId:`story-pin-closeup-${T?"maximize":"minimize"}`,handleTap:t||y,icon:T?"maximize":"minimize"})]})]}),(0,g.jsx)(s.ZP,{activePageCurrentTime:W,activePageIndex:e,duration:Q,handlePause:x,handlePlay:i,handleVideoScrubbingNewPage:P,inMilliseconds:w,isPlaying:k,pageCount:C,pageDurations:X,pinId:E,progressInfo:j,shouldShowPlayhead:!0,showEndCard:R,showVideoControls:L,videoDurations:X,viewParameter:F})]})}},837029:(e,t,i)=>{"use strict";i.d(t,{$E:()=>h,$:()=>_,ZP:()=>x});var n=i(667294),a=i(20256),l=i(219308),r=i(233846),s=i(158759),o=i(174646),d=i(785893);function c({pillHeight:e,scrubberWidth:t}){return(0,d.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:h}},display:"flex",flex:"grow",height:e,overflow:"hidden",rounding:"pill",children:(0,d.jsx)(a.xu,{color:_,dangerouslySetInlineStyle:{__style:{width:t}},"data-test-id":"video-progress-bar",height:"100%",rounding:"pill"})})}var u=i(757686),p=i(538645),m=i(606688);let h="rgba(255,255,255,0.24)",_="light",g=()=>{},y=({children:e,setHoveringChange:t,handleMouseDown:i,handleMouseLeave:n,handleTouchStart:l,playhead:s,isPlaying:o,showVideoControls:c})=>{let u=(0,r.ZP)(),m=!(0,p.HG)();return(0,d.jsx)(a.iP,{children:(0,d.jsx)(a.xu,{ref:s,alignItems:"center","aria-label":u._('Video scrubber progress bar', 'ideaPin.closeupvideo.videoScrubberLabel', 'Accessibility label for video scrubber progress bar on video idea pins.'),dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",touchAction:"none"}},"data-test-id":"bullet-video-progress-bar",display:"flex",flex:"grow",justifyContent:m?"center":"start",marginBottom:6*!m,minHeight:"8px",onFocus:t(!0),onMouseDown:i,onMouseLeave:n,onMouseOver:t(!0),onTouchEnd:e=>e.preventDefault(),onTouchStart:l,opacity:c||!o?1:0,paddingY:6*!!m,position:"relative",role:"progressbar",width:"100%",children:e})})},f=({isRTL:e,isSeeking:t,scrubberWidth:i})=>(0,d.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:e?{right:i}:{left:i}},"data-test-id":"video-progress-bar-playhead",position:"relative",children:(0,d.jsx)(a.xu,{color:_,height:4,position:"absolute",rounding:"pill",children:(0,d.jsx)(a.xu,{color:"light",dangerouslySetInlineStyle:{__style:{marginTop:t?-8:-6}},height:t?16:12,marginStart:-2,rounding:"circle",width:t?16:12})})});function x({activePageIndex:e,activePageCurrentTime:t,pageCount:i,progressInfo:r,showEndCard:h,duration:x=0,pageDurations:b=[],handlePlay:v=g,handlePause:P=g,handleVideoScrubbingNewPage:S=g,inMilliseconds:w,videoDurations:k=[],viewParameter:I,isInactiveStreamPin:T=!1,isPlaying:A=!1,setVideoProgress:C,shouldShowPlayhead:E=!1,showVideoControls:j=!0,pinId:R=""}){let L=!(0,p.HG)(),F=(0,n.useRef)(null),{isAuthenticated:D,isRTL:O}=(0,o.B)(),[M,Z]=(0,n.useState)(!1),[z,N]=(0,n.useState)(A),[K,B]=(0,n.useState)(),U=(0,l.Z)(),[V,H]=(0,n.useState)(!1),{clearSeekTime:G,updateSeekTime:W}=(0,u.RC)(),$=(0,n.useCallback)((t,n)=>{if(!T&&n<=i){if(n!==e&&S(n),C){let{isVideo:e}=k[n];C({currentTime:t/1e3,duration:e?r?.duration??1:r?.duration??5,pinId:R})}W(t/1e3,R)}U({event_type:101,view_type:3,view_parameter:I,component:14302})},[e,S,T,U,i,R,r?.duration,C,W,k,I]),Y=b.map(e=>`${(e.duration||0)/x/10}%`),X=(0,n.useMemo)(()=>{let e=0;return b.map(({duration:t})=>{let i=t+e,n={min:e,max:i};return e=i,n})},[b]),q=M?"0 1.2px":"0 1px",J=e=>()=>Z(e),Q=(0,n.useCallback)(e=>{if(!F.current)return;let{left:t=0,right:i=0,width:n=0}=F.current.getBoundingClientRect(),a=(O?Math.max(0,Math.min((i-e)/n,1)):Math.max(0,Math.min((e-t)/n,1)))*x*1e3,l=X.findIndex(e=>a>=e.min&&a<=e.max),r=-1===l?0:l;$(a-X[r].min,r)},[x,$,X,O]),ee=(0,n.useCallback)(()=>{V||N(A||h),H(!0)},[V,N,A,h]),et=(0,n.useCallback)(e=>{ee(),A&&P(),Q(e.pageX)},[ee,A,P,Q]),ei=(0,n.useCallback)(e=>{V&&Q(e.pageX)},[Q,V]),en=(0,n.useCallback)(e=>{if(V){e.preventDefault();let t=Array.from(e.changedTouches).find(e=>e.identifier===K);t&&Q(t.pageX)}},[V,Q,K]),ea=(0,n.useCallback)(()=>{J(!1),B(void 0),H(!1),D||G(),z&&v()},[G,v,D,z]),el=(0,n.useCallback)(e=>{Array.from(e.changedTouches).find(e=>e.identifier===K)&&(J(!1),B(void 0),H(!1),G()),z&&v()},[G,v,z,K]);return(0,n.useEffect)(()=>(V&&!T&&(window.addEventListener("mousemove",ei),window.addEventListener("mouseup",ea),window.addEventListener("touchmove",en),window.addEventListener("touchend",el)),()=>{window.removeEventListener("mousemove",ei),window.removeEventListener("mouseup",ea),window.removeEventListener("touchmove",en),window.removeEventListener("touchend",el)}),[ei,ea,el,en,T,V,Q,z,K]),(0,d.jsx)(y,{handleMouseDown:et,handleMouseLeave:()=>{J(!1)},handleTouchStart:e=>{ee(),J(!0);let t=e.changedTouches[0];B(t.identifier),A&&P(),Q(t.pageX)},isPlaying:A,playhead:F,setHoveringChange:J,showVideoControls:j,children:Array(i).fill(void 0).map((n,l)=>{let o=r?.currentTime??0,u=r?.duration??s.P6,p=k[l],g=`${p?.isVideo&&w?Math.floor(1e4*(t??o)/(p.duration/m.gJ))/100:o/u*100}%`;return(0,d.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{margin:q}},flex:"grow",width:Y.length===i?Y[l]:"auto",children:(0,d.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transition:"all .1s"}},"data-test-id":"idea-pin-video-progress-bar",rounding:"pill",children:l<e||h?(0,d.jsx)(a.xu,{color:_,height:4,rounding:"pill"}):e===l&&r?(0,d.jsxs)(a.kC,{alignItems:"center",flex:"grow",children:[E&&(j||M||V||L)&&(0,d.jsx)(f,{isRTL:O,isSeeking:V,scrubberWidth:g}),(0,d.jsx)(c,{pillHeight:4,scrubberWidth:g})]}):(0,d.jsx)(a.xu,{color:_,dangerouslySetInlineStyle:{__style:{opacity:.24}},height:4,rounding:"pill"})})},`${R}-${l}`)})})}},757686:(e,t,i)=>{"use strict";i.d(t,{Wr:()=>u,Hx:()=>m,RC:()=>p});var n=i(667294),a=i(218291),l=i(672054),r=i(717534),s=i(785893);let o=()=>Promise.resolve().then(i.bind(i,672054)),{Provider:d,get:c}=(0,a.Z)("IdeaPinVideoPlayer");function u({children:e}){let[t,i]=(0,r.Z)(o,l.initialState),a=(0,n.useMemo)(()=>({dispatch:i,ideaPinVideoPlayerControls:t}),[i,t]);return(0,s.jsx)(d,{value:a,children:e})}function p(){let{dispatch:e}=c();return(0,n.useMemo)(()=>({updateSeekTime:(t,i)=>{e({type:"UPDATE_SEEK_TIME",payload:{seekTime:t,pinId:i||""}})},clearSeekTime:t=>{e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0,pinId:t||""}})}}),[e])}function m(){let{ideaPinVideoPlayerControls:e}=c();return e}},672054:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a,initialState:()=>n});let n={seekTimes:{},currentProgressInfo:{currentTime:0,duration:0}};function a(e=n,t){switch(t.type){case"UPDATE_SEEK_TIME":return{...e,seekTimes:{...e.seekTimes,[t.payload.pinId]:t.payload.seekTime}};case"CLEAR_SEEK_TIME":return{...e,seekTimes:{}};default:return e}}},891022:(e,t,i)=>{"use strict";i.d(t,{c:()=>s,o:()=>r});var n=i(667294),a=i(785893);let l=(0,n.createContext)(null);function r({children:e,closeupPaneWidth:t,headerHeight:i,isLandingPage:r,loadFonts:s,renderStoryPinMediaLayout:o,renderStoryPinSplitLayout:d,renderStoryPinText:c,renderStoryPinPage:u,productPins:p}){let m=(0,n.useMemo)(()=>({closeupPaneWidth:t,headerHeight:i,isLandingPage:r,loadFonts:s,renderStoryPinMediaLayout:o,renderStoryPinSplitLayout:d,renderStoryPinText:c,renderStoryPinPage:u,productPins:p}),[t,i,r,s,o,d,c,u,p]);return(0,a.jsx)(l,{value:m,children:e})}let s=()=>(0,n.useContext)(l)},581288:(e,t,i)=>{"use strict";i.d(t,{Cc:()=>m,DL:()=>d,Gf:()=>g,LX:()=>a,Lc:()=>y,Ls:()=>h,Rf:()=>o,YL:()=>s,ap:()=>l,h8:()=>u,pE:()=>c,s5:()=>_,tQ:()=>p,yR:()=>r});var n=i(20256);let a={w:9,h:16},l=a.w/a.h,r=8,s=10,o=5e3,d=2e3;function c(e,t=1){return{x:(e??24)/5,y:(e??24)*(t-1)}}let u={COMMENT_REPLY_STICKER:"story_pin_comment_reply_block",GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},p=[u.IMAGE,u.VIDEO],m={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1,font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28},h=new n.Ry(1),_=new n.H3([h]),g=new n.H3([_]),y=e=>{let t=Math.floor(e||0),i=Math.floor(t/60),n=t-60*i,a=i<10?`${i}`:i,l=n<10?`0${n}`:n;return`${a}:${l}`}},53634:(e,t,i)=>{"use strict";i.d(t,{BN:()=>c,RK:()=>d,d3:()=>p,tq:()=>m,xm:()=>u});var n=i(667294),a=i(369464),l=i(581288),r=i(823440),s=i(755090);let o=(e,t)=>{let i=(0,l.pE)(e,t);return`${i.y}px ${i.x}px`},d=({alignment:e,verticalAlignment:t})=>{let i={alignItems:"flex-start",display:"flex",height:"100%",justifyContent:"start",textAlign:"left",width:"100%"};return 1===t?i.alignItems="center":2===t&&(i.alignItems="flex-end"),1===e&&(i.justifyContent="center",i.textAlign="center"),i},c=({fontSize:e,hexColor:t,highlightColor:i,letterSpacing:n,lineHeight:a,name:l})=>({fontSize:e,letterSpacing:n,color:t,fontFamily:l,margin:0,maxHeight:"100%",textShadow:!i&&t&&"#ffffff"===t.toLowerCase()?"0px 1px 4px rgba(0, 0, 0, 0.2)":void 0,wordBreak:"break-word",...i?{backgroundColor:i,borderRadius:e/5,padding:o(e,a)}:{}}),u=({fontSize:e,hasText:t,highlightColor:i,lineHeight:n})=>({...i?{backgroundColor:t?i:void 0,borderRadius:e/5,padding:o(e,n)}:{}}),p=({letterSpacing:e,lineHeight:t,name:i,url:n})=>({fontFamily:i,fontGroup:"",fontOverrides:{letterSpacing:e,lineHeight:t,textTransform:!1},format:"truetype",defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"normal",fontUrl:n}]}),m=({hasPin:e,pages:t,limitToSingleFont:i})=>{let[o,d]=(0,n.useState)(!1),[c,u]=(0,n.useState)(()=>!!e&&(0,r.X7)(t)),m=()=>{let e=t.reduce((e,t)=>{let n=t?.blocks?.filter(e=>[l.h8.PARAGRAPH,l.h8.HEADING].includes(e.type))||[];return i&&n.length>1&&(n=[n[0]]),n.forEach(t=>{let i=t.style?.font||l.Cc.font,{name:n=""}=i;e[n]||(e[n]=i)}),e},{});if(Object.keys(e).length>0){let t=Object.keys(e).map(t=>{let i=e[t];return p({letterSpacing:i.letter_spacing,lineHeight:i.line_height,name:i.name,url:i.url})});(0,a.Z)(t),d(!0)}};return(0,s.Z)(()=>{m()}),(0,s.Z)(()=>{c||m()}),(0,n.useEffect)(()=>{c||u((0,r.X7)(t))},[c,t]),{fontsLoaded:o,mediaDataReceived:c}}},228372:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(491013);let a=/\{\s*(\w+)\s*\}/g;function l({args:e,format:t}){let i,l=(e||[]).reduce((e,t,i)=>({...e,[i]:t.text}),{});return i=t||"",(0,n.Z)(a,i,l)}},693687:(e,t,i)=>{"use strict";i.d(t,{J:()=>n,Z:()=>a});let n=-1;function a(e){switch(e){case n:return null;case 0:return"shopping-bag";case 1:return"tag";case 9:return"history";default:return"search"}}},259152:(e,t,i)=>{"use strict";function n({currentTime:e,endTime:t,startTime:i}){return"number"!=typeof i||"number"!=typeof t||!(i>=0)||!(t>0)||!(i<t)||i<=e&&e<=t}i.d(t,{Z:()=>n})},823440:(e,t,i)=>{"use strict";i.d(t,{B7:()=>r,X7:()=>s,n4:()=>l});var n=i(581288);function a(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let l=(e,t)=>{let i=/^\d{1,3}\.\d{1,3}(?:\.\d{1,6})?$/;if(!e?.match(i)||!t?.match(i))return null;let n=e?.split("."),a=t?.split("."),l=Math.max((n??"").length,(a??"").length);for(let e=0;e<l;e+=1){let t=e<(n?.length??0)?parseInt(n?.[e]??"",10):0,i=e<(a?.length??0)?parseInt(a?.[e]??"",10):0;if(t<i)return -1;if(t>i)return 1}return 0};class r{constructor(e,t,i){if(a(this,"start",Date.now()),a(this,"paused",!1),this.onProgress=e,this.onComplete=t,this.duration=i,this.remaining=i,"undefined"==typeof window)return;this.intervalId=window.setInterval(()=>{let e=this.paused?this.duration-this.remaining:this.duration-this.remaining+(Date.now()-this.start);this.onProgress(e/this.duration)},500),this.resume()}currentTime(){return this.duration-this.remaining}pause(){this.paused=!0,window.clearTimeout(this.timerId),this.remaining-=Date.now()-this.start;let e=this.duration-this.remaining;this.onProgress(e/this.duration)}resume(){this.paused=!1,this.start=Date.now(),window.clearTimeout(this.timerId),this.timerId=window.setTimeout(this.onComplete,this.remaining)}clear(){window.clearTimeout(this.timerId),window.clearInterval(this.intervalId)}}let s=e=>e.some(e=>(e?.blocks??[]).some(e=>e.type===n.h8.IMAGE&&!!e.image||e.type===n.h8.VIDEO&&(!!e.video||!!e.video_signature)))},257159:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(491013);let a=/\{\{\s*(\w+)\s*\}\}/g,l=(e,t)=>(0,n.Z)(a,e,t)},957899:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},491013:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=(e,t,i)=>t?t.replace(e,(e,t)=>i&&Object.prototype.hasOwnProperty.call(i,t)?i[t]:""):""},121006:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(257159),a=i(957899);let l=(e,t)=>{let i={};return Object.keys(t).forEach(e=>{i[e]=t[e]?(0,a.Z)(t[e].toString()):""}),(0,n.Z)(e,i)}},438711:(e,t,i)=>{"use strict";i.d(t,{ZP:()=>a,mP:()=>n});let n="";function a(e,t=80,i=n,l=!1){let r;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||l)r=e.substring(0,t);else{let i=e.lastIndexOf(" ",t);r=e.substring(0,i)}return(r=r.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+i}},697591:(e,t,i)=>{"use strict";function n(e,t){let i=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>|<!--[\s\S]*/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(e,t)=>i.indexOf("<"+t.toLowerCase()+">")>-1?e:"")}i.d(t,{Z:()=>a,o:()=>n});let a=e=>e.replace(/(<([^>]+)>)/gi,"")},477565:(e,t,i)=>{"use strict";function n(e){return e.replace(/[_.-](\w|$)/g,(e,t)=>t.toUpperCase())}i.d(t,{Z:()=>n})},5112:(e,t,i)=>{"use strict";i.d(t,{Z:()=>y});var n=i(667294),a=i(20256),l=i(468318),r=i(131714),s=i(174646),o=i(136388),d=i(390124),c=i(726462),u=i(55665),p=i(903683),m=i(785893);function h(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class _ extends n.Component{constructor(e){super(e),h(this,"componentWillUnmount",()=>{this.unregisterComponent()}),h(this,"getContext",()=>{let{clientTrackingParams:e,component:t,element:i,objectId:n,timeSpentContext:a,view:l,viewParameter:r}=this.props;return{view:l||a?.view,viewParameter:r||a?.viewParameter,component:t||a?.component,element:i,objectId:n||a?.objectId,clientTrackingParams:e||a?.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),h(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),h(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){let t=e.getGrandparentUuid();if(t)return t}return e?.getParentUuid?.()}),h(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),h(this,"getTimedPair",()=>this.state.timedPair),h(this,"setTimedPair",(e,t)=>{this.setState({timedPair:e},()=>{t&&t()})}),h(this,"isRegistered",!1),h(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),h(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),h(this,"handleVisibilityChange",e=>{let{intersectionRatio:t}=e[0],{bottom:i,left:n,right:a,top:l}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===i&&0===n&&0===a&&0===l?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new c.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,o.Z)(e.auxData,this.props.auxData)&&(0,o.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e,intersectionObserverBoxHeight:t}=this.props;return(0,m.jsx)(u.$,{value:this.getContext(),children:(0,m.jsx)(r.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:i=>(0,m.jsx)(a.xu,{ref:i,height:t??"100%",children:n.Children.only(e)})})})}}function g(e){let t=(0,l.ou)(),i=(0,u.a)(),a=(0,d.Z)(),r=(0,p.EQ)(),{requestIdentifier:o=""}=(0,s.B)(),c={app_instance_id:o.slice(0,8),...e.auxData??{}};return(0,n.useEffect)(()=>{a?.setHistoryStackContext(t)},[t,a]),(0,n.useEffect)(()=>{a?.setPins(r??{})},[r,a]),a?(0,m.jsx)(_,{...e,auxData:c,timeSpentContext:i,timeSpentManager:a,children:e.children}):e.children}g.displayName="DeprecatedTimeSpent";let y=g},55665:(e,t,i)=>{"use strict";i.d(t,{$:()=>n,a:()=>a});let{Provider:n,getMaybe:a}=(0,i(218291).Z)("timeSpentContext")},726462:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s,h:()=>r});var n=i(172045),a=i(17314);function l(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let r="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor((window.performance.timeOrigin+window.performance.now())*1e6):()=>1e6*Date.now(),s=class{constructor(e){l(this,"start",()=>(this.startTime=r(),this.startTime)),l(this,"end",()=>(this.endTime=r(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration));try{this.uuid=(0,n.Z)()}catch(e){this.uuid=(0,a.Z)()}e&&Object.assign(this,e)}}},916627:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var n=i(667294),a=i(20256),l=i(475110),r=i(233846),s=i(174646),o=i(460632),d=i(785893);let c=({onClick:e,showShadow:t,size:i="lg",onMouseEnter:l})=>{let s=(0,r.ZP)();return(0,d.jsx)(n.Fragment,{children:(0,d.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{animation:t?"showShadow 1s cubic-bezier(0.165, 0.84, 0.44, 1) forwards":"hideShadow 1s cubic-bezier(0.165, 0.84, 0.44, 1) forwards"}},onMouseEnter:l,rounding:"circle",children:(0,d.jsx)(a.hU,{accessibilityLabel:s._('Back', 'backButton.accessibilityLabel', 'Accessibility label for the button to navigate back to the previous page'),bgColor:"white",dataTestId:"back-icon-button",icon:"directional-arrow-left",iconColor:"darkGray",onClick:e,size:i})},"back-button-icon")})};function u({handleScroll:e,marginTop:t,onClick:i,showShadow:r,onMouseEnter:u}){let{closeupWithinMasonryEnabled:p,showProductDetailPage:m}=(0,o.x4)(),{isRTL:h}=(0,s.B)(),_=(0,l.Z)({showProductDetailPage:m});return(0,n.useEffect)(()=>e?(window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)):()=>{},[e]),(0,d.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...h?{right:0}:{left:p?0:-12}}},"data-test-id":"back-button",display:"flex",paddingX:4*!p,position:"relative",children:(0,d.jsx)(c,{marginTop:t,onClick:i,onMouseEnter:u,showShadow:r,size:p&&!_?"xl":"lg"})})}},819265:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(20256),a=i(785893);function l({ariaHidden:e=!1,color:t,size:i}){return(0,a.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,a.jsx)(n.xv,{color:t,inline:!0,size:i??"200",children:""})})}},666717:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(667294),a=i(20256),l=i(819265),r=i(785893);function s(e){return null!=e}function o({additionalPadding:e,color:t,inline:i,items:o}){let d=e?(0,r.jsx)("span",{style:{padding:`0 ${4*e}px`},children:(0,r.jsx)(l.Z,{color:t})}):(0,r.jsx)(l.Z,{color:t}),c=o.filter(s).reduce((e,t,i)=>[...e,0!==i?d:null,t],[]).filter(s).map((e,t)=>(0,r.jsx)(n.Fragment,{children:e},t));return 0===c.length?null:i?(0,r.jsx)(a.xu,{children:c}):(0,r.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:c})}},565194:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var n=i(20256),a=i(19963),l=i(233846),r=i(51340),s=i(526319),o=i(785893);function d({closeupLinkEnabled:e,nativeCreatorCloseupLinkEligible:t,peekCloseupEnabled:i,uriComponent:d}){let c=(0,l.ZP)(),{logContextEvent:u}=(0,a.u)();return t&&e&&d?(0,o.jsx)(n.xv,{align:"start",size:i?"200":"300",children:(0,r.nk)(c._('See original post on {{ instagramLink }}', 'closeup.defaultMetadata.instagramLink', 'instagramLink: Link to the original Instagram post where the text of the link reads \u2019Instagram\u2019'),{instagramLink:(0,o.jsx)(n.xv,{color:"link",inline:!0,children:(0,o.jsx)(n.rU,{display:"inline",externalLinkIcon:"default",href:(0,s.Z)(d)??d,onClick:()=>{u({event_type:102,element:16198,component:135,aux_data:{is_claimed_domain:t}})},underline:"none",children:c._('Instagram', 'closeup.defaultMetadata.instagramLink-linkText', 'Instagram')})})})}):null}},339908:(e,t,i)=>{"use strict";i.d(t,{Zo:()=>n,dI:()=>a});let{Provider:n,get:a}=(0,i(218291).Z)("toastManagerContext")},34632:(e,t,i)=>{"use strict";i.d(t,{$S:()=>p,AS:()=>r,BF:()=>T,Bi:()=>_,C5:()=>A,F8:()=>z,FV:()=>D,G5:()=>E,Gh:()=>s,HK:()=>u,Hm:()=>L,Ik:()=>g,KP:()=>K,LL:()=>F,Li:()=>k,OU:()=>n,P9:()=>m,Pp:()=>h,QA:()=>C,QG:()=>j,WE:()=>M,Yc:()=>B,Zr:()=>x,_T:()=>P,b9:()=>R,by:()=>d,dn:()=>S,gH:()=>v,it:()=>b,kd:()=>f,mM:()=>I,mX:()=>o,os:()=>l,pp:()=>a,qT:()=>c,rA:()=>y,tW:()=>Z,v2:()=>N,vY:()=>w,xY:()=>O});let n="SET_UPSELL_REASON",a="UPS_EVENT_PIN_VIEW",l="NAVIGATIONAL_MODAL_VIEWED",r="UPS_EVENT_PIN_SAVE",s="UPS_EVENT_DESKTOP_MODAL_DISMISSED",o="CLICK_CLOSE_UP_CONTEXT_MENU_SAVE_BUTTON",d="CLICK_CLOSE_UP_CONTEXT_MENU_DOWNLOAD_BUTTON",c="TRIGGER_SCROLL_DOWN_UPSELL",u="CLEAR_SCROLL_DOWN_UPSELL",p="CLICK_CLOSEUP_UPSELL",m="CLICK_CONTEXT_MENU_SAVE_BUTTON_UPSELL",h="CLICK_CONTEXT_MENU_DOWNLOAD_BUTTON_UPSELL",_="CLICK_FOLLOW_BUTTON_UPSELL",g="CLICK_FOLLOWING_BUTTON_UPSELL",y="CLICK_FOLLOWERS_BUTTON_UPSELL",f="CLICK_COMMENT_COMPOSER_UPSELL",x="CLICK_PIN_LINK_UPSELL",b="CLICK_RELATED_PIN_OPEN_LINK_UPSELL",v="RECORD_NAVIGATIONAL_PAGE",P="NAVIGATIONAL_MODAL_PAGES_SEEN",S="RESET_UPSELL_TRIGGER_STATE",w=e=>({type:n,payload:{upsellReason:e}}),k=(e,t)=>({type:a,payload:{pinId:e,seoUrl:t}}),I=()=>({type:l}),T=(e,t)=>({type:r,payload:{pinId:e,attributionLabel:t}}),A=()=>({type:s}),C=()=>({type:p}),E=e=>({type:m,payload:{pinId:e}}),j=e=>({type:h,payload:{pinId:e}}),R=(e,t)=>({type:_,payload:{isIdeaPin:e,desktopOptions:t}}),L=(e,t)=>({type:o,payload:{pinId:e,attributionLabelSource:t}}),F=(e,t)=>({type:d,payload:{pinId:e,attributionLabelSource:t}}),D=()=>({type:g}),O=()=>({type:y}),M=()=>({type:f}),Z=e=>({type:x,payload:{count:e}}),z=()=>({type:b}),N=(e,t)=>({type:v,payload:{pageUniqueKey:e,containerPage:t}}),K=()=>({type:P}),B=e=>({type:S,payload:{triggerKey:e}})},122702:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=(e,t)=>{let i=new URL(e,"https://pinterest.com");return i.search=new URLSearchParams(t).toString(),i.toString().substring(i.origin.length)}},137130:(e,t,i)=>{"use strict";i.d(t,{AO:()=>h,Ag:()=>l,C0:()=>o,L1:()=>p,Vi:()=>r,Wm:()=>_,YD:()=>u,kS:()=>a,oo:()=>s,p3:()=>m,vC:()=>d,vI:()=>c});var n=i(607491);let a="https://www.pinterest.com/business/hub/",l="https://www.pinterest.com/homefeed/",r="www.pinterest.com",s="https://www.pinterest.com/_/_/help",o=`${(0,n.Z)({site:"www"})}`,d=(0,n.Z)({site:"developers"}),c=`${(0,n.Z)({site:"sterling"})}`,u=`${(0,n.Z)({site:"analytics"})}`,p=`${(0,n.Z)({site:"trends"})}`,m=`${(0,n.Z)({site:"www",path:"/business/catalogs/?advertiserId="})}`,h=`${(0,n.Z)({site:"business"})}`,_="https://www.pinterest.com/_/_/policy"},978692:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(32526);let a=({url:e})=>{if(e){let t=e.split("?");if(t[1])return(0,n.Z)(t[1])}return(0,n.Z)()}},859930:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(600009);let a=({url:e})=>{let t=(0,n.Z)("/");return 0===e.lastIndexOf(t,0)?e.substr(t.length-1):e}},79646:(e,t,i)=>{"use strict";function n(e){if((e||"").includes("--")){let t=e.split("--"),i=t.pop();return{text:t.join("--"),pinId:i}}return{text:"",pinId:e}}i.d(t,{Z:()=>n})},526319:(e,t,i)=>{"use strict";function n(e){try{return decodeURIComponent(e)}catch{return null}}i.d(t,{Z:()=>n})},538645:(e,t,i)=>{"use strict";i.d(t,{HG:()=>u,Kf:()=>r,Wb:()=>c,ZP:()=>p,dA:()=>s,ds:()=>o,ml:()=>d});var n=i(174504),a=i(174646);let l=()=>{let e=(0,a.B)();return(0,n.Z)(e)},r=e=>"phone"===e,s=e=>"tablet"===e,o=e=>"desktop"===e,d=()=>r(l()),c=()=>s(l()),u=()=>o(l()),p=l},717534:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(667294);function a(e,t){let i=(0,n.useRef)([]),[a,l]=(0,n.useState)(),[r,s]=(0,n.useReducer)(a??(()=>t),t),o=(0,n.useCallback)(t=>{a?s(t):(i.current.length||e().then(e=>{l(()=>e.default)}),i.current=[...i.current,t])},[e,a]);return(0,n.useEffect)(()=>{a&&(i.current.forEach(s),i.current=[])},[a]),[r,o]}},755090:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(667294);let a=e=>{(0,n.useEffect)(e,[])}},791276:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(667294),a=i(361351);function l(e){let[t,i]=(0,n.useState)(null);return(0,n.useEffect)(()=>{!async function(){i(await (0,a.Z)(e))}()},[e]),t}},492604:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(545007);let a=[1000069,1000075],l={};function r(){var e;return e=(0,n.v9)(({experiences:e})=>e),a.forEach(t=>{e[t]&&(void 0===l[t]||l[t].id!==e[t].id)&&(l[t]=e[t])}),l}},663727:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(667294);let a=e=>{let t=(0,n.useRef)(null);return(0,n.useEffect)(()=>{t.current=e},[e]),t.current}},362827:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(667294),a=i(182997),l=i(169650);let r=(e="throttle")=>{let[t,i]=(0,n.useState)(0);return(0,n.useEffect)(()=>{let t="throttle"===e?(0,l.Z)(()=>i(window.scrollY),10):(0,a.Z)(()=>i(window.scrollY),10);return window.addEventListener("scroll",t),()=>{window.removeEventListener("scroll",t)}},[e]),t}},958659:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(20256),a=i(346754),l=i(785893);function r({onVisibilityChanged:e,children:t,...i}){let r=(0,a.Z)({onVisibilityChanged:e,...i});return(0,l.jsx)(n.xu,{ref:r,children:t})}},346754:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(667294);let a=new Map,l=null,r=e=>{e.forEach(e=>{let t=a.get(e.target);t&&t(e)})};function s({onVisibilityChanged:e,trackFullVisible:t,rootMargin:i}){let s=(0,n.useRef)(null),o=!1,d=()=>{let t;s.current instanceof HTMLElement&&(t=s.current,a.has(t))&&o&&(e(!1),o=!1)},c=(0,n.useCallback)(i=>{s.current instanceof HTMLElement&&((e,t="-64px 0px 0px 0px",i)=>{let n={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};l=l||new window.IntersectionObserver(r,n),a.set(e,i),l.observe(e)})(s.current,i,i=>{if(!a.has(s.current))return;let n=t?i.intersectionRatio>=1:i.intersectionRatio>=.5,l=t?0===i.intersectionRatio:!n;if(!o&&n)(o=i.intersectionRatio>0||i.isIntersecting)&&e(!0);else o&&l&&d()})},[s.current]);return(0,n.useEffect)(()=>(c(i),()=>{if(s.current instanceof HTMLElement){var e;d(),e=s.current,l.unobserve(e),a.delete(e)}}),[c]),s}},821580:(e,t,i)=>{"use strict";i.d(t,{GW:()=>a,RL:()=>n,s4:()=>l});let n="ios",a="android",l="ipad"},422908:(e,t,i)=>{"use strict";i.d(t,{H:()=>d,W:()=>c});var n=i(667294),a=i(19963),l=i(218291),r=i(967312),s=i(785893);let{Provider:o,get:d}=(0,l.Z)("VideoPlayer");function c({children:e}){let{logContextEvent:t,logImpression:i}=(0,a.u)(),{checkExperiment:l}=(0,r.r)(),[d,c]=(0,n.useState)(!1),[u,p]=(0,n.useState)([]),[m,h]=(0,n.useState)([]),[_,g]=(0,n.useState)({}),y=l("web_ads_mrc_video_impression").anyEnabled,f=e=>{g(t=>({...t,[e]:!0}))},x=(0,n.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],i=JSON.stringify(e.aux_data?.commerce_data||"").includes("story_pin_id");y&&(t||i)&&p(t=>[...t,e].slice(-1e3))}},[y]),b=(0,n.useCallback)(e=>{18===e.eventType&&y&&h(t=>[...t,e].slice(-1e3))},[y]);(0,n.useEffect)(()=>{let e=u.filter(e=>{let{pinIdStr:i}=e.event_data.pinImpressions[0];return!_[i]||!y||(t((e=>{let{time:t}=e.event_data.pinImpressions[0];return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:t,renderDuration:0}]}}})(e)),!1)});e.length!==u.length&&p(e)},[u,y,t,_]),(0,n.useEffect)(()=>{let e=m.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;if(_[t]&&y){let t=(e=>{if(e.eventData){let{time:t}=e.eventData;return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:t??0}}}return null})(e);return t&&i(t),!1}return!0});e.length!==m.length&&h(e)},[m,y,i,_]);let v=(0,n.useMemo)(()=>({captionsEnabled:d,logMrcVideoAdImpressionOnPlay:b,logMrcVideoAdEventOnPlay:x,setCaptionsEnabled:c,setVideoPlayed:f,videosPlayed:_}),[d,x,b,_]);return(0,s.jsx)(o,{value:v,children:e})}},320448:(e,t,i)=>{"use strict";function n(e,t){let{organicVideosAutoplaying:i,promotedVideosAutoplaying:n,videoCarouselModuleAutoplaying:a}=t,l={...i,...n,...a};return l[e]&&l[e].currentTime}i.d(t,{Z:()=>n})},925077:(e,t,i)=>{"use strict";i.d(t,{Q:()=>n,Z:()=>a});let n=()=>{let e,t="undefined"!=typeof window?window.navigator?.connection?.effectiveType:void 0,i=!window?.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";return t?"4g"===t?e="40-80":(i="1x",e="0-1"):e="unknown",{downloadSpeedGroup:e,screenDimension:i}};function a(e){let{vHLSV3MOBILE:t,...i}=e,a=function({vEXP3:e,vEXP4:t,vEXP5:i,vEXP6:a,vEXP7:l,v720P:r}){let{downloadSpeedGroup:s,screenDimension:o}=n(),d={"1x":e,"2x":i},c={"1x":l,"2x":l};return({unknown:d,"0-1":d,"1-5":{"1x":t,"2x":i},"5-10":{"1x":i,"2x":i},"10-20":{"1x":a,"2x":a},"20-40":c,"40-80":c,"80_or_above":c})[s][o]||r||void 0}(i),l=t||void 0;return a?{hlsv3:l,mp4:a}:{hlsv3:l}}},606688:(e,t,i)=>{"use strict";i.d(t,{$f:()=>a,Cy:()=>o,DR:()=>n,Fm:()=>s,bR:()=>r,gJ:()=>l,lG:()=>d});let n=1,a=2,l=1e3,r=1e3,s=1e3,o=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),d=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4})},476151:(e,t,i)=>{"use strict";function n({cropArea:e,cropSource:t,requestParams:i,searchQuery:n,surfaceType:a,title:l,trafficSource:r}){let s=[];if(e){let{x:t,y:i,w:n,h:a}=e;t>=0&&i>=0&&n>=0&&a>=0&&s.push(`x=${t}`,`y=${i}`,`w=${n}`,`h=${a}`)}return t&&s.push(`cropSource=${t}`),a&&s.push(`surfaceType=${a}`),l&&s.push(`full_feed_title=${encodeURIComponent(l)}`),n&&s.push(`q=${n}`),r&&"unknown"!==r&&s.push(`rs=${r}`),i&&s.push(`requestParams=${encodeURIComponent(i)}`),s.length?`?${s.join("&")}`:""}i.d(t,{Z:()=>n})},555587:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(476151);function a({checkExperiment:e,cropArea:t,cropSource:i,isProductPage:a,pinId:l,requestParams:r,searchQuery:s,surfaceType:o,title:d,trafficSource:c}){let u=e?.("web_remove_is_eligible_for_related_products",{dangerouslySkipActivation:!0}).anyEnabled,p=(0,n.Z)({cropArea:t,cropSource:i,requestParams:r,searchQuery:s,surfaceType:u?"flashlight":o,title:d,trafficSource:c}),m="";return a&&(m="products/"),`/pin/${l}/visual-search/${m}${p}`}},538692:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(967312),a=i(538645);function l(){let{checkExperiment:e}=(0,n.r)();return"desktop"===(0,a.ZP)()?e("dweb_pdm_shopping_module_gql").anyEnabled:e("mweb_shopping_module_gql").anyEnabled}},562759:(e,t,i)=>{"use strict";i.d(t,{r:()=>y,W:()=>g});var n=i(667294),a=i(218291),l=i(297934),r=i(113474),s=i(986298),o=i(838380),d=i(756493),c=i(477565);let u=e=>{let t={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&("object"!=typeof e[i]||null===e[i]||Array.isArray(e[i])?t[(0,c.Z)(i)]=e[i]:t[(0,c.Z)(i)]=u(e[i]));return t},p={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},m=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}};var h=i(785893);let{Provider:_,getMaybe:g}=(0,a.Z)("RoleBasedAccessControlContext"),y=({children:e})=>{let t=(0,l.Z)(),i=!!(t.isAuth&&t.isPartner),{state:a,actions:c,receiveProfiles:g}=(e=>{let[t,i]=(0,n.useReducer)(m,p),a=(({dispatch:e,isEnabled:t,state:i})=>{let{orbacVisibility:a,disableProfileChanger:l,headerVisible:r}=i,s=(0,n.useCallback)(i=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:i})},[t,e]),o=(0,n.useCallback)(i=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:i??!a})},[t,e,a]);return{changeProfile:s,toggleORBACVisibility:o,toggleDisableProfileChanger:(0,n.useCallback)(i=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:i??!l})},[t,e,l]),toggleHeaderVisibility:(0,n.useCallback)(i=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:i??!r})},[t,e,r])}})({dispatch:i,isEnabled:e,state:t}),{activeProfile:l,orbacVisibility:r}=t;return(0,n.useEffect)(()=>{let e=(0,d.Nl)().getItem(o.Zo)||!1;e&&i({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,n.useEffect)(()=>{let e=(0,d.Nl)().getItem(o.ig)||!1;e&&i({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,n.useEffect)(()=>{(0,d.Nl)().setItem(o.ig,r)},[r]),(0,n.useEffect)(()=>{(0,d.Nl)().setItem(o.Zo,l)},[l]),{state:t,actions:a,receiveProfiles:(0,n.useCallback)((e,t)=>{i({type:"LOAD_PROFILES",payload:((e,t)=>{let i=[];for(let n in e)n!==t&&i.push({id:n,...u(e[n])});let n=i.sort(({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t)),a=new Map;for(let e of n)a.set(e.id,e);return a})(e,t)})},[i])}})(i),{activeProfile:y,headerVisible:f,profiles:x}=a,b=(0,n.useMemo)(()=>x?Array.from(x.values()):[],[x]),v=(0,s.Z)(b),P=!!t.isAuth&&b.length>0&&v,S=t.isAuth?t.id:"",w=t.isAuth?t.username:"",{changeProfile:k,toggleORBACVisibility:I,toggleDisableProfileChanger:T,toggleHeaderVisibility:A}=c;(0,n.useEffect)(()=>{if(i){if("string"==typeof v)return void k(v);y||k(S)}},[v,S,i,k,y]),(0,n.useEffect)(()=>{i&&(P&&!f&&A(!0),!P&&f&&A(!1))},[A,P,i,f,x]);let{data:C}=(0,r.Z)(i?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),E=C?.profiles,j=(0,n.useMemo)(()=>t&&t.isAuth&&y===t.id?{id:t.id,permissions:["OWNER"],user:{username:w,businessName:t.fullName,imgUrl:t.imageSmallUrl}}:y&&x?x.get(y):void 0,[y,x,t,w]);(0,n.useEffect)(()=>{E&&g(E,S)},[g,E,S]);let R=(0,n.useMemo)(()=>({profiles:b,headerVisible:f,activeProfile:j,changeProfile:k,toggleORBACVisibility:I,toggleDisableProfileChanger:T,toggleHeaderVisibility:A}),[b,f,j,k,I,T,A]);return(0,h.jsx)(_,{value:R,children:e})}},827491:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(667294),a=i(967312),l=i(562759),r=i(986298);let s=Object.freeze({}),o=()=>{let{checkExperiment:e}=(0,a.r)(),t=(0,l.W)(),{activeProfile:i}=t||{},o=(0,r.Z)(t?.profiles||[]),{anyEnabled:d}=e("useorbacroutematcher_in_useorbacactingas");return(0,n.useMemo)(()=>d&&!o?s:i&&(i.viewerMeetsMfaRequirement||(i.permissions||[]).includes("OWNER"))?i:s,[d,o,i])}},986298:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(616550),a=i(297934),l=i(890360),r=i(903683);let s=e=>{let t=(0,n.TH)(),i=(0,a.Z)(),s=(0,r.S6)(),o=(0,n.$B)("/:username"),d=o?.params?.username,c=(0,n.$B)("/pin/:id"),u=!!c?.params?.id&&s(c.params.id)?.pinner?.id;if((0,l.ej)(t))return!1;if((0,l.RU)(t)||(0,l.mY)(t))return!0;let p=e.concat(i.isAuth?{user:{username:i.username},id:i.id}:{}).find(e=>{if(!e)return!1;let{user:t,id:i}=e;return(!!t&&"username"in t&&!!t.username&&!!d||!!u&&!!i)&&(t.username===d||u===i)});return!!p&&p.id}},488879:(e,t,i)=>{"use strict";i.d(t,{D3:()=>u,DX:()=>d,Fk:()=>n,KY:()=>p,Ms:()=>a,N1:()=>m,_P:()=>o,gJ:()=>l,lJ:()=>s,nl:()=>r,q6:()=>c});let n=(e,t)=>{let i=e&&e.isAuth?e.fullName:"";return e&&t&&t.user&&t.user.businessName&&(i=t.user.businessName),i},a=(e,t)=>{let i=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(i=t.user.username),i},l=(e,t)=>{let i=e&&e.isAuth?e.imageMediumUrl:"";return e&&t&&t.user&&t.user.imgUrl&&(i=t.user.imgUrl),i},r=(e,t)=>!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),s=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",o=(e,t,i)=>i&&i.user&&t&&t.isAuth&&i.id!==t.id?i.user.merchantId:e.advertiser?.merchant_id,d=(e,t,i)=>i&&i.user&&e.isAuth&&i.id!==e.id?i.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,c=(e,t,i)=>!!(e&&e.isAuth&&i&&i.id&&i.id!==e.id&&i.id===t),u=(e,t,i)=>!!(c(e,t,i)||e&&e.isAuth&&t===e.id),p=(e,t,i)=>u(e,t&&t.owner&&t.owner.id||"",i);function m(e,t,i){return u(e,t?t.id:"",i)}},721988:(e,t,i)=>{"use strict";i.d(t,{T:()=>a,k:()=>n});let n={ADS_MANAGER:"ADS_MANAGER",AUTOMATED_CAMPAIGN:"AUTOMATED_CAMPAIGN"},a=e=>Object.values(n).includes(e)},885008:(e,t,i)=>{"use strict";i.d(t,{F0:()=>o,GI:()=>r,oo:()=>s});var n=i(799699),a=i(142212),l=i(798482);let r=e=>!e||"ENTERPRISE"!==("segmentMetadata"in e?e.segmentMetadata?.salesChannel:e.segment_metadata?.sales_channel),s=(e,t)=>e===l.$o.APPROVED&&t,o=(e,t)=>{let i=t?`?pinId=${t}`:"";return r(e)?a.auO+(0,n.Z)("createAutomated")+i:a.auO+(0,n.Z)("create")+i}},921506:(e,t,i)=>{"use strict";i.d(t,{pb:()=>x,nf:()=>b,lV:()=>v});var n=i(667294),a=i(545007),l=i(441143),r=i.n(l),s=i(578373),o=i(218291),d=i(397657),c=i(751800),u=i(316886),p=i(23084);let m={feature_map:Object.freeze({})},h=(e,t)=>{let i={...(0,p.Z)(e,t),...t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({}),...t.tags?{tags:t.tags}:Object.freeze({}),...t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({})};return(0,u.ZP)(e,i)?e:i},_=(e,t)=>{if(e=e||m,"FETCH_COMPLETE"===t.type){let{payload:{resource:i}}=t,{data:n}=t.payload.response.resource_response;if("AggregatedCommentFeedResource"===i||"AggregatedCommentReplyFeedResource"===i||"DidItCommentsResource"===i){let t=(n||[]).reduce((t,i)=>(t[i.id]=h(e[i.id],i),t),{});return{...e,...t}}if("UnifiedCommentsResource"===i&&n&&n.length>0){let t=n.filter(e=>"aggregatedcomment"===e.type).reduce((t,i)=>(t[i.id]=h(e[i.id],i),t),{});return{...e,...t}}if("UnifiedCommentsPreviewResource"===i&&n&&n.length>0){let t=n.map(e=>e.aggregated_comment).reduce((t,i)=>(i&&(t[i.id]=h(e[i.id],i)),t),{}),i=n.map(e=>e.creator_reply).reduce((t,i)=>(i&&i.id&&(t[i.id]=h(e[i.id],i)),t),{});return{...e,...t,...i}}else if("AggregatedCommentFeaturesResource"===i&&n&&Object.keys(n).length>0)return{...e,feature_map:n}}else if("AGGREGATED_COMMENT_CREATED"===t.type){let{payload:{aggregatedComment:i}}=t;return i.id?{...e,[i.id]:i}:e}else if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){let{payload:{aggregatedCommentId:i}}=t,n={...e};return delete n[i],n}else if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){let{payload:{userId:i}}=t;return Object.fromEntries(Object.entries(e).filter(e=>e[1].user?.id!==i))}else if("AGGREGATED_COMMENT_UPDATED"===t.type){let{payload:{data:i}}=t;return{...e,[i.id]:h(e?.[i.id],i)}}else if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){let{payload:{data:i}}=t,n=e?.[i.id],a=n?.reaction_counts[1]||0,l={1:i.reaction_by_me?a+1:a-1},r={...n,reaction_by_me:i.reaction_by_me,reaction_counts:l};return{...e,[i.id]:r}}else if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){let{payload:{data:i}}=t,n=e?.[i.id],a=n?.helpful_count||0,l=i.marked_helpful_by_me?a+1:a-1,r={...n,marked_helpful_by_me:i.marked_helpful_by_me,helpful_count:l};return{...e,[i.id]:r}}else if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){let{payload:{data:i}}=t,n={...e?.[i.aggregated_comment_id],highlighted_by_pin_owner:i.is_highlighted};return{...e,[i.aggregated_comment_id]:n}}else if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){let{payload:{data:{featureMap:i}}}=t;return{...e,feature_map:{...e?.feature_map,...i}}}else if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){let{payload:{increment:i,id:n}}=t,a=e?.[n];if(!a)return e;let l={...a,comment_count:a.comment_count+i};return{...e,[n]:l}}else if("DELETE_COMMENT_MENTION"===t.type){let{payload:{aggregatedCommentId:i,tagged_users:n}}=t,a={...e?.[i],tagged_users:n};return{...e,[i]:a}}else if("GET_COMMENT_TRANSLATION"===t.type){let{payload:{aggregatedCommentId:i,translatedText:n}}=t,a={...e?.[i],translatedText:n};return{...e,[i]:a}}return e};var g=i(785893);let{Provider:y,get:f}=(0,o.Z)("AggregatedComments");function x({children:e}){let t=(0,a.v9)(({resources:e})=>e?.UnifiedCommentsResource),i=m;t&&Object.values(t).forEach(e=>{let t=e.data?.filter(e=>"aggregatedcomment"===e.type),n=t?.reduce((e,t)=>(e[t.id]=h(i[t.id],t),e),{});i={...i,...n}});let[l,r]=(0,n.useReducer)(_,i),s=e=>{r({type:"FETCH_COMPLETE",payload:e})};(0,c.Z8)("AggregatedCommentFeaturesResource",s),(0,c.my)("AggregatedCommentFeaturesResource",s),(0,c.Z8)("AggregatedCommentFeedResource",s),(0,c.my)("AggregatedCommentFeedResource",s),(0,c.Z8)("AggregatedCommentReplyFeedResource",s),(0,c.my)("AggregatedCommentReplyFeedResource",s),(0,c.Z8)("DidItCommentsResource",s),(0,c.my)("DidItCommentsResource",s),(0,c.Z8)("UnifiedCommentsPreviewResource",s),(0,c.my)("UnifiedCommentsPreviewResource",s),(0,c.Z8)("UnifiedCommentsResource",s),(0,c.my)("UnifiedCommentsResource",s);let o=(0,n.useMemo)(()=>({aggregatedComments:l,dispatch:r}),[l,r]);return(0,g.jsx)(y,{value:o,children:e})}function b(){let{dispatch:e}=f();return(0,n.useMemo)(()=>({aggregatedCommentCreated(t,i){e({type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:t,aggregatedComment:i}})},aggregatedCommentDeleted:(t,i)=>{e({type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:t,aggregatedCommentId:i}})},aggregatedCommentHidden:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:t}})},aggregatedCommentsHiddenForUser:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:t}})},flagAggregatedComment:async({isAggregatedComment:e=!0,commentId:t,reason:i,detailedReasons:n})=>{let a=e?`/v3/aggregated_comments/${t}/flag/`:`/v3/did_it/${t}/flag/`;return(0,d.Z)({url:a,method:"PUT",data:{commentId:t,reason:i,detailedReasons:n}})},deleteCommentMention:async t=>{let{resource_response:i}=await (0,d.Z)({url:`/v3/aggregated_comments/${t}/mentions/`,method:"DELETE",data:{fields:["aggregatedcomment.id","aggregatedcomment.tagged_users"]}}),n=i.data??{};e({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:n.id,tagged_users:n.tagged_users}})},translateAggregatedComment:async t=>{try{let{resource_response:i}=await (0,d.Z)({url:`/v3/aggregated_comments/${t}/translate/`,method:"GET"}),n=i.data??"";e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:t,translatedText:n}})}catch(i){e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:t,translatedText:""}})}},toggleAggregatedCommentHelpful:({aggregatedCommentId:t,isMarkedHelpfulByMe:i,orbacSubjectId:n})=>{(0,d.Z)({url:`/v3/helpful/1/${t}/`,method:i?"DELETE":"POST",data:n?{orbac_subject_id:n}:{}}),e({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:t,marked_helpful_by_me:!i}}})},toggleAggregatedCommentHighlight:async({aggregatedCommentId:t,pinId:i,isHighlighted:n})=>{r()(t,"Could not find comment"),r()(i,"Could not find Pin"),await (0,d.Z)({url:"/v3/aggregated_comments/pin/highlight/",method:"PUT",data:{aggregated_comment:t,pin:i,highlight:!n}}),e({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:t,pin_id:i,is_highlighted:!n}}})},toggleAggregatedCommentLike:({aggregatedCommentId:t,isLikedByMe:i,orbacSubjectId:n})=>{(0,d.Z)({url:`/v3/aggregated_comments/${t}/react/`,method:i?"DELETE":"POST",data:{reaction_type:1,...n?{orbac_subject_id:n}:{}}}),e({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:t,reaction_by_me:+!i}}})},updateAggregatedComment:async({commentId:t,force:i,orbacSubjectId:n,tags:a,text:l})=>{let{resource_response:r}=await s.Z.create("AggregatedCommentResource",{commentId:t,force:i,tags:a,text:l,...n?{orbacSubjectId:n}:{}}).callUpdate({showError:!1}),{tagged_users:o}=r.data??{};e({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:t,tagged_users:o.map(e=>({...e})),tags:JSON.parse(a),text:l}}})},updateAggregatedCommentFeatures:async({userId:t,featureMap:i,passcode:n,userConfirmPasscode:a})=>{let l={userId:t,featureMap:i,passcode:n,user_confirm_skip_passcode:a};void 0===a&&(l.user_confirm_skip_passcode=!1);let{resource_response:r}=await s.Z.create("AggregatedCommentFeaturesResource",l).callUpdate({showError:!1});e({type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:{featureMap:r.data??Object.freeze({})}}})},updateCommentCount:(t,i)=>{e({type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:i,id:t}})}}),[e])}function v(){let{aggregatedComments:e}=f();return e}},644849:(e,t,i)=>{"use strict";i.d(t,{n:()=>a,o:()=>n});let n={aggregatedComment:"aggregatedComment",didIt:"didIt",pin:"pin"},a={aggregatedComment:"aggregatedcomment",didIt:"userdiditdata",pin:"pin"}},472856:(e,t,i)=>{"use strict";i.d(t,{g:()=>p,G:()=>u});var n=i(667294),a=i(218291),l=i(221097),r=i(36735);let s={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{},videoCarouselModuleAutoplaying:{}},viewportSize:"lg"},o=(e=s,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type&&e.showTypeaheadOverlay!==t.payload)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){let{payload:i}=t,{pinId:n,isPromoted:a,currentTime:l,surface:s}=i,{videosAutoplaying:o}=e,{currentlyPlayingOrganicVideoId:d,promotedVideosAutoplaying:c,organicVideosAutoplaying:u,videoCarouselModuleAutoplaying:p}=o,m=(0,r.Z)(c),h=(0,r.Z)(u),_=(0,r.Z)(p);return!a&&d&&"VideoCarouselModule"!==s?e:(a?m[n]={pinId:n,currentTime:l,paused:!1}:"VideoCarouselModule"===s?_[n]={pinId:n,currentTime:l,paused:!1}:h[n]={pinId:n,currentTime:l,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:a?d:n,promotedVideosAutoplaying:m,organicVideosAutoplaying:h,videoCarouselModuleAutoplaying:_}})}if("SET_IS_AUTOPLAY"===t.type&&e.isAutoplay!==t.payload)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){let{payload:i}=t,{pinId:n,isPromoted:a,currentTime:l,surface:s}=i,{videosAutoplaying:o}=e,{promotedVideosAutoplaying:d,organicVideosAutoplaying:c,videoCarouselModuleAutoplaying:u}=o,p=(0,r.Z)(d),m=(0,r.Z)(c),h=(0,r.Z)(u);return a?p[n]={...p[n],paused:!0,currentTime:l}:"VideoCarouselModule"===s?h[n]={...h[n],paused:!0,currentTime:l}:m[n]={...m[n],paused:!0,currentTime:l},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:p,organicVideosAutoplaying:m,videoCarouselModuleAutoplaying:h}}}if("SET_APP_FOCUS_STATE"===t.type&&e.appInFocus!==t.payload)return{...e,appInFocus:t.payload};else if("SET_VIEWPORT_SIZE"===t.type&&e.viewportSize!==t.payload)return{...e,viewportSize:t.payload};else if("SET_FOOTER_VISIBILITY_STATE"===t.type&&e.footerPlusButtonVisible!==t.payload)return{...e,footerPlusButtonVisible:t.payload};return e};var d=i(785893);let{Provider:c,get:u}=(0,a.Z)("AppUI");function p({children:e}){let[t,i]=(0,n.useReducer)(o,s),a=(0,n.useCallback)(e=>i({type:"PAUSE_CURRENT_VIDEO",payload:e}),[]),r=(0,n.useCallback)(e=>i({type:"SET_APP_FOCUS_STATE",payload:e}),[]),u=(0,n.useCallback)(e=>i({type:"SET_CURRENT_VIDEO",payload:e}),[]),p=(0,n.useCallback)(e=>i({type:"SET_FOOTER_VISIBILITY_STATE",payload:e}),[]),m=(0,n.useCallback)(e=>i({type:"SET_IS_AUTOPLAY",payload:e}),[]),h=(0,n.useCallback)(e=>i({type:"SET_VIEWPORT_SIZE",payload:e}),[]),_=(0,n.useCallback)(e=>i({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e}),[]),g=(0,n.useMemo)(()=>({pauseAutoplay:a,setCurrentVideo:u,setFooterPlusButtonVisible:p,setIsAutoplay:m,setViewportSize:h,toggleTypeaheadOverlay:_,setAppFocusState:r,appUI:t}),[a,u,p,m,h,_,r,t]);return(0,n.useEffect)(()=>{l.Z.onSessionResume(()=>{r(!0)}).onSessionPause(()=>{r(!1)})},[r]),(0,d.jsx)(c,{value:g,children:e})}},365797:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(20256),a=i(231333),l=i(233846),r=i(339908),s=i(785893);function o(){let{showToast:e}=(0,r.dI)(),t=(0,l.ZP)();return()=>{e(({hideToast:e})=>(0,s.jsx)(a.Z,{duration:5e3,onHide:e,text:t._('Blocked. To manage your block list, see social permissions in settings.', 'blockedAccounts.blockConfirmMessage', 'This message appears when a user block an account as confirmation message'),thumbnail:{icon:(0,s.jsx)(n.JO,{accessibilityLabel:t._('Success icon', 'blockedAccounts.blockConfirmMessage.icon', 'Icon displayed in the toast message as visual representation of a success message'),color:"default",icon:"check-circle-fill",size:12})}}))}}},381366:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l,k:()=>n});let{Provider:n,get:a}=(0,i(218291).Z)("Conversations"),l=a},864559:(e,t,i)=>{"use strict";i.d(t,{Z:()=>g});var n=i(667294),a=i(20256),l=i(971518),r=i(297934),s=i(233846),o=i(967312),d=i(257159),c=i(438711),u=i(745052),p=i(422378),m=i(581894),h=i(38061),_=i(785893);let g=function(e){let t=(0,s.ZP)(),{fullName:i,isVerifiedIdentity:g,imageUrl:y,isPromoted:f,isVerifiedMerchant:x,profileUrl:b,sponsorName:v,sponsorshipStatus:P,sponsorUsername:S="",verified:w,color:k="default",onAvatarClick:I,onNavigateClick:T,onNavigateSponsorClick:A,openNewTab:C}=e,E=(0,o.r)().checkExperiment("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled,j=(0,r.Z)(),R=j.isAuth?j?.avatar_color_index:void 0,L=(0,d.Z)(t._('{{ fullName }} avatar link', 'creatorCardProfile.avatar.accessibilityLabel', 'Accessibility label for user avatar'),{fullName:i??""}),F=(0,_.jsx)(p.q,{children:({active:e,focused:t,hovered:n,onBlur:r,onFocus:s,onMouseEnter:o,onMouseLeave:d})=>(0,_.jsx)(a.xu,{onBlur:r,onFocus:s,onMouseDown:()=>{I&&I()},onMouseEnter:o,onMouseLeave:d,children:(0,_.jsx)(a.zd,{rounding:"circle",wash:n||e||t,children:(0,_.jsx)(l.qE,{accessibilityLabel:L,color:R,name:i??"",size:j.isAuth?"xs":"md",src:y??"",verified:w})})})}),D=(0,c.ZP)(i,70),O=(0,_.jsxs)(n.Fragment,{children:[f&&(0,_.jsx)(a.xv,{lineClamp:1,size:"200",weight:"bold",children:t._('Promoted by', 'indicating the username of the person who promoted the pin', 'indicating the username of the person who promoted the pin')}),(0,_.jsx)(a.xu,{"data-test-id":"creator-profile-name",children:(0,_.jsx)(a.xu,{maxWidth:270,children:(0,_.jsx)(a.xv,{color:k,size:"200",weight:"normal",children:g||x?(0,_.jsx)(a.xu,{"data-test-id":"verified-name",children:(0,_.jsx)(h.Z,{badgeSize:"xs",badgeSpacing:2,fullName:D,isVerifiedIdentity:g,isVerifiedMerchant:x})}):i})})})]}),M=S&&v||m.j.includes(P)&&E,Z=`/${S??""}/`;return(0,_.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"creator-card-profile",display:"flex",marginEnd:-1,marginStart:-1,children:[(0,_.jsx)(a.xu,{"data-test-id":"creator-avatar",flex:"none",paddingX:1,children:b?(0,_.jsx)(a.Tg,{dataTestId:"creator-avatar-link",href:b,onTap:T,rel:(0,u.Z)(b)?"none":"nofollow",target:C?"blank":null,children:F}):F}),(0,_.jsxs)(a.xu,{children:[b?(0,_.jsx)(a.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingX:1,children:(0,_.jsx)(a.rU,{dataTestId:"creator-profile-link",href:b,onClick:T,rel:(0,u.Z)(b)?"none":"nofollow",target:C?"blank":null,underline:"none",children:O})}):O,M&&(0,_.jsx)(a.xu,{"data-test-id":"sponsor-title",display:"flex",paddingX:1,children:(0,_.jsx)(m.Z,{href:Z,isPromoted:f,onNavigateSponsorClick:A,sponsorName:v,sponsorshipStatus:P,sponsorUsername:S})})]})]})}},511814:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(20256),a=i(394484),l=i(233846),r=i(785893);let s=function(){let e=(0,l.ZP)();return(0,r.jsx)(n.xu,{display:"flex",justifyContent:"center",marginBottom:5,width:"100%",children:(0,r.jsx)(a.Z,{containerSize:320,description:e._('It looks like something went wrong. That\u2019s okay\u2014try refreshing this page.', 'error404.page.gumball.illustrations.description', 'Message displayed under the illustration when 404 error'),illustrationSize:186,message:e._('Something\u2019s a little off', 'error404.page.gumball.illustrations.message', 'Description displayed under the illustration when when 404 error'),name:"gumball",primaryAction:(0,r.jsx)(n.ZP,{color:"red",href:"",onClick:()=>{window.location.reload()},text:e._('Refresh page', 'error404.page.pinjar.illustration', 'Button text for refreshing the page for 404 error')})})})}},297026:(e,t,i)=>{"use strict";i.d(t,{Z:()=>A});var n=i(667294),a=i(545007),l=i(20256),r=i(547504),s=i(19963),o=i(69466),d=i(138589),c=i(18644),u=i(297934),p=i(233846),m=i(51340),h=i(693806),_=i(676620),g=i(943369),y=i(339908),f=i(755090),x=i(41086),b=i(785893);let v=({followText:e,followerCount:t,userFollowed:i})=>{let n=(0,p.ZP)();return(0,m.nk)(n._('{{ followCount }} {{ followText }}', ' - ', ' -- '),{followCount:(0,b.jsx)(l.xu,{"data-test-id":"followCount",opacity:i?void 0:.8,paddingX:1,children:(0,b.jsx)(l.xv,{color:i?"subtle":"inverse",children:(0,b.jsx)(x.Z,{shortform:!0,shortformMaximumFractionDigits:0,value:t})})},"followCount"),followText:(0,b.jsx)(l.xu,{"data-test-id":"followText",paddingX:1,children:(0,b.jsx)(l.xv,{color:i?"default":"inverse",weight:"bold",children:e})},"followText")})};var P=i(852276),S=i(159982),w=i(945011),k=i(647137);function I(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class T extends n.PureComponent{constructor(e){super(e),I(this,"handleButtonClick",({event:e})=>{let{showSignupModal:t,i18n:i}=this.props,{userFollowed:n}=this.state;if(t){e.stopPropagation(),t({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:(0,o.N4)({i18n:i,toFollow:!n}),desktopOptions:{modalType:"signup"}});return}let{shouldStopEventPropagation:a,loggingData:l}=this.props;a&&(e.preventDefault(),e.stopPropagation()),this.props.logContextEvent({event_type:101,component:13672,element:11951,object_id_str:this.props.id,view_type:this.props.viewType,view_parameter:this.props.viewParameter,clientTrackingParams:this.props.clientTrackingParams,...l||Object.freeze({})}),this.toggleFollowUnfollow()}),I(this,"handleClick",({event:e})=>{let{showSignupModal:t,i18n:i}=this.props,{userFollowed:n}=this.state;if((t||this.props.shouldStopEventPropagation)&&e.stopPropagation(),t)return void t({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:(0,o.N4)({i18n:i,toFollow:!n}),desktopOptions:{modalType:"signup"}});this.toggleFollowUnfollow()}),I(this,"toggleFollowUnfollow",()=>{let{id:e,mostRecentPinId:t,loggingData:i,viewType:n,viewParameter:a,clientTrackingParams:l}=this.props,{userFollowed:r}=this.state;r?(this.props.logContextEvent({event_type:46,object_id_str:e,view_type:n,view_parameter:a,aux_data:{pin_id:t},clientTrackingParams:l,...i||Object.freeze({})}),this.unfollow()):(this.props.logContextEvent({event_type:45,object_id_str:e,view_type:n,view_parameter:a,aux_data:{pin_id:t},clientTrackingParams:l,...i||Object.freeze({})}),this.follow())}),I(this,"follow",()=>{let{follow:e,id:t,onUserFollow:i,mostRecentPinId:n,setMostRecentPinId:a,inviteCode:l,handleFollowSuccessFromInvite:r,loggingData:s,viewType:o,viewParameter:d}=this.props,c=()=>{l?(r?.(),this.props.logContextEvent({event_type:14858,object_id_str:t,view_type:o,view_parameter:d,...s||Object.freeze({})})):this.showConfirmation(),this.setState({disabled:!1,userFollowed:!0})};this.setState({disabled:!0}),e(t,n,c,this.showError),i&&i(!0),a(null)}),I(this,"showToast",e=>{let{id:t,imageUrl:i,profileUrl:n,toastManagerContext:a,suppressToasts:l}=this.props;l||a.showOneToast(({hideToast:a})=>(0,b.jsx)(k.Z,{handleHide:a,href:n,imageUrl:i,text:e,userId:t}))}),I(this,"showConfirmation",()=>{let e=(0,b.jsx)(l.xv,{children:this.props.i18n._('Following! Their created Pins will show up in your home feed!', 'userFollowButton.informationalToastText2', 'Text explaining that a creator\'s Pins will show up in home feed after follow')});this.showToast(e)}),I(this,"showError",e=>{let{fullName:t,showEmailVerificationReminderModal:i,loggingData:n,inviteCode:a,id:r,viewParameter:s,viewType:o}=this.props,{userFollowed:d}=this.state,u=d?this.props.i18n._('Error unfollowing {{ usernameComponent }}.', 'UserFollowButton.error.unfollowing', 'When there is an API error when unfollowing a user'):this.props.i18n._('Error following {{ usernameComponent }}.', 'UserFollowButton.error.following', 'When there is an API error when following a user');if(this.setState({disabled:!1}),(0,c.Z)(e,"api_error_code")===h.H9)return void i();let p=(0,b.jsx)(l.xv,{children:(0,m.nk)(u,{usernameComponent:(0,b.jsx)(l.xv,{inline:!0,weight:"bold",children:t})})});this.showToast(p),!d&&a&&this.props.logContextEvent({event_type:14859,object_id_str:r,view_type:o,view_parameter:s,...n||Object.freeze({})})}),I(this,"unfollow",()=>{let{id:e,onUserFollow:t,unfollow:i,mostRecentPinId:n,setMostRecentPinId:a}=this.props,l=()=>{this.setState({disabled:!1,userFollowed:!1})};this.setState({disabled:!0}),i(e,n,l,this.showError),t&&t(!1),a(null)}),this.state={disabled:!1,userFollowed:e.userFollowed||!1}}renderButton(){let{button:e,followerCount:t,inline:i=!1,isOwnProfile:n,invertButtonColor:a,isSecondaryButton:r,size:s,showFollowerCount:o}=this.props,{disabled:d,userFollowed:c}=this.state,u=c?this.props.i18n._('Following', 'User follow button', 'User follow button'):this.props.i18n._('Follow', 'User follow button', 'User follow button');if(e)return e({followText:u,onClick:this.handleButtonClick,userFollowed:c});if(n)return(0,b.jsx)(l.zx,{disabled:!0,fullWidth:!0,text:this.props.i18n._('This is you', 'Button label to note that this is your Profile', 'Button label to note that this is your Profile')});if(!o)return(0,b.jsx)(l.xu,{"data-test-id":`user-${c?"unfollow":"follow"}-button`,display:"inlineBlock",children:(0,b.jsx)(l.zx,{accessibilityLabel:c?this.props.i18n._('Unfollow', 'userUnfollowButton.button.accessibilityLabel', 'Accessibility label for the unfollow button'):this.props.i18n._('Follow', 'userFollowButton.button.accessibilityLabel', 'Accessibility label for the follow button'),color:r||c?"gray":"red",disabled:d,fullWidth:i,onClick:this.handleButtonClick,selected:a?!c:!!c,size:s??void 0,text:u})});{let e="number"==typeof t?(0,b.jsx)(v,{followerCount:t,followText:u,userFollowed:c}):u;return(0,b.jsx)(l.iP,{onTap:this.handleClick,children:(0,b.jsx)(l.xu,{color:c?"secondary":"primary",paddingX:3,paddingY:3,rounding:2,children:(0,b.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:e})})})}}render(){let{showPulsar:e,userFollowed:t}=this.props;return(0,b.jsxs)(l.xu,{display:"flex",position:"relative",children:[this.renderButton(),e&&(0,b.jsx)(l.iP,{onTap:this.handleClick,children:(0,b.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},display:"inlineBlock",position:"absolute",children:(0,b.jsx)(l.o3,{paused:t||!1})})})]})}}function A(e){let{logContextEvent:t}=(0,s.u)(),i=(0,p.ZP)(),{id:n,setMostRecentPinId:l}=(0,P.R)(),o=(0,_.Z)(),{isAuth:c}=(0,u.Z)(),m=(0,a.I0)(),{showEmailVerificationReminderModal:h}=(0,d.H7)(),x=(0,w.mN)()(e.id),v=x?.follower_count,k=x?x.explicitly_followed_by_me:e.userFollowed;return(0,f.Z)(()=>{let{id:t}=e,i=(0,g.M0)().getItem(r.AG)||"";i&&i===t&&((0,g.M0)().removeItem(r.AG),m((0,S.ZN)(i,e.clientTrackingParams)))}),(0,b.jsx)(T,{...e,follow:(t,i,n,a)=>{m((0,S.yA)(t,i,e.clientTrackingParams,e.inviteCode)).then(n).catch(e=>{a(e)})},followerCount:v,i18n:i,logContextEvent:t,mostRecentPinId:n,setMostRecentPinId:l,showEmailVerificationReminderModal:h,showSignupModal:c?null:o,toastManagerContext:(0,y.dI)(),unfollow:(t,i,n,a)=>{m((0,S.KF)(t,i,e.clientTrackingParams)).then(n,a)},userFollowed:k})}},515207:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(20256),a=i(785893);function l({text:e}){return(0,a.jsx)(n.xu,{display:"visuallyHidden",children:(0,a.jsx)(n.X6,{accessibilityLevel:1,children:e})})}},12624:(e,t,i)=>{"use strict";i.d(t,{c:()=>a,t:()=>l});var n=i(901948);function a({children:e}){let{height:t}=(0,n.Z)();return e(t)}function l(){let{height:e}=(0,n.Z)();return e}},901948:(e,t,i)=>{"use strict";i.d(t,{C:()=>n,Z:()=>l});let{Provider:n,get:a}=(0,i(218291).Z)("Header"),l=a},344500:(e,t,i)=>{"use strict";i.d(t,{hu:()=>a,NW:()=>d,L1:()=>r,WZ:()=>s,Rz:()=>u,fe:()=>o,cI:()=>l,OZ:()=>c});var n=i(20256);let a=64,l=80,r=24,s="HeaderContent",o=671,d=new n.Ry(o),c="NagHeaderContent",u={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},14217:(e,t,i)=>{"use strict";i.d(t,{H8:()=>m,Ut:()=>p,fr:()=>u});var n=i(667294),a=i(218291),l=i(717534),r=i(890753),s=i(785893);let o=()=>i.e(80755).then(i.bind(i,580755)),{Provider:d,get:c}=(0,a.Z)("IdeaPin");function u({children:e}){let[t,i]=(0,l.Z)(o,r.Z),a=(0,n.useMemo)(()=>({dispatch:i,ideaPin:t}),[i,t]);return(0,s.jsx)(d,{value:a,children:e})}function p(){let{dispatch:e}=c();return(0,n.useMemo)(()=>({setIdeaPinActivePage:t=>{e({type:"IDEA_PIN_ACTIVE_PAGE",payload:{activePage:t}})},setIdeaPinDynamicWidth:t=>{e({type:"IDEA_PIN_DYNAMIC_WIDTH",payload:{dynamicWidth:t}})}}),[e])}function m(){let{ideaPin:e}=c();return e}},890753:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n={activePage:0,dynamicWidth:0}},852276:(e,t,i)=>{"use strict";i.d(t,{C:()=>o,R:()=>s});var n=i(667294),a=i(218291),l=i(785893);let{Provider:r,get:s}=(0,a.Z)("MostRecentPin");function o({children:e}){let[t,i]=(0,n.useState)(),[a,s]=(0,n.useState)(),o=(0,n.useCallback)(e=>{s([e].concat((a?a.slice(0,10):[]).filter(t=>t!==e)))},[a]),d=(0,n.useMemo)(()=>({id:t,plpImageSignatures:a,setMostRecentPinId:i,setMostRecentPinImage:o}),[t,a,o]);return(0,l.jsx)(r,{value:d,children:e})}},29210:(e,t,i)=>{"use strict";i.d(t,{G:()=>p,Kl:()=>m,vo:()=>u});var n=i(667294),a=i(218291),l=i(751800),r=i(717534),s=i(785893);let o=()=>i.e(27313).then(i.bind(i,227313)),{Provider:d,get:c}=(0,a.Z)("NativeEngagements");function u({children:e}){let[t,i]=(0,r.Z)(o,[]);(0,l.Z8)("NativeInteractionsResource",e=>{i({type:"FETCH_COMPLETE",payload:e})}),(0,l.my)("NativeInteractionsResource",e=>{i({type:"FETCH_MORE_COMPLETE",payload:e})});let a=(0,n.useMemo)(()=>({dispatch:i,nativeEngagements:t}),[i,t]);return(0,s.jsx)(d,{value:a,children:e})}function p(){let{dispatch:e}=c();return(0,n.useMemo)(()=>({nativeEngagementsHiddenForUser:t=>{e({type:"NATIVE_ENGAGEMENT_HIDDEN_FOR_USER",payload:{userId:t}})}}),[e])}function m(){let{nativeEngagements:e}=c();return e}},845401:(e,t,i)=>{"use strict";i.d(t,{H:()=>n,J:()=>a});let{Provider:n,getMaybe:a}=(0,i(218291).Z)("PinCreateDeleteContext")},140042:(e,t,i)=>{"use strict";i.d(t,{r:()=>b,Z:()=>x});var n,a,l,r=i(667294);i(167912);var s=i(569681),o=i(95460),d=i(509936),c=i(78039),u=i(77108),p=i(63500),m=i(903683),h=i(785893);let _=(void 0!==n||(n=i(510709)).hash&&"bb4e0fc2e1a319a6b7c65cb9ad5c8cb6"!==n.hash&&console.error("The definition of 'UnifiedPinRep_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),g=(void 0!==a||(a=i(180385)).hash&&"cf7ae619f5ec8cf58cf3302e69136b1d"!==a.hash&&console.error("The definition of 'UnifiedPinRepVariant_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),y=(void 0!==l||(l=i(871737)).hash&&"4a14df4142363241fba79dec5c9e9f45"!==l.hash&&console.error("The definition of 'UnifiedPinRepDefaultPinRep_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),f=e=>{var t,i,n,a;let{pinId:l,pinKey:_,...g}=e,f=_&&"GraphQL"===(0,d.o)(_),x=(0,c.Z)(y,_),b=(0,m.S6)()(l),v=(0,p.gC)(),P=(t=!!f,x||t?x:b?{type:"deprecated",data:b}:null),S=(0,s.Z)(),w=(0,r.useMemo)(()=>b?{type:"deprecated",data:b}:null,[b]),k=x||f||!S?P:w;return k&&(0,h.jsx)(o.Z,{name:"DefaultPinRep",type:"critical",children:(0,h.jsx)(r.Suspense,{children:(0,h.jsx)(u.Z,{...g,boardKey:(i=!!f,n=x?.pinnedToBoard||x?.board||null,a=v(b?.pinned_to_board?.id||b?.board?.id||""),i?n:a?{type:"deprecated",data:a}:null),pinKey:k})})})};function x({duploQueryRef:e,...t}){let i=(0,c.Z)(_,e);return(0,h.jsx)(f,{...t,pinKey:i})}function b(e){let t=(0,c.Z)(g,e.pinKey);return(0,h.jsx)(f,{...e,pinKey:t})}},903683:(e,t,i)=>{"use strict";i.d(t,{EQ:()=>o,JC:()=>s,S6:()=>d,_S:()=>c});var n=i(545007),a=i(218291),l=i(785893);let{Provider:r,get:s,getMaybe:o}=(0,a.Z)("Pins");function d(){let e=s();return t=>e[t]}function c({children:e}){let t=(0,n.v9)(({pins:e})=>e,n.wU);return(0,l.jsx)(r,{value:t,children:e})}},945011:(e,t,i)=>{"use strict";i.d(t,{LO:()=>u,cm:()=>c,dM:()=>o,kY:()=>p,mN:()=>d});var n=i(545007),a=i(218291),l=i(297934),r=i(785893);let{Provider:s,get:o}=(0,a.Z)("Users");function d(){let e=o();return t=>e[t]}function c(){let e=o();return(t,i=!1)=>{let n=Object.keys(e).find(i=>e[i].username===t);if(n||!i)return e[n??""]}}function u(){let e=(0,l.Z)();return o()[e.isAuth?e.id:""]}function p({children:e}){let t=(0,n.v9)(({users:e})=>e,n.wU);return(0,r.jsx)(s,{value:t,children:e})}},581894:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c,j:()=>d});var n=i(20256),a=i(331247),l=i(233846),r=i(51340),s=i(967312),o=i(785893);let d=[0,2,3];function c({hasAffiliateProducts:e,hasAffiliateLink:t,href:i,isPromoted:c,onNavigateSponsorClick:u,sponsorName:p,sponsorUsername:m,sponsorshipStatus:h,textWeight:_="bold",isGrid:g}){let y,f=(0,l.ZP)(),{checkExperiment:x}=(0,s.r)(),b=x("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,v=(0,a.Z)(),P=i||(m?`/${m}/`:null),S=g&&e,w=["control_affiliate_text_removal","enabled_affiliate_text_removal","control_indicator_and_affiliate_removal","enabled_indicator_and_affiliate_removal","employees"].includes(x("web_grid_pin_rep_indicator_and_affiliate_cleanup",{dangerouslySkipActivation:!0}).group),k=S&&w&&x("web_grid_pin_rep_indicator_and_affiliate_cleanup").anyEnabled,I=P&&p?(0,o.jsx)(n.xv,{__dangerouslyOverrideLineHeight:v,size:"200",weight:_,children:(0,o.jsx)(n.rU,{dataTestId:"sponsorship-text-link",href:P,onClick:u,children:p})},p):void 0;return c?y=(0,r.nk)(f._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:I}):h||0===h?p&&!d.includes(h)?y=(0,r.nk)(f._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:I}):2!==h&&(y=f._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):!g&&(t||e)?y=f._('Paid link', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'):S&&!k&&(y=f._('Paid link', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products')),(0,o.jsxs)(n.xv,{__dangerouslyOverrideLineHeight:v,color:"subtle",inline:!0,lineClamp:2,size:"200",children:[b&&!c&&"Ad  "||"",y]})}},654892:(e,t,i)=>{"use strict";i.d(t,{A:()=>s,w:()=>o});var n=i(667294),a=i(218291),l=i(785893);let{Provider:r,get:s}=(0,a.Z)("Session");function o({children:e}){let[t,i]=(0,n.useState)(void 0),a=(0,n.useCallback)(()=>i(void 0),[]),s=(0,n.useMemo)(()=>({unauthFollowUserId:t,setUnauthFollowUserId:i,removeUnauthFollowUserId:a}),[t,a]);return(0,l.jsx)(r,{value:s,children:e})}},38061:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(667294),a=i(20256),l=i(477430),r=i(785893);let s=function({badgeSize:e,badgeSpacing:t,fullName:i,isVerifiedIdentity:s,isVerifiedMerchant:o,truncate:d=!1,size:c="200"}){let u=i.split(" "),p=u.slice(0,u.length-1).join(" "),m=" ".concat(u[u.length-1]);return d?(0,r.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,r.jsx)(a.xv,{lineClamp:1,size:c,weight:"bold",children:i}),(0,r.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{top:t}},flex:"none",paddingX:1,position:"relative",children:(0,r.jsx)(l.Z,{isVerifiedIdentity:s,isVerifiedMerchant:o,size:e})})]}):(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)("span",{children:p}),(0,r.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[m,"",(0,r.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{top:t}},display:"inlineBlock",flex:"none",position:"relative",children:(0,r.jsx)(l.Z,{isVerifiedIdentity:s,isVerifiedMerchant:o,size:e})})]})]})}},687752:(e,t,i)=>{"use strict";i.d(t,{$:()=>o,Z:()=>c}),i(167912);var n,a=i(20256),l=i(640935),r=i(78039),s=i(785893);let o=40,d=(void 0!==n||(n=i(30313)).hash&&"d06bcbcd23746aa04d9f42cb2af2084d"!==n.hash&&console.error("The definition of 'ShoppingModulePreviewImages_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function c({imageOverlapMargin:e=0,storyKey:t,imageSize:i=38,imageRounding:n=2}){let o=(0,r.Z)(d,t),c=(o?.objects??[]).flatMap(e=>(!e.__typename||"Pin"===e.__typename)&&e.imageSpec_236x?.url?e.imageSpec_236x.url:[]).slice(0,3);if(0===c.length)return null;let u=i+2;return c.map((t,i)=>(0,s.jsx)(a.xu,{color:"default",dangerouslySetInlineStyle:{__style:{border:`1px solid ${(0,l.Yc)()?"black":"white"}`,borderRadius:`${"number"==typeof n?4*n:0}px`}},marginEnd:i===c.length-1?0:e,zIndex:new a.Ry(i),children:(0,s.jsx)(a.zd,{height:u,rounding:n,wash:!0,width:u,children:(0,s.jsx)(a.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:t})})},t))}},706915:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var n=i(667294),a=i(20256),l=i(785893);function r(e){return`${Math.min(100*e,100)}%`}function s({customCover:e,imgPos:t,imgUrl:i}){let[a,l]=(0,n.useState)({height:0,loaded:!1,width:0}),{height:s,loaded:o,width:d}=a;if((0,n.useEffect)(()=>{let e=new Image;e.onload=()=>{l({height:e.naturalHeight,loaded:!0,width:e.naturalWidth})},e.src=i},[i]),!e||!t||!s||!d)return{loaded:o,position:"center center"};let c=d-t.width,u=s-t.height,p=c>0?r(t.x/c):"center",m=u>0?r(t.y/u):"center";return{loaded:o,position:`${p} ${m}`}}function o(e){let{loaded:t,position:i}=s(e),{imgUrl:n}=e,r={backgroundImage:`url(${n})`,backgroundPosition:i,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,l.jsx)(a.xu,{"data-test-id":"cover-image-box",height:"100%",width:"100%",children:t&&(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:r},"data-test-id":"cover-image",children:(0,l.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}function d(e){let{loaded:t,position:i}=s(e),{alt:n,color:r,imgUrl:o}=e;return(0,l.jsx)(a.zd,{height:"100%",width:"100%",children:t&&(0,l.jsx)("img",{alt:n||"",src:o,style:{backgroundColor:r||"#EFEFEF",fetchPriority:"cover",height:"100%",loading:"auto",objectFit:"cover",objectPosition:i,width:"100%"}})})}function c(e){let{renderAsImage:t}=e;return t?(0,l.jsx)(d,{...e}):(0,l.jsx)(o,{...e})}},29519:(e,t,i)=>{"use strict";i.d(t,{AC:()=>r,FC:()=>c,FP:()=>o,M0:()=>s,SA:()=>p,Xq:()=>u,Y_:()=>l,o2:()=>a,s0:()=>n,z9:()=>d});let n=44,a=40,l=49,r=69,s=236,o=157,d=320,c=213,u=7,p=["US","GB","CA","FR","DE","AT","CH","IT","ES","AU","BR","NL","MX"]},643767:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var n=i(20256),a=i(233846),l=i(540547),r=i(864339),s=i(320172),o=i(824879),d=i(785893);function c(e){let t=(0,a.ZP)(),{backButtonIcon:i,errorMessage:c,name:u,onNextButtonTouch:p,onNameChange:m,selectedPinIds:h=[],useRoundedCorners:_}=e,g=h.length>0?130:64;return(0,d.jsxs)(r.default,{hasFixedHeader:!0,children:[(0,d.jsxs)(l.default,{height:g,paddingY:3,useRoundedCorners:_,children:[(0,d.jsxs)(n.kC,{alignItems:"center",justifyContent:"between",children:[(0,d.jsx)(o.Z,{color:"darkGray",icon:i||"cancel",padding:3,size:"sm"}),(0,d.jsx)(n.X6,{accessibilityLevel:1,size:"300",children:t._('Add section', 'for add board section page', 'for add board section page')}),(0,d.jsx)(n.xu,{"data-test-id":"create-section-button",children:(0,d.jsx)(n.zx,{accessibilityLabel:t._('Add', 'boardSectionCreate.Add.Button.Text', 'Add button accessibility label for board section create page'),color:"red",disabled:""===u.trim(),onClick:p,size:"lg",text:t._('Next', 'Next button for board section create page', 'Next button for board section create page')})})]}),h&&(0,d.jsx)(s.Z,{selectedPinIds:h})]}),(0,d.jsx)(n.xu,{"data-test-id":"addSectionName",paddingX:2,paddingY:3,children:(0,d.jsx)(n.nv,{errorMessage:c||"",id:"section-name-input",label:t._('Name', 'boardSectionCreate.TextField.Name.Label', 'TextField label to Name on BoardSectionCreate'),onChange:e=>m(e.event),size:"lg",value:u})})]})}},638938:(e,t,i)=>{"use strict";i.d(t,{Z:()=>_});var n=i(667294),a=i(545007),l=i(20256),r=i(297934),s=i(233846),o=i(113474),d=i(697445),c=i(284472),u=i(751102),p=i(615010),m=i(990283),h=i(785893);function _({excludeBoardId:e,hideSectionPickerList:t,onRepin:i}){var _;let g=(0,s.ZP)(),y=(0,r.Z)(),f=(_=y.isAuth?y.username:"",(0,o.Z)({name:"BoardsResource",options:c.O.options({username:_,boardOrder:"custom",filterStories:!0,mixPublicSecret:!0})}),(0,a.v9)(e=>(0,u.Z)(e)||[])),[x,b]=(0,n.useState)(null);return f.length>0&&(x&&!t?(0,h.jsx)(m.Z,{boardId:x?.id,repin:(e,t)=>{x&&i(x,t)},showSectionRep:!0}):(0,h.jsxs)(l.xu,{"data-test-id":"board-picker-row-container",children:[(0,h.jsx)(l.xu,{marginTop:3,children:(0,h.jsx)(l.xv,{children:g._('All boards', 'title for board picker all boards section', 'title for board picker all boards section')})}),(0,h.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:`${d.T}px`}},paddingY:3,children:f.filter(t=>t.id!==e).map(e=>(0,h.jsx)(p.Z,{boardId:e.id,onBoardSelected:n=>((e,n)=>{if(!t&&e&&n)return void b(n);i(n)})(n,e)},e.id))})]}))}},720606:(e,t,i)=>{"use strict";i.d(t,{Wx:()=>T,ZP:()=>C});var n=i(667294),a=i(545007),l=i(616550),r=i(20256),s=i(231333),o=i(233846),d=i(902389),c=i(540547),u=i(864339),p=i(339908),m=i(697445),h=i(638938),_=i(320172),g=i(20561),y=i(782677),f=i(578373),x=i(801393),b=i(890452);let v=e=>t=>{let{source:i,target:n,pinIds:a}=e;if(t({type:"PINS_MOVE",payload:e}),i.boardlessPins||n.boardId!==i.boardId){let e={board_id:n.boardId,pin_ids:a,section_id:n.sectionId};return f.Z.create("BulkEditResource",e).callUpdate()}if(n.sectionId){let e={section_id:n.sectionId,pins:a},i="BoardSectionEditResource";return f.Z.create(i,e).callUpdate().then(n=>{let a=(0,y.Fv)(n.resource_response.data,b.Z[i]);return t((0,x.XM)(i,e,n,a)),n})}let l={section_id:i.sectionId,pins:a};return f.Z.create("BoardSectionPinsResource",l).callDelete()};var P=i(199354),S=i(824879),w=i(990283),k=i(785893);function I(e,t,i){return e?i._('Got it! Hang tight while we move all those Pins...', 'Toast message for bulk pins move.', 'Toast message for bulk pins move.'):t?i._('Saved to section!', ' - ', ' -- '):i._('Saved to board!', ' - ', ' -- ')}function T({onAddNewSection:e,useIconWithBackground:t}){let i=(0,o.ZP)();return(0,k.jsx)(d.Z,{alignCenter:t,height:t?m.y:m.T,children:(0,k.jsx)(g.Z,{onTouch:e,pressState:"none",children:(0,k.jsxs)(r.xu,{alignItems:"center","data-test-id":"addSectionButton",display:"flex",padding:+!t,children:[t?(0,k.jsx)(r.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},rounding:2,children:(0,k.jsx)(r.JO,{accessibilityLabel:i._('Create board button', 'RepinSection.CreateBoard.Button', 'accessibility label for create board button'),color:"default",icon:"add",size:20})}):(0,k.jsx)(r.JO,{accessibilityLabel:i._('Add section button', ' - ', ' -- '),color:"error",icon:"add-circle",size:38}),t?(0,k.jsx)(r.xu,{marginStart:2,children:(0,k.jsx)(r.xv,{size:"400",weight:"bold",children:i._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})}):(0,k.jsx)(r.xu,{marginStart:3,children:(0,k.jsx)(r.xv,{weight:"bold",children:i._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})})]})})})}class A extends n.PureComponent{constructor(...e){var t,i,n;super(...e),t="onRepinToBoard",i=e=>{e.section_count?this.props.onRepinToBoardWithSections(e):this.props.repinToOtherBoard(e.id,this.props.i18n)},(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in this?Object.defineProperty(this,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[t]=i}render(){let{boardId:e,boardSectionId:t,orginalBoardId:i,onAddNewSection:n,repin:a,hideBoardPickerRow:l,selectedPinIds:s,isCollaborative:o}=this.props,d=i===e;return(0,k.jsxs)(u.default,{hasFixedHeader:!0,children:[(0,k.jsxs)(c.default,{hasBorder:!0,height:140,children:[(0,k.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,k.jsx)(r.xu,{column:2,children:(0,k.jsx)(S.Z,{})}),(0,k.jsx)(r.xu,{column:8,children:(0,k.jsx)(r.X6,{accessibilityLevel:1,align:"center",size:"300",children:this.props.i18n._('Choose section', 'title for section selection in repin flow', 'title for section selection in repin flow')})}),(0,k.jsx)(r.xu,{column:2})]}),(0,k.jsx)(_.Z,{selectedPinIds:s})]}),e&&(0,k.jsx)(w.Z,{boardId:e,hideBoardPickerRow:d&&l,originalBoardId:i,repin:a,sectionId:t}),d&&(0,k.jsxs)(r.xu,{children:[!o&&(0,k.jsx)(h.Z,{excludeBoardId:e,hideSectionPickerList:!0,onRepin:this.onRepinToBoard}),(0,k.jsx)(T,{onAddNewSection:n})]})]})}}let C=function(e){let{inSelectAll:t,pinIds:i,orginalBoardId:n,boardSectionId:r,onRefreshBoardSection:d,url:c}=e,{showToast:u}=(0,p.dI)(),m=(0,o.ZP)(),h=(0,l.k6)(),_=(0,a.I0)(),g=async(e,a,l)=>{let o=a&&a.id,p={boardId:n,sectionId:r},m={boardId:e,sectionId:o},g=t?(0,P.Z)({source:p,target:m,excludePinIds:i}):v({source:p,target:m,pinIds:i});n!==e?(await _(g),h.push({pathname:c})):(await _(g),d&&await d()),u(({hideToast:e})=>(0,k.jsx)(s.Z,{onHide:e,text:I(t,o,l)}))},y=async(e,a)=>{let l={boardId:n,sectionId:r},o={boardId:e,sectionId:void 0};u(({hideToast:e})=>(0,k.jsx)(s.Z,{onHide:e,text:I(t,void 0,a)})),await _(t?(0,P.Z)({source:l,target:o,excludePinIds:i}):v({source:l,target:o,pinIds:i})),h.go(-2)};return(0,k.jsx)(A,{...e,i18n:m,repin:g,repinToOtherBoard:y})}},320172:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(667294),a=i(20256),l=i(233846),r=i(903683),s=i(785893);function o({selectedPinIds:e}){let t=(0,l.ZP)(),i=(0,n.useRef)(null),o=(0,r.JC)(),d=(e||[]).map(e=>o[e]).filter(Boolean);(0,n.useEffect)(()=>{let e=i.current;e&&(e.scrollLeft=e.scrollWidth-e.offsetWidth)},[d]);let c=d.map((e,i)=>{let{description:n,images:l}=e,r=l?.["236x"];return(0,s.jsx)(a.xu,{marginEnd:1,children:(0,s.jsx)(a.zd,{height:65,rounding:2,wash:!0,width:50,children:r?.url&&(0,s.jsx)(a.Ee,{alt:!!n?.trim()&&n?.trim()||t._('Selected Pin', 'SelectedPinsPreview.image.accessibilityLabel', 'Accessibility label for Pin image without description'),color:e.dominant_color??"",fit:"contain",naturalHeight:r?.height??1,naturalWidth:r?.width??1,src:r.url})})},i)});return(0,s.jsx)(a.xu,{ref:i,display:"flex",marginTop:2,overflow:"scroll",children:c})}},697445:(e,t,i)=>{"use strict";i.d(t,{T:()=>n,y:()=>a});let n=70,a=80},798482:(e,t,i)=>{"use strict";i.d(t,{$o:()=>r,GW:()=>n,Jo:()=>l,MS:()=>y,Q8:()=>_,VX:()=>m,Zo:()=>o,aD:()=>d,b2:()=>u,g2:()=>p,s4:()=>s,tK:()=>g,ym:()=>c,zQ:()=>h});let n="/business/hub/?show_vmp=true",a=["FR"],l=["US","GB","CA","AU","DE","FR"].concat(["ES","IT","AT","CH","NL","BR","MX"]).filter(e=>!a.includes(e)),r={APPROVED:"approved",PENDING:"pending",DISAPPROVED:"declined",APPEAL_PENDING:"appeal_pending"},s=Object.freeze({APPLIED:"APPLIED",ACCEPTED:"ACCEPTED",NON_COMPLIANT:"NON_COMPLIANT",SUSPENDED:"SUSPENDED",CANCELLED:"CANCELLED"}),o=Object.freeze({UNSTARTED:"workflow-status-unstarted",IN_PROGRESS:"workflow-status-in-progress",ACCEPTED:"check-circle",ATTENTION:"workflow-status-warning",REJECTED:"workflow-status-problem",RECOMMENDED:"info-circle"}),d=Object.freeze({UNSTARTED:"dark",IN_PROGRESS:"success",ACCEPTED:"success",ATTENTION:"warning",REJECTED:"error",RECOMMENDED:"subtle"}),c="Verified merchant program not yet available in this country",u=2e3,p={can_appeal:!0,is_appeal:!1,appeal_count:0,appeal_comment:"",shipping_policy_url:"",return_policy_url:"",review_status:2,review_reasons:[]},m=Object.freeze({ACCOUNT_AGE:"ACCOUNT_AGE",DOMAIN_AGE:"DOMAIN_AGE",PROFILE_IMAGE:"PROFILE_IMAGE",PROFILE_COVER_IMAGE:"PROFILE_COVER_IMAGE",BIO:"BIO",SHOP_TAB:"SHOP_TAB",PINNER_FEEDBACK:"PINNER_FEEDBACK"}),h=[m.ACCOUNT_AGE,m.DOMAIN_AGE,m.PROFILE_IMAGE,m.PROFILE_COVER_IMAGE,m.BIO,m.SHOP_TAB,m.PINNER_FEEDBACK],_=Object.freeze({PASS:"PASS",FAIL:"FAIL"}),g=30,y=.5},146720:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(282273),a=i(174646),l=i(597774),r=i(785893);function s({children:e,type:t}){let i=(0,a.B)();return(0,r.jsx)(n.Z,{annotateExperiments:[...i.isAuthenticated?["authDesktop"===t?"auth_dweb_graphql_pin_page":"auth_mweb_graphql_pin_page"]:[],i.isAuthenticated?"web_eager_loadable_auth":"web_eager_loadable_unauth",..."authDesktop"===t?["closeup_dweb_side_by_side_redesign_fast_follow"]:[],..."authDesktop"===t?["auth_dweb_shuffle_renderer_closeup_v2"]:[]],constraints:"authDesktop"===t?[...l.d0]:["PinPageMainImageRendered"],customEnabledNavigationTypes:["initial_app_load","client_route_push","client_route_replace"],surface:"pin_closeup",children:e})}},132280:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var n=i(667294),a=i(20256),l=i(283737),r=i(19963),s=i(174646),o=i(538645),d=i(460632),c=i(785893);function u({auxData:e,children:t,collapseButtonElementType:i,collapseByDefault:u=!0,componentType:p,displayViewState:m,expandButtonElementType:h,forceTappableHeader:_,headerHeight:g,headerPaddingRight:y,headerPreview:f,heading:x,surface:b,viewParameter:v,viewType:P}){let S=(0,o.HG)(),{isBot:w}=(0,s.B)(),{logContextEvent:k}=(0,r.u)(),{setIsShoppingModuleExpanded:I}=(0,d.x4)(),T=(0,n.useRef)(null),[A,C]=(0,n.useState)(void 0),[E,j]=(0,n.useState)(!w&&u||[1,2].includes(m));return(0,n.useEffect)(()=>{T.current&&C(T.current.scrollHeight+parseInt(window.getComputedStyle(T.current?.firstElementChild).marginTop,10))},[T]),(0,n.useEffect)(()=>{I&&I(!E)},[]),(0,c.jsxs)(a.kC,{dataTestId:"collapsible-layout",direction:"column",gap:4*!S,children:[(0,c.jsx)(l.Z,{collapsed:E,displayViewState:m,forceTappableHeader:_,headerHeight:g,headerPaddingRight:y,headerPreview:f,heading:x,onClick:()=>{j(!E),I&&I(E),k({aux_data:e,component:p,element:E?h:i,event_type:S?101:102,view_parameter:v,view_type:P})},showArrow:!0,surface:b}),S?(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transition:"height 600ms cubic-bezier(.25,1,.5,1)"}},"data-test-id":`collapsible-layout-content-${E?"collapsed":"expanded"}`,height:E?"0px":`${A}px`,marginBottom:E?void 0:1,overflow:"hidden",children:(0,c.jsx)(a.xu,{ref:T,children:t})}):!E&&(0,c.jsx)(a.xu,{children:t})]})}},619748:(e,t,i)=>{"use strict";i.d(t,{c:()=>o,f:()=>s});var n=i(667294),a=i(218291),l=i(785893);let{Provider:r,get:s}=(0,a.Z)("CloseupAnimations");function o({children:e}){let[t,i]=(0,n.useState)(!1),[a,s]=(0,n.useState)(!1),o=(0,n.useMemo)(()=>({isShowingShareButton:t,setIsShowingShareButton:i,isShowingVisualSearchButton:a,setIsShowingVisualSearchButton:s}),[t,a]);return(0,l.jsx)(r,{value:o,children:e})}},299537:(e,t,i)=>{"use strict";i.d(t,{C:()=>s,K:()=>r});var n=i(667294),a=i(785893);let l=(0,n.createContext)({closeupBodyWidth:0,isCollageOverlayOpen:!1,isRelatedPins10PercentVisible:!1,setCloseupBodyWidth:()=>{},setIsCollageOverlayOpen:()=>{},setIsRelatedPins10PercentVisible:()=>{}});function r(){let e=(0,n.useContext)(l);if(!e)throw Error("useCloseupBodyContext must be used within CloseupBodyContextProvider");return e}function s({children:e}){let[t,i]=(0,n.useState)(0),[r,s]=(0,n.useState)(!1),[o,d]=(0,n.useState)(!1),c=(0,n.useMemo)(()=>({closeupBodyWidth:t,setCloseupBodyWidth:i,isCollageOverlayOpen:r,setIsCollageOverlayOpen:s,isRelatedPins10PercentVisible:o,setIsRelatedPins10PercentVisible:d}),[t,r,o]);return(0,a.jsx)(l,{value:c,children:e})}},760214:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});let n={WebkitMaskImage:"-webkit-radial-gradient(white, black)"},a=e=>`${e??0}px`,l=({topLeft:e,topRight:t,bottomRight:i,bottomLeft:n})=>`${a(e)} ${a(t)} ${a(i)} ${a(n)}`,r=({additionalPadding:e=0}={})=>({borderRadius:l({topLeft:24+e,topRight:24+e,bottomRight:24+e,bottomLeft:24+e}),borderRadiusNumeric:24+e});function s({additionalPadding:e,isSideBySide:t,isPadded:i,isRTL:a,closeupWithinMasonryEnabled:s=!1,peekCloseupEnabled:o=!1}){let d={additionalPadding:e};if(s)return{borderStyle:{...n,borderRadius:"24px"},borderRadiusNumeric:24};if(o)return{borderStyle:{...n,borderRadius:"unset"},borderRadiusNumeric:0};if(t){let{borderRadius:e,borderRadiusNumeric:t}=(({getterOptions:e,isPadded:t,isRTL:i})=>t?r(e):i?(({additionalPadding:e=0}={})=>({borderRadius:l({topLeft:0,topRight:32+e,bottomRight:32+e,bottomLeft:0}),borderRadiusNumeric:32+e}))(e):(({additionalPadding:e=0}={})=>({borderRadius:l({topLeft:32+e,topRight:0,bottomRight:0,bottomLeft:32+e}),borderRadiusNumeric:32+e}))(e))({isPadded:i,isRTL:a,getterOptions:d});return{borderStyle:{...n,borderRadius:e},borderRadiusNumeric:t}}{let{borderRadius:e,borderRadiusNumeric:t}=(i?r:({additionalPadding:e=0}={})=>({borderRadius:l({topLeft:32+e,topRight:32+e,bottomRight:0,bottomLeft:0}),borderRadiusNumeric:32+e}))(d);return{borderStyle:{...n,borderRadius:e},borderRadiusNumeric:t}}}},460632:(e,t,i)=>{"use strict";i.d(t,{bq:()=>o,x4:()=>d});var n=i(667294),a=i(437318),l=i(785893);let r={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:a.Gg,maxWidth:a.u6,descriptionPaneWidth:a.u6-a.Gg,isCommentAttachmentSelectorOpen:!1,isCommentComposerFocused:!1,isCommentPopoverInteractionActive:!1,isCommentThreadExpanded:!1,isCloseupMediaViewerOpen:!1,isMediaViewerOpen:!1,isShoppingModuleExpanded:!1,closeupWithinMasonryEnabled:!1,peekCloseupEnabled:!1,calculatedImageHeight:0,setAbortNoActionPlacementTimeout:()=>{},setIsCloseupMediaViewerOpen:()=>{},setIsCommentAttachmentSelectorOpen:()=>{},setIsCommentComposerFocused:()=>{},setIsCommentPopoverInteractionActive:()=>{},setIsMediaViewerOpen:()=>{},setIsShoppingModuleExpanded:()=>{},setCalculatedImageHeight:()=>{},setViewportSize:()=>{}},s=(0,n.createContext)(r);function o({children:e,value:t}){let i=(0,n.useMemo)(()=>({...r,...t}),[t]);return(0,l.jsx)(s,{value:i,children:e})}function d(){let e=(0,n.useContext)(s);if(!e)throw Error("useCloseupContext must be used within CloseupContextProvider");return e}},132588:(e,t,i)=>{"use strict";i.d(t,{C:()=>n,_:()=>a});let n=e=>!!e&&/^\/pin\/[\w-]+\/?$/.test(e.pathname),a=e=>{let t=[...e].reverse().find(({location:e})=>e&&!n(e));return t&&t.location&&(({pathname:e})=>/^\/search\/pins\//.test(e))(t.location)?(({pathname:e,search:t})=>{let i=/^\/search\/pins\/(\?.*)$/.exec(e),n=(t||i&&i[1]||"").substr(1).split("&").map(e=>e.split("=")).find(e=>"q"===e[0]);return n?decodeURIComponent(n[1]):""})(t.location):""}},751805:(e,t,i)=>{"use strict";i.d(t,{Z:()=>R});var n,a=i(667294);i(167912);var l=i(20256),r=i(297934),s=i(78039),o=i(970601),d=i(840962),c=i(158759),u=i(196794),p=i(537913),m=i(232375),h=i(137130),_=i(789634),g=i(437318),y=i(460632),f=i(785893);let x=`
.CloseupTitleCard {
  color: #444;
  font-weight: bold;
}

.CloseupTitleCard .richPinInformation {
  padding: 0 40px 16px;
  padding-top: 0;
  width: 470px; /* 80% of closeup width */
}

.CloseupTitleCard a {
    color: #444;
}

.CloseupTitleCard a:hover,
.CloseupTitleCard a:active {
  color: #444;
}`,b=(void 0!==n||(n=i(811698)).hash&&"e0961d958eda59cad942eda9890b0f5f"!==n.hash&&console.error("The definition of 'TitleDesktop_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),v=e=>{let{clientTrackingParams:t,children:i,isLink:n=!0,onClick:a,pin:s,carouselInfo:o}=e,p=(0,u.Z)(s),m=(0,r.Z)(),{closeupWithinMasonryEnabled:h,peekCloseupEnabled:g}=(0,y.x4)(),x=(0,_.Z)({clickthroughType:"middleClick",location:"closeup.title"}),b=s.imageSpec_orig?.url&&s.imageSpec_orig.width&&s.imageSpec_orig.height?s.imageSpec_orig:null,v=i;if(o){let{carouselData:e}=o||{},{carousel_slots:t=[],index:i}=e||{};t&&null!=i&&t[i]&&(p=t[i].link||p,v=t[i].title||v)}let P=s?.originPinner&&m.isAuth&&m.id===s.originPinner.entityId||!s.isGoLinkless,S=(0,d.Z)({href:{pathname:p??b?.url??"",state:{trackingParams:t}},clientTrackingParams:t,target:"blank",externalData:{pin:s&&{advertiserId:s.advertiserId,attributionSourceId:s.attributionSourceId,board:s.board&&{url:s.board.url},campaignId:s.campaignId,entityId:s.entityId,isDownstreamPromotion:s.isDownstreamPromotion,isPromoted:s.isPromoted,pinner:s.pinner&&{username:s.pinner.username},pinPromotionId:s.pinPromotionId,promoter:s.promoter&&{entityId:s.promoter.entityId},storyPinDataId:s.storyPinDataId,trackingParams:s.trackingParams}}});if(!e.pin.entityId)return null;let w=v&&(0,f.jsx)(l.X6,{accessibilityLevel:1,lineClamp:g?2:void 0,size:h?"400":"600",children:v});return(0,f.jsx)("div",{itemProp:"name",children:(n||p)&&P?(0,f.jsx)(l.rU,{_onAuxClick:({event:e})=>{(0,c.UE)(e)&&(x(),e.preventDefault(),e.stopPropagation(),a&&a(),S({event:e}))},href:p??b?.url??"",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),a&&a(),S({event:e})},rel:"nofollow",target:"blank",underline:"none",children:w}):w})},P=e=>{if(!e.pin.entityId)return null;let{entityId:t}=e.pin,i=e.pin.imageSpec_736x?.url&&e.pin.imageSpec_736x.width&&e.pin.imageSpec_736x.height?e.pin.imageSpec_736x:null;return(0,f.jsxs)(l.xu,{children:[(0,f.jsx)("meta",{content:`https://${h.Vi}/pin/${t}/`,itemProp:"url"}),i&&(0,f.jsx)("meta",{content:i.url,itemProp:"image"})]})},S=e=>{if(!e.pin.entityId)return null;let{pin:t}=e||{},{gridTitle:i,title:n}=t||{},l=i||n;return(0,f.jsx)(a.Fragment,{children:l&&(0,f.jsx)(m.Z,{children:(0,f.jsx)(v,{...e,children:l})})})},w=e=>{if(!e.pin.entityId)return null;let{pin:t}=e||{},{richMetadata:i,gridTitle:n}=t||{},{title:l}=i||{};return(0,f.jsx)(a.Fragment,{children:(n||l)&&(0,f.jsx)(m.Z,{itemType:g.iB.PRODUCT,children:(0,f.jsxs)(v,{...e,children:[n||l,(0,f.jsx)(P,{...e})]})})})},k=e=>{if(!e.pin.entityId)return null;let{pin:t}=e||{},{richMetadata:i,gridTitle:n}=t||{},{title:a}=i||{};return(0,f.jsx)(m.Z,{itemType:g.iB.ARTICLE,children:(0,f.jsx)(v,{...e,children:n||a})})},I=e=>{if(!e.pin.richMetadata?.recipe?.name)return null;let{name:t}=e.pin.richMetadata.recipe;return(0,f.jsx)(m.Z,{itemType:g.iB.RECIPE,children:(0,f.jsx)(v,{...e,children:t})})},T=e=>e.pin.richMetadata?.tutorial?.fromAggregatedData||!e.pin.richMetadata?.tutorial?.name?null:(0,f.jsx)(m.Z,{children:(0,f.jsx)(v,{...e,children:(0,f.jsx)(l.xu,{children:e.pin.richMetadata.tutorial.name})})}),A=e=>{let t=!!e.pin.richSummary?.displayName;return t?(0,f.jsx)(m.Z,{children:(0,f.jsx)(v,{...e,children:(0,f.jsx)(l.xu,{children:t})})}):null},C=e=>{if(!e.pin.entityId)return null;let{gridTitle:t}=e.pin||{};return(0,f.jsx)(m.Z,{itemType:g.iB.ARTICLE,children:(0,f.jsx)(v,{...e,children:t})})};function E(e){let{carouselInfo:t}=e,{carouselData:i}=t||{},{carousel_slots:n}=i||{};return((n||[])[0]||{}).title}let j=e=>{let{pin:t,...i}=e;if(!e.pin.entityId)return null;let n=E(i);return(0,f.jsx)(m.Z,{itemType:g.iB.ARTICLE,children:(0,f.jsx)(v,{...e,children:n})})},R=({pinKey:e,...t})=>{let i=(0,s.Z)(b,e),{carouselInfo:n,onTitleCheck:r}=t,d=!!i.entityId&&!!i.gridTitle,c=!!i.richMetadata?.tutorial?.name,u=!!i.richMetadata?.recipe?.name,m=!!i.richMetadata?.article?.name,h=!!i.richSummary?.displayName,_=(0,p.Z)(i),{clientTrackingParams:g}=(0,y.x4)(),v=C,P=!1;return n&&i.entityId&&E(t)?v=j:_?v=w:(e=>{let{carouselData:t,title:i}=e??{};if(i)return!0;if(t){let{carouselSlots:e,index:i}=t;if(null!=i&&e?.[i]&&e[i].title)return!0}return!1})(i)?v=S:c?v=T:u?v=I:m?v=k:h?v=A:d||(P=!0),(0,a.useEffect)(()=>{r?.(P)},[P,r]),(0,f.jsxs)(a.Fragment,{children:[(0,f.jsx)(o.Z,{unsafeCSS:x}),(0,f.jsx)("div",{className:"CloseupTitleCard",children:(0,f.jsx)(l.xu,{children:(0,f.jsx)(v,{...t,clientTrackingParams:g,pin:i})})})]})}},437318:(e,t,i)=>{"use strict";i.d(t,{$T:()=>_,CI:()=>r,Ch:()=>o,ER:()=>h,Gb:()=>d,Gg:()=>a,Hf:()=>f,Id:()=>v,Ie:()=>u,KP:()=>p,Kn:()=>s,O5:()=>g,d2:()=>c,dm:()=>P,fF:()=>b,g9:()=>m,iB:()=>x,rv:()=>y,u6:()=>l});var n=i(20256);let a=508,l=1016,r=488,s=992,o=672,d=1176,c=40,u=72,p=740,m=32,h=16,_=24,g=2,y=1,f=new n.Ry(5),x={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"},b={boxShadow:"0 2px 5px rgba(0, 0, 0, 0.06)",transition:"box-shadow 200ms ease-in-out"},v="calc(90vh - 80px)",P="calc(55vh + 80px)"},597774:(e,t,i)=>{"use strict";let n;i.d(t,{GL:()=>r,_z:()=>a,d0:()=>o,hO:()=>s,pM:()=>l});let a="video",l="image",r=new Map([["DEFAULT",new Set(["button"])],["story_pin",new Set([a])],["product_detail_page",new Set(["description","shopButton","thumbnailsLoaded"])],["product_detail_page_plus",new Set(["description","shopButton","thumbnailsLoaded"])]]),s=(n=new Set,r.forEach(e=>{n=new Set([...n,...e])}),n),o=new Set([...s,l,"resource"])},766234:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var n=i(667294),a=i(20256),l=i(660098),r=i(174646),s=i(437318),o=i(460632),d=i(785893);let c=(0,n.memo)(function({children:e,isStoryPin:t=!1,isWideVideo:i=!1}){let n,{showCloseupContentRight:c,showProductDetailPage:u,closeupWithinMasonryEnabled:p,peekCloseupEnabled:m,viewportSize:h,maxWidth:_}=(0,o.x4)(),{fiftyPercentWidth:g}=(0,l.Re)(),y=i?s.KP:_,f=p?s.Gg:s.CI,x=i?s.Gg:u?f:1050,{isRTL:b}=(0,r.B)();return t?(0,d.jsx)(a.xu,{bottom:!0,display:"flex",left:b,position:"absolute",right:!b,top:!0,width:m?g:s.Gg,children:e}):(p||m||(n=(c||i)&&"lg"===h?y:x),(0,d.jsx)(a.xu,{maxWidth:n,width:i||p?"100%":void 0,children:e}))});function u(e){return(0,d.jsx)(c,{...e})}},552020:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var n=i(20256),a=i(475110),l=i(174646),r=i(760214),s=i(437318),o=i(460632),d=i(785893);function c({children:e,isVideo:t=!1,isWideVideo:i,shouldPadImage:c,styleOverrides:u={},variant:p}){let{showCloseupContentRight:m,viewportSize:h,paneWidth:_,closeupWithinMasonryEnabled:g,peekCloseupEnabled:y,showProductDetailPage:f}=(0,o.x4)(),x=(0,l.B)(),b=(0,a.Z)({showProductDetailPage:f}),v="default"===p;if(!(!g&&(m&&"lg"===h||v||i)))return(0,d.jsx)(n.xu,{children:e});let{borderStyle:P}=(0,r.Z)({isSideBySide:m&&!i,isPadded:c,isRTL:x.isRTL,closeupWithinMasonryEnabled:g,peekCloseupEnabled:y}),S=i?s.KP:_,w=i?s.KP:496,k=u.height?.height||"100%",I=u.maxWidth?.maxWidth||S,T=u.minWidth?.minWidth||_;return(0,d.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:b||g?void 0:u.borderRadius||P.borderRadius,...c&&t?{overflow:"hidden"}:{}}},display:v?"flex":void 0,flex:v&&i?"grow":void 0,height:v?k:void 0,justifyContent:v?"center":void 0,marginBottom:v?void 0:6,marginEnd:v?void 0:6*!i,maxWidth:v?I:w,minWidth:v?T:344,rounding:v?void 0:2,children:e})}},622556:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(667294),a=i(20256),l=i(460632),r=i(785893);let s=(0,n.memo)(function({children:e}){let{showCloseupContentRight:t}=(0,l.x4)();return(0,r.jsx)(a.kC,{direction:t?"row":"column",flex:"grow",children:e})});function o(e){return(0,r.jsx)(s,{...e})}},708307:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(158759),a=i(978692);let l=(e,t)=>{let i=e.action||void 0,l=(0,a.Z)({url:e.location.search});return"PUSH"===i?"click":("POP"!==i||e.location.key)&&"news_hub"!==l.entrySource?t&&(0,n.sV)(t)?"deeplink":"click":"deeplink"}},719311:(e,t,i)=>{"use strict";i.d(t,{$8:()=>c,Dk:()=>d,Fk:()=>a,fS:()=>o,lI:()=>l,mS:()=>s,qW:()=>r});var n=i(20256);let a=new n.Ry(1),l=new n.Ry(3),r=2,s=new n.Ry(r),o=3,d=new n.Ry(100),c=new n.H3([d])},625753:(e,t,i)=>{"use strict";i.d(t,{B:()=>a,q:()=>n});let{Provider:n,get:a}=(0,i(218291).Z)("CloseupPageContext")},623089:(e,t,i)=>{"use strict";function n(){return["aggregatedpindata.aggregated_stats","aggregatedpindata.creator_analytics","aggregatedpindata.id","aggregatedpindata.is_shop_the_look","aggregatedpindata.pin_tags","board.collaborated_by_me","board.followed_by_me","board.id","board.image_thumbnail_url","board.is_collaborative","board.layout","board.name","board.owner()","board.privacy","board.type","board.url","buyableproductmetadata.display_active_max_price","buyableproductmetadata.display_active_min_price","buyableproductmetadata.short_description","buyableproductmetadata.title","comment.commenter()","comment.created_at","comment.deletable_by_me","comment.id","comment.text","comment.type","domain.official_user()","pin.access","pin.ad_destination_url","pin.ad_match_reason","pin.additional_hide_reasons","pin.aggregated_pin_data()","pin.alt_text","pin.attribution","pin.board()","pin.carousel_data()","pin.collection_pin()","pin.comment_count","pin.comments(limit:5,resume:true)","pin.created_at","pin.creator_analytics","pin.debug_info_html","pin.description_html","pin.description","pin.domain","pin.dominant_color","pin.embed","pin.grid_description","pin.grid_title","pin.has_required_attribution_provider","pin.id","pin.image_crop","pin.image_signature","pin.image_square_url","pin.images[170x,136x136,236x,474x,736x,orig]","pin.images[236x]","pin.is_downstream_promotion","pin.is_eligible_for_pdp","pin.is_eligible_for_web_closeup","pin.is_native","pin.is_playable","pin.is_promoted","pin.is_quick_promotable","pin.is_repin","pin.is_uploaded","pin.is_video","pin.is_whitelisted_for_tried_it","pin.link_domain()","pin.link_user_website()","pin.link","pin.manual_interest_tags","pin.method","pin.native_creator()","pin.pinner()","pin.price_currency","pin.price_value","pin.privacy","pin.promoted_is_removable","pin.promoted_lead_form","pin.promoter()","pin.reaction_counts","pin.repin_count","pin.rich_summary()","pin.shopping_flags","pin.product_metadata()","product_metadata.shopping_flags","pin.sponsorship","pin.story_pin_data_id","pin.story_pin_data()","pin.title","pin.tracking_params","pin.type","pin.videos()","pin.view_tags","pincarouselslot.details","pincarouselslot.id","pincarouselslot.images[60x60,136x136,170x,236x,474x,564x,736x,600x315,orig]","pincarouselslot.link","pincarouselslot.title","pintag.pin_tag_key","pintag.pins()","pintag.type","pintag.x_percent","pintag.y_percent","user.blocked_by_me","user.explicitly_followed_by_me","user.full_name","user.id","user.image_large_url","user.image_small_url","user.is_verified_merchant","user.type","user.username","user.verified_identity","userwebsite.official_user()","video.id","video.video_list[V_HLSV4,V_HLSV3_WEB,V_HLSV3_MOBILE,V_EXP3,V_EXP4,V_EXP5,V_EXP6,V_EXP7]"]}i.d(t,{Z:()=>n})},813509:(e,t,i)=>{"use strict";i.d(t,{Yg:()=>c,ib:()=>p,nF:()=>h,xX:()=>m});var n=i(967312),a=i(174646),l=i(538645),r=i(992114);let s=["image"],o=["image","storyPin"],d=({checkExperiment:e})=>{let{group:t}=e("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0});return{logStat:(e,i)=>(0,r.nP)("webapp.graphql.debug_auth_mweb_graphql_pin_page",{sampleRate:1,tags:{event:e,group:t,...i}})}},c=()=>{let{isAuthenticated:e}=(0,a.B)(),t=(0,l.HG)(),{checkExperiment:i}=(0,n.r)();return e&&!t?d({checkExperiment:i}):{logStat:()=>{}}},u=0,p=({checkExperiment:e,isAuthMweb:t})=>{if(!t)return;let{logStat:i}=d({checkExperiment:e});(u+=1)<10&&i(`repin_${u}`)};function m({checkExperiment:e,isDesktop:t,isAuthenticated:i}){if(!i)return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,validImageTypes:["image"]};if(t){let{anyEnabled:t}=e("auth_dweb_graphql_pin_page");return{isGraphQLEnabledForRelatedPins:t,isGraphQLEnabledInGeneral:t,validImageTypes:s}}{let{anyEnabled:t,group:i}=e("auth_mweb_graphql_pin_page");switch(i){case"control":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,validImageTypes:s};case"enabled":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,validImageTypes:s};case"enabled_story_pin":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,validImageTypes:o};case"only_closeup":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!1,validImageTypes:s};case"only_closeup_story_pin":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!1,validImageTypes:o};case"only_related_pins":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,validImageTypes:s};default:return{isGraphQLEnabledInGeneral:t,isGraphQLEnabledForRelatedPins:t,validImageTypes:s}}}}function h(){let{checkExperiment:e}=(0,n.r)(),t=(0,l.HG)(),{isAuthenticated:i}=(0,a.B)();return m({checkExperiment:e,isDesktop:t,isAuthenticated:i})}},923063:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u}),i(667294);var n=i(20256),a=i(640935),l=i(703116),r=i(247854),s=i(233846),o=i(51340),d=i(538645),c=i(785893);let u=({onClose:e,replyToComment:t})=>{let i=(0,s.ZP)(),u=(0,a.Yc)(),p=(0,d.HG)(),m=t?.text||t?.details,h=t?.user?.first_name||t?.user?.username,_=i._('Edit comment icon', 'commentContextBanner.editing.icon', 'Banner icon for editing a comment'),g=t?(0,o.nk)(i._('Replying to {{ userName }}', 'commentContextBanner.replying.header', 'Header text for replying to a comment. userName: name of the user being replied to'),{userName:h}):i._('Editing your comment', 'commentContextBanner.editing.header', 'Header text for editing a comment'),y=t?(0,c.jsx)(l.Z,{color:u?"white":void 0}):(0,c.jsx)(n.JO,{accessibilityLabel:_,color:"default",icon:"edit",size:12});return(0,c.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:r.zsO,paddingLeft:"16px",paddingRight:"14px"}},direction:"row",display:"flex",justifyContent:"between",paddingY:3,children:[(0,c.jsxs)(n.kC,{direction:"column",justifyContent:"center",children:[(0,c.jsxs)(n.kC,{alignItems:"center",direction:"row",children:[(0,c.jsx)(n.xu,{marginEnd:1.5,children:y}),(0,c.jsx)(n.xv,{size:"100",weight:"bold",children:g})]}),m&&(0,c.jsx)(n.xu,{marginTop:1.5,children:(0,c.jsx)(n.xv,{color:u?"default":"subtle",lineClamp:1,size:"100",children:m})})]}),p&&(0,c.jsx)(n.hU,{accessibilityLabel:i._('Close comment context banner', 'commentContextBanner.close.icon', 'Icon to close the comment context banner'),icon:"cancel",onClick:e,padding:1,size:"lg"})]})}},866540:(e,t,i)=>{"use strict";i.d(t,{B:()=>S,Z:()=>I});var n,a=i(667294),l=i(545007);i(167912);var r=i(616550),s=i(20256),o=i(276383),d=i(297934),c=i(78039),u=i(113474),p=i(538645),m=i(755090),h=i(827491),_=i(488879),g=i(921506),y=i(644849),f=i(689767),x=i(617100),b=i(393995),v=i(945011),P=i(785893);let S=({aggregatedPinDataId:e,featuredCommentIds:t,featuredDidItIds:i,isDesktop:n,isReversed:a=!1,noCache:l=!1,orbacSubjectId:r=""})=>({name:"UnifiedCommentsResource",options:{aggregated_pin_id:e,comment_featured_ids:t,did_it_featured_ids:i,page_size:n?10:25,redux_normalize_feed:!0,is_reversed:a,...r?{orbac_subject_id:r}:{}},noCache:l}),w=(void 0!==n||(n=i(915472)).hash&&"6e4bec581cece19361386d6124ddde90"!==n.hash&&console.error("The definition of 'CommentThreadContainer_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),k=({aggregatedPinDataId:e,closeupAttributionId:t,closeupAttributionUsername:i,commentsDisabled:n,hasComments:c,isReadOnly:w,pinId:k,isVideo:I,pinnerId:T,scrollContainer:A,setIsComposingNewComment:C=()=>{},showingCloseupCommentModule:E,storyPinDataId:j,viewParameter:R,toggleComposerForReply:L,openMwebOverflowMenu:F})=>{let{comment_id:D}=(0,r.UO)(),O=(0,l.I0)(),M=(0,p.HG)(),Z=(0,d.Z)(),z=(0,a.useRef)(c),N=(0,h.Z)(),K=(0,_.lJ)(Z,N),B=(0,u.Z)(z.current&&e?S({aggregatedPinDataId:e,featuredCommentIds:D?[D]:[],isDesktop:M}):null),{removeUnauthCommentPinId:U,unauthCommentPinId:V}=(0,f.o)(),H=(0,g.lV)(),{toggleAggregatedCommentHelpful:G,toggleAggregatedCommentLike:W}=(0,g.nf)(),$=(0,v.dM)(),Y=(0,l.v9)(t=>(0,b.Z)(t,{aggregatedPinDataId:e,aggregatedComments:H,users:$})),[X,q]=(0,a.useState)(void 0);(0,m.Z)(()=>{!M&&Z.isAuth&&V&&k&&V===k&&(C(!0),U())}),(0,a.useEffect)(()=>{let e=()=>{let t=!!A&&A.scrollTop+A.clientHeight+10>=A.scrollHeight;B&&!B.isFetching&&(B.isAtEnd?A?.removeEventListener("scroll",e):t&&B.fetchMore())};return A?.addEventListener("scroll",e),()=>{A?.removeEventListener("scroll",e)}},[B,A]);let J=2*(!M&&!n);return(0,P.jsx)(a.Fragment,{children:(0,P.jsx)(s.xu,{display:"flex",height:M||n||0!==Y.length?void 0:"100%",marginTop:M?6:J,width:"100%",children:(0,P.jsx)(o.Z,{aggregatedPinDataId:e,closeupAttributionId:t,closeupAttributionUsername:i,comments:Y,commentsDisabled:n,isDesktop:M,isReadOnly:w,isVideo:I,openOverflowMenu:F,parentId:e??"",parentType:y.o.pin,pinId:k,pinnerId:T,reactionListCommentId:X,showingCloseupCommentModule:E,showReactionListForComment:q,storyPinDataId:j,toggleHelpful:(e,t,i)=>()=>{i?O((0,x.YH)({didItDataId:e,isMarkedHelpfulByMe:t,orbacSubjectId:K})):G({aggregatedCommentId:e,isMarkedHelpfulByMe:t,orbacSubjectId:K})},toggleLike:(e,t,i)=>()=>{i?O((0,x.wH)({didItDataId:e,isLikedByMe:t,orbacSubjectId:K})):W({aggregatedCommentId:e,isLikedByMe:t,orbacSubjectId:K})},toggleReplyComposer:L,userAvatarSize:"sm",viewParameter:R})})})};function I({pinKey:e,...t}){let i=(0,c.Z)(w,e),n=(i?.aggregatedPinData?.commentCount||0)+(i?.aggregatedPinData?.didItData?.imagesCount||0);return(0,P.jsx)(k,{aggregatedPinDataId:i?.aggregatedPinData?.entityId,closeupAttributionId:i?.closeupAttribution?.entityId,closeupAttributionUsername:i?.closeupAttribution?.username,commentsDisabled:i?.commentsDisabled,disablePhotoCommentSelection:!!i?.doneByMe,hasComments:n>0&&!i?.commentsDisabled,isVideo:!!i?.videos?.videoList,pinId:i?.entityId,pinnerId:i?.pinner?.entityId,storyPinDataId:i?.storyPinData?.entityId,...t})}},689767:(e,t,i)=>{"use strict";i.d(t,{o:()=>s,p:()=>o});var n=i(667294),a=i(218291),l=i(785893);let{Provider:r,get:s}=(0,a.Z)("Session");function o({children:e}){let[t,i]=(0,n.useState)(void 0),a=(0,n.useCallback)(()=>i(void 0),[]),s=(0,n.useMemo)(()=>({unauthCommentPinId:t,setUnauthCommentPinId:i,removeUnauthCommentPinId:a}),[t,a]);return(0,l.jsx)(r,{value:s,children:e})}},188073:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(20256),a=i(785893);function l({children:e,color:t,isDarkMode:i,outlined:l,type:r="bold",rounding:s=4}){return(0,a.jsxs)(n.xu,{position:"relative",children:[(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},"data-test-id":"outline-content",overflow:"hidden",rounding:s,children:e}),l&&(0,a.jsx)(n.xu,{bottom:!0,color:"transparent",dangerouslySetInlineStyle:{__style:function({color:e,isDarkMode:t,type:i}){let n=t?"#fff":"#000",a=t?"#000":"#fff";return"solid"===i?{boxShadow:`inset 0 0 0 2px ${e??n}`,WebkitBoxShadow:`inset 0 0 0 2px ${e??n}`,MozBoxShadow:`inset 0 0 0 2px ${e??n}`}:{boxShadow:`inset 0 0 0 2px ${e??n}, inset 0 0 0 4px ${a}`,WebkitBoxShadow:`inset 0 0 0 2px ${e??n}, inset 0 0 0 4px ${a}`,MozBoxShadow:`inset 0 0 0 2px ${e??n}, inset 0 0 0 4px ${a}`}}({color:t,isDarkMode:i,type:r})},"data-test-id":"outline-box",left:!0,position:"absolute",right:!0,rounding:s,top:!0})]})}},552367:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var n=i(20256),a=i(231333),l=i(297934),r=i(233846),s=i(51340),o=i(967312),d=i(785893);function c({boardName:e,boardUrl:t,isBoardlessPin:i,isFromPinBuilder:c,hasNewPin:u,onChangeButtonClick:p,onVisitButtonClick:m=()=>{},onHide:h,onUndo:_,pinImageUrl:g}){let y,f=(0,r.ZP)(),{checkExperiment:x}=(0,o.r)(),b=(0,l.Z)(),v=!!b.isAuth&&b.isPartner,P=i&&x("web_all_toasts_lead_to_boards").anyEnabled?v?"/me/pins/":"/me/_pins/":"/me/";return c?y={accessibilityLabel:f._('Visit Pin', 'PostSavedPinToast.a11yVisitButton', 'Accessibility label for Visit Pin saved from PinBuilder'),label:f._('Visit', 'PostSavedPinToast.VisitButton', 'Visit Pin saved from PinBuilder'),size:"lg",onClick:m}:(p||_)&&(y={accessibilityLabel:u&&i&&p?f._('Change Pin destination', 'PostSavedPinToast.a11yChangeButton', 'Change saved pin to a different destination'):f._('Undo Saved Pin', 'PostSavedPinToast.a11yUndoButton', 'Undo Saved Pin'),label:u&&i&&p?f._('Change', 'PostSavedPinToast.ChangeButton', 'Change saved pin to a different destination'):f._('Undo', 'PostSavedPinToast.UndoButton', 'Undo Saved Pin'),size:"lg",onClick:u&&i&&p?()=>p():_}),(0,d.jsx)(a.Z,{duration:i?6e3:3e3,imageUrl:g,onHide:h,primaryAction:y,text:(0,d.jsx)(n.xv,{overflow:"normal",size:"200",children:(0,s.nk)(f._('Saved to {{ destination }}', 'PostSavedPinToast.SavedToBoardLabel', 'Saved to label for better save'),{destination:(0,d.jsx)(n.rU,{href:i?P:t??"",children:(0,d.jsx)(n.xv,{lineClamp:1,size:"200",weight:"bold",children:e},"PostSavedPinToastBoardName")})})}),thumbnail:i?{icon:(0,d.jsx)(n.JO,{accessibilityLabel:f._('Saved to profile thumbnail', 'PostSavedPinToast.thumbnail.accessibilityLabel', 'Thumbnail for saved to profile.'),color:"default",icon:"history",size:24})}:void 0})}},477430:(e,t,i)=>{"use strict";i.d(t,{O:()=>c,Z:()=>u});var n=i(667294),a=i(20256),l=i(233846),r=i(142212),s=i(785893);let o=(0,n.lazy)(()=>i.e(60283).then(i.bind(i,64808))),d={xs:12,sm:16,md:20,lg:24};function c({children:e}){let t=(0,l.ZP)();return(0,s.jsx)(a.u,{dataTestId:"verified-badge-tooltip",link:(0,s.jsx)(a.rU,{href:r.vBy,target:"blank",children:(0,s.jsx)(a.xv,{color:"inverse",size:"100",weight:"bold",children:t._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:t._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function u({iconOnly:e,isVerifiedIdentity:t,isVerifiedMerchant:i,showText:r,size:u,inspirationalBadges:p,inspirationalBadgesColor:m}){let h=(0,l.ZP)(),[_,g]=(0,n.useState)(!1),y=(0,s.jsxs)(a.xu,{alignItems:"center","data-test-id":"verified-badge-icon",display:"flex",justifyContent:"start",children:[(0,s.jsx)(a.iP,{onTap:()=>g(!0),children:(0,s.jsx)(a.JO,{accessibilityLabel:h._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"info",icon:"check-circle-fill",inline:!0,size:d[u]})}),r&&(0,s.jsx)(a.xu,{marginStart:2,children:(0,s.jsx)(a.xv,{color:"shopping",inline:!0,weight:"bold",children:h._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,s.jsxs)(n.Fragment,{children:[i&&!e&&(0,s.jsx)(c,{children:y}),i&&e&&y,t&&!i&&(0,s.jsx)(a.JO,{accessibilityLabel:h._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle-fill",size:d[u]}),!t&&!e&&i&&_&&(0,s.jsx)(n.Suspense,{children:(0,s.jsx)(o,{inspirationalBadges:p,inspirationalBadgesColor:m,setShowModal:g,showModal:_})})]})}},787012:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var n=i(20256),a=i(971518),l=i(233846),r=i(586033),s=i(25486),o=i(693687),d=i(121006),c=i(744117),u=i(785893);function p({bubble:e,contextLogData:t,disableTabIndex:i,height:p,isHovered:m,onClick:h,onMouseEnter:_,onMouseLeave:g,referringSource:y,searchBoxRenderStopwatch:f,slotIndex:x,storyId:b,viewParameter:v,viewType:P,width:S}){let w=(0,l.ZP)(),{id:k,action:I,aux_fields:T,cover_images:A,dominant_colors:C,identifier_icon_type:E,title:j,story_category:R,curator:L}=e,F=A&&A[0]&&(A[0]["280x280"]||A[0]["236x"]),D=(0,d.Z)(j&&j.format||"",j&&j.args||{}),O=C&&C.length?C[0]:"gray",M=I?.url||(0,s.Z)({storyCategory:R,query:D,referringSource:y,bubbleId:k,storyId:b,title:j.format,pinId:T?.image_pin_id}),Z=!!E&&(0,o.Z)(E);return(0,u.jsx)(r.Fw,{contextLogData:{story_id:b,...t},impressionAuxFields:{storyCategory:R,story_id:b},impressionType:"Article",loggingId:k,slotIndex:x,viewParameter:v,viewType:P,children:({impressionTrackerRef:e})=>(0,u.jsx)(n.xu,{ref:e,children:(0,u.jsxs)(c.Z,{backgroundColor:O,coverImage:F,disableTabIndex:i,height:p,id:k,isHovered:m,onClick:h,onMouseEnter:_,onMouseLeave:g,searchBoxRenderStopwatch:f,url:M,width:S,children:[L&&26!==R&&(0,u.jsx)(n.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,u.jsx)(a.qE,{name:L.full_name,outline:!0,size:"xs",src:L.image_small_url})}),Z&&(0,u.jsx)(n.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,u.jsx)(n.JO,{accessibilityLabel:w._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",icon:Z,size:12})}),(0,u.jsx)(n.xu,{alignItems:26===R?"end":"center","data-test-id":"discover-bubble",display:"flex",height:p,justifyContent:"center",padding:3,position:"absolute",top:!0,width:S||"100%",children:(0,u.jsxs)(n.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[p>200?(0,u.jsx)(n.X6,{align:"center",color:"light",size:"600",children:D}):(0,u.jsx)(n.xv,{align:"center",color:"light",weight:"bold",children:D}),L&&26===R&&(0,u.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,u.jsx)(n.xu,{marginEnd:2,children:(0,u.jsx)(a.qE,{name:L.full_name,outline:!0,size:"xs",src:L.image_small_url})}),(0,u.jsx)(n.xv,{color:"light",size:"100",children:L.full_name})]})]})})]})})})}},744117:(e,t,i)=>{"use strict";i.d(t,{A:()=>r,Z:()=>s});var n=i(667294),a=i(20256),l=i(785893);let r={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function s({backgroundColor:e,children:t,coverImage:i,disableTabIndex:s,height:o,id:d,isHovered:c,onClick:u,onMouseDown:p,onMouseEnter:m,onMouseLeave:h,searchBoxRenderStopwatch:_,url:g,width:y}){let[f,x]=(0,n.useState)(!1),b=()=>{m?m():x(!0)},v=()=>{h?h():x(!1)},P=c||f,S=P?r.hoverOverlay:r.bubbleOverlay;return(0,l.jsx)(a.Tg,{href:g,onBlur:v,onFocus:b,onMouseDown:p,onMouseEnter:b,onMouseLeave:v,onTap:()=>{u?.(d)},rounding:4,tabIndex:s?-1:void 0,children:(0,l.jsx)(a.zd,{height:o,rounding:4,width:y||"100%",children:i?.url?(0,l.jsxs)(a.Ee,{alt:"",color:e,fit:"cover",naturalHeight:i.height??1,naturalWidth:i.width??1,onLoad:()=>{_?.stop()},role:"presentation",src:i.url,children:[(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:S},height:"100%",width:"100%"}),"function"==typeof t?t({isHovered:P}):t]}):(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},236062:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>m});var n=i(20256),a=i(19963),l=i(56063),r=i(586033),s=i(228372),o=i(693687),d=i(460632),c=i(787012),u=i(785893);let p=l.yF;function m({contextLogData:e,bubbles:t,id:i,referringSource:l,slotIndex:m,storyType:h,title:_,titleIcon:g,viewType:y,viewParameter:f}){let{logContextEvent:x}=(0,a.u)(),{closeupWithinMasonryEnabled:b}=(0,d.x4)(),v=t?.map(({type:e,id:t})=>e+":"+t).join("|"),P={story_type:h,...e,content_ids:v},S=!!g&&(0,o.Z)(g);return(0,u.jsx)(r.Fw,{componentType:200,contextLogData:P,impressionType:"Story",loggingId:i,objectIdStr:i,slotIndex:m,viewParameter:f,viewType:y,children:({impressionTrackerRef:e})=>(0,u.jsxs)(n.xu,{ref:e,children:[_&&(0,u.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:1,children:[S&&(0,u.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:1}},marginEnd:2,children:(0,u.jsx)(n.JO,{accessibilityLabel:"",color:"default",icon:S,size:14})}),(0,u.jsx)(n.xv,{weight:"bold",children:(0,s.Z)(_)})]}),t?.map((e,t)=>(0,u.jsx)(n.xu,{flex:"none",paddingY:1,children:(0,u.jsx)(c.Z,{bubble:e,contextLogData:P,height:103,onClick:e=>{x({event_type:101,object_id_str:e,view_type:y,view_parameter:f,component:200,aux_data:P})},referringSource:l,slotIndex:t,storyId:i,viewParameter:f,viewType:y,width:b?"100%":p})},`bubble-${e.id}`))]})})}},245406:(e,t,i)=>{"use strict";i.d(t,{n:()=>u,v:()=>p});var n=i(667294),a=i(616550),l=i(218291),r=i(78263),s=i(538645),o=i(813051),d=i(785893);let{Provider:c,get:u}=(0,l.Z)("SearchParams"),p=({children:e,value:t})=>{let i=function(){let e=(0,s.HG)(),{search:t,pathname:i}=(0,a.TH)(),{scope:n}=(0,a.UO)(),l=!n&&i.includes("/_tools/shop");return(0,o.Z)({isDesktop:e,scope:l?r.lw.SHOP_TOOL:n,search:t})}(),l=(0,n.useMemo)(()=>({...i,...t}),[i,t]);return(0,d.jsx)(c,{value:l,children:e})}},615110:(e,t,i)=>{"use strict";i.d(t,{Z:()=>v});var n=i(667294),a=i(20256),l=i(925091),r=i(892671),s=i(357525),o=i(477565),d=i(538645),c=i(245406),u=i(19963),p=i(785893);function m({currentlyAppliedFiltersParamTerm:e,display:t,imageUrl:i,term:n,onClickApplyFilters:l,query:r,viewParameter:s,viewType:o}){let{logContextEvent:c}=(0,u.u)(),m=(0,d.HG)();return(0,p.jsx)(a.xu,{"data-test-id":"hairstyle-option",children:(0,p.jsx)(a.Fm,{accessibilityLabel:t,graphicSrc:i,onClick:()=>(function({query:e,onClickApplyFilters:t,currentlyAppliedFiltersParamTerm:i,term:n,logContextEvent:a,viewParameter:l,viewType:r}){let s=i===n?"":n;a({event_type:101,component:13864,element:1341,view_parameter:l,view_type:r,aux_data:{entered_query:e,filter_type:"hair_pattern",value:s}}),t(s)})({onClickApplyFilters:l,query:r,currentlyAppliedFiltersParamTerm:e,term:n,logContextEvent:c,viewParameter:s,viewType:o}),selected:e===n,size:m?"lg":"sm",text:t})})}var h=i(964337),_=i(393383);function g({children:e,filterType:t,moduleType:i}){let n=(0,d.HG)(),l=(0,d.Wb)();if(i===_.CT.CLOSEUP_FEED)return(0,p.jsx)(a.kC,{flex:"shrink",gap:{column:2,row:2},justifyContent:"center",wrap:!0,children:e});if(n||l)return(0,p.jsx)(a.kC,{gap:{column:0,row:1},children:e});let r=!n&&i===_.CT.SEARCH_AUTOCOMPLETE;return(0,p.jsx)(a.xu,{overflow:"hidden",width:"100%",children:(0,p.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{scrollbarWidth:"none"}},direction:"row",display:"flex",justifyContent:t===_.ti.SKIN?"center":"start",overflow:"scrollX",paddingY:2*!r,width:"100%",children:e})})}let y=[["skinTone1","skinTone2","skinTone3","skinTone4"],["skinTone5","skinTone6","skinTone7","skinTone8"],["skinTone9","skinTone10","skinTone11","skinTone12"],["skinTone13","skinTone14","skinTone15","skinTone16"]];function f({altText:e,display:t,onClick:i,index:n,isSelected:l}){return(0,p.jsx)(a.xu,{"data-test-id":"skin-tone-option",children:(0,p.jsx)(a.Fm,{accessibilityLabel:e,color:y[n],onClick:i,selected:l,size:"lg",text:t})})}let x=(0,i(757653).Z)(()=>Promise.all([i.e(37348),i.e(34140)]).then(i.bind(i,219854)),void 0,e=>219854,"app-common-react-components-OneBar-OneBar");function b({children:e,moduleType:t}){let i=t===_.CT.SEARCH_AUTOCOMPLETE;return(0,p.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{padding:i?"2px 2px 0 2px":"0 2px"}},children:e})}function v({currentlyAppliedFiltersParamTerm:e,filters:t,headerTitle:i,moduleType:u,onClickApplyFilters:y,query:v,showHairPatternEducationIcon:P,type:S,viewParameter:w,viewType:k}){let I=(0,d.HG)();if(!t||t&&t.length<1||!Array.isArray(t))return null;let T=u===_.CT.CLOSEUP_STACKED,A=u===_.CT.SEARCH_FEED,C=u===_.CT.CLOSEUP_RESPONSIVE,E=S===_.ti.HAIR,j=S===_.ti.SKIN,R=S===_.ti.BODY;return(0,p.jsx)(r.Z,{log:{component:E?13864:13863,element:1341,view_parameter:w,view_type:k},children:(0,p.jsx)(c.v,{children:(0,p.jsx)(l.f,{children:(0,p.jsx)(a.xu,{"data-test-id":"inclusive-filters-module",display:C?"flex":"block",marginBottom:I?T?7:3*!!A:0,marginTop:2*!!T,children:(0,p.jsxs)(a.kC,{alignItems:C?"start":"center",direction:"column",width:I?void 0:"100%",children:[(0,p.jsx)(h.Z,{headerTitle:i,moduleType:u,showHairPatternEducationIcon:P,type:S}),(0,p.jsxs)(g,{filterType:S,moduleType:u,children:[j&&t.map(({alt_text:t="",term:i},n)=>(0,p.jsx)(b,{moduleType:u,children:(0,p.jsx)(f,{altText:t,display:t,index:n,isSelected:e===i,onClick:()=>y(i)},i)},i)),E&&t.map(({term:t,display:i,image_urls:n})=>(0,p.jsx)(b,{moduleType:u,children:(0,p.jsx)(m,{currentlyAppliedFiltersParamTerm:e,display:i,imageUrl:n?.[0]??"",onClickApplyFilters:()=>y(t),query:v??"",term:t,viewParameter:w,viewType:k})},t)),R&&t&&(0,p.jsx)(n.Fragment,{children:(0,p.jsx)(x,{hasProductFiltersApplied:!1,marginBottom:0,oneBarModulesKey:null,oneBarModulesRest:(0,s.Z)(o.Z,!0)(t),paddingBottom:0,paddingX:0,variant:_.HE.CLOSEUP,viewParameter:w,viewType:k})})]})]})})})})})}},964337:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var n=i(667294),a=i(20256),l=i(233846),r=i(181710),s=i(538645),o=i(393383),d=i(785893);let c=(0,n.lazy)(()=>Promise.all([i.e(93041),i.e(78716),i.e(80745)]).then(i.bind(i,817498))),u=(0,n.lazy)(()=>Promise.all([i.e(93041),i.e(70717)]).then(i.bind(i,970717)));function p({headerTitle:e,moduleType:t,showHairPatternEducationIcon:i,type:p,unauthCloseupRedesignEnabled:m}){let h=(0,l.ZP)(),_=(0,s.HG)(),[g,y]=(0,n.useState)(!1);if(!e)return null;let f=t===o.CT.CLOSEUP_STACKED&&!m,x=t===o.CT.CLOSEUP_FEED,b=t===o.CT.CLOSEUP_RESPONSIVE;return(0,d.jsxs)(a.xu,{alignItems:m?"start":"center",dangerouslySetInlineStyle:{__style:{paddingLeft:2*!!b}},display:"flex",marginStart:8*!!f,paddingY:2*!!_,children:[x?(0,d.jsx)(a.kC,{gap:{row:2,column:2},maxWidth:"100%",wrap:!0,children:(0,d.jsx)(a.X6,{accessibilityLevel:2,align:"start",id:"inclusive-filters-heading",size:"body_type"===p?"300":"400",children:e})}):(0,d.jsx)(a.xv,{overflow:"normal",weight:"bold",children:e}),i&&(0,d.jsx)(a.xu,{marginStart:1,children:(0,d.jsx)(a.hU,{accessibilityLabel:h._('Learn more', 'HairPatternFilters.infoIconButton', 'Icon button to expand the educational component about hair pattern filters'),"data-test-id":"hair_pattern",icon:"info-circle",iconColor:"darkGray",onClick:()=>y(!0),padding:1,size:_?"md":"sm"})}),g&&(0,d.jsx)(r.Z,{children:(({onDismiss:e})=>_?(0,d.jsx)(c,{onDismiss:e}):(0,d.jsx)(u,{onDismiss:()=>{y(!1)}}))({onDismiss:()=>y(!1)})})]})}},393383:(e,t,i)=>{"use strict";i.d(t,{CT:()=>n,HE:()=>a,Mq:()=>l,ti:()=>r});let n={CLOSEUP_FEED:"closeup_feed",CLOSEUP_RESPONSIVE:"closeup_responsive",CLOSEUP_STACKED:"closeup_stacked",SEARCH_AUTOCOMPLETE:"search_autocomplete",SEARCH_FEED:"search_feed"},a={CLOSEUP:"closeup"},l={SKIN:"SKIN_TONE_FILTER_QUERIES",HAIR:"hair_pattern_filter_queries",BODY:"inclusive_onebar_pills_on_closeup"},r={SKIN:"skin_tone",HAIR:"hair_pattern",BODY:"body_type"}},412584:(e,t,i)=>{"use strict";i.d(t,{N4:()=>l,Wh:()=>n,hr:()=>a});let n=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),a=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),l=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},17409:(e,t,i)=>{"use strict";i.d(t,{Bb:()=>_,Bx:()=>s,F4:()=>r,Qj:()=>o,_6:()=>h,gv:()=>l,hg:()=>d,is:()=>p,jP:()=>m,lt:()=>a,oM:()=>c,wI:()=>u});var n=i(857147);let a=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),l=({firstName:e,i18n:t})=>e?(t._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):t._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),r=e=>{let t=(0,n.mB)(e.search).board_url;if(t){let e=(0,n.Jx)(t),i=(0,n.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${i}`:`${e}?${i}`}return e.pathname},s=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),o=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},d=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),c=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),u=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},p=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),m=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),h=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),_=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},462419:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(233846),a=i(17409),l=i(316866),r=i(785893);function s({children:e,callbackFunction:t,modalHeader:i,nextLocation:s}){let o=(0,n.ZP)(),{viewer:d,loginForMore:c,limitedLoginModalSubheader:u,limitedLoginModalNextLocation:p}=(0,l.m)(),m="LIMITED_LOGIN"===d.type;return(0,r.jsx)("div",{onClickCapture:e=>{m&&(t&&t(),e&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),c?.setVisible(!0),u?.setText(i||(0,a.lt)(o)),s&&p?.setRoute(s))},children:e})}},680877:(e,t,i)=>{"use strict";i.d(t,{BT:()=>O,Du:()=>Z,Fh:()=>E,HY:()=>M,HZ:()=>R,IY:()=>D,Jw:()=>f,Kp:()=>U,L7:()=>n,LT:()=>u,Lj:()=>K,Nw:()=>k,Q_:()=>w,Qc:()=>a,R5:()=>T,RA:()=>I,Tt:()=>C,UF:()=>d,UV:()=>r,VB:()=>b,W1:()=>l,Ws:()=>p,X5:()=>A,Yt:()=>F,ZW:()=>o,cK:()=>v,cy:()=>y,fA:()=>N,fn:()=>L,gm:()=>x,h7:()=>S,k:()=>_,mE:()=>B,o4:()=>h,oL:()=>z,qf:()=>m,tr:()=>c,uD:()=>P,uO:()=>g,vF:()=>s,wJ:()=>j});let n=1,a=2,l="female",r="male",s="unspecified",o="en-US",d="US",c=3,u="Welcome",p="Gender",m="CountryLocale",h="InterestPicker",_="UseCase",g="PinPicker",y="LoadingStep",f="AppInstall",x="NUX_PIN_PICKER_STEP_STATUS",b="NUX_USE_CASE_STEP_STATUS",v={NUX_GENDER_STEP_NAME:p,NUX_COUNTRY_LOCALE_STEP_NAME:m,NUX_INTEREST_PICKER_STEP_NAME:h,NUX_USE_CASE_STEP_NAME:_,NUX_PIN_PICKER_STEP_NAME:g,NUX_LOADING_STEP_NAME:y,NUX_APP_INSTALL_STEP_NAME:f},P=2,S=3,w=6,k=112,I=160,T=60,A=1e3,C=2500,E=1900,j=2e3,R=3,L=5,F=1,D=2,O=3,M=3,Z=5e3,z=250,N=1e10,K=507641,B=300,U=200},593966:(e,t,i)=>{"use strict";i.d(t,{Z:()=>k});var n=i(667294),a=i(376030),l=i(20256),r=i(233846),s=i(876748),o=i(755090),d=i(970601),c=i(785893);let u=`
@keyframes baseEduToastIconScale {
  0% {
    transform: scale(0)
  }
  30% {
    transform: scale(1.2);
  }
  50% {
    transform: scale(1);
  }
}
`;function p({addedStyles:e,button:t,headerText:i,icon:a,iconOverride:r,minHeight:s,subHeaderText:o}){return(0,c.jsx)(l.xu,{display:"flex",justifyContent:"center",paddingX:2,width:"100vw",children:(0,c.jsxs)(l.xu,{alignContent:"center",alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{boxShadow:"0 3px 6px rgba(0,0,0,0.18)",transform:"translateY(-20px)",...e}},display:"flex",minHeight:s||75,padding:6,position:"relative",rounding:4,width:"100%",children:[(()=>{let e=r||(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(d.Z,{unsafeCSS:u}),(0,c.jsx)(l.xu,{alignItems:"center",color:"education",dangerouslySetInlineStyle:{__style:{animation:"baseEduToastIconScale 3s"}},"data-test-id":"pin-save-toast",direction:"column",display:"flex",height:60,justifyContent:"center",minHeight:60,minWidth:60,rounding:"circle",width:60,children:(0,c.jsx)(l.JO,{accessibilityLabel:a.accessibilityLabel,color:a.color,dangerouslySetSvgPath:a.dangerouslySetSvgPath,icon:a.icon,inline:a.inline,size:a.size})})]});return(0,c.jsx)(l.xu,{marginEnd:4,children:e})})(),(0,c.jsxs)(l.xu,{"data-test-id":"pin-save-toast-header",marginEnd:"auto",children:[(0,c.jsx)(l.xv,{color:"default",weight:"bold",children:i}),!!o&&(0,c.jsx)(l.xu,{paddingY:1,children:(0,c.jsx)(l.xv,{color:"default",size:"300",children:o})})]}),(0,c.jsx)(l.xu,{display:"flex",flex:"shrink",marginStart:2,children:t})]})})}var m=i(293181);function h(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let _="cubicBezier(0.25, 0.1, 0.25, 1)",g="encourageToastIconContainer",y="encourageToastIconRadiateBg",f="encourageToastIconRadiateRing",x={targets:`#${g}`,duration:300,scale:1.4,easing:_},b={targets:`#${g}`,duration:300,scale:1,easing:_,endDelay:1e3},v={targets:`#${g}`,duration:300,scale:.42,easing:_},P={targets:`#${y}`,duration:400,opacity:0,scale:1.6,easing:_},S={targets:`#${f}`,duration:650,opacity:0,scale:2,easing:_};class w extends n.PureComponent{constructor(...e){super(...e),h(this,"delayTimer",null),h(this,"requestAnimationFrameId",null),h(this,"playAnimation",()=>{this.requestAnimationFrameId=window.requestAnimationFrame(()=>{(0,a.Z)(P),(0,a.Z)(S),(0,a.Z)(x).finished.then(()=>{(0,a.Z)(b).finished.then(()=>{a.Z.set(`#${g}`,{transformOrigin:"top right"}),(0,a.Z)(v)})})})}),h(this,"getHeaderText",()=>{let{text:e}=this.props;return Array.isArray(e)?e[0]:e}),h(this,"getIconProps",()=>({accessibilityLabel:this.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30})),h(this,"getSubHeaderText",()=>{let{text:e}=this.props;return e instanceof Array&&e.length>1&&e[1]?e[1]:""}),h(this,"renderAnimatedIcon",()=>(0,c.jsxs)(l.xu,{height:68,position:"relative",width:68,children:[(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{left:"4px",top:"4px"}},"data-test-id":"pin-save-toast",height:60,overflow:"hidden",position:"absolute",rounding:4,width:60,children:this.props.thumbnail}),(0,c.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{transform:"scale(0)"}},height:68,id:g,position:"absolute",width:68,children:[(0,c.jsx)(l.xu,{color:"infoBase",dangerouslySetInlineStyle:{__style:{left:"0px",top:"0px",transform:"scale(0)"}},height:68,id:y,position:"absolute",rounding:"circle",width:68}),(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{borderWidth:"2px",borderStyle:"solid",borderColor:"#0074e8",left:"1px",top:"1px",transform:"scale(0)"}},height:66,id:f,opacity:1,position:"absolute",rounding:"circle",width:66}),(0,c.jsx)(l.xu,{alignItems:"center",color:"infoBase",direction:"column",display:"flex",height:68,justifyContent:"center",minHeight:68,minWidth:68,position:"absolute",rounding:"circle",width:68,children:(0,c.jsx)(l.JO,{accessibilityLabel:this.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30})})]})]}))}componentDidMount(){this.delayTimer=setTimeout(this.playAnimation,700)}componentWillUnmount(){this.delayTimer&&clearTimeout(this.delayTimer),this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}render(){let{isRepinToExistingBoard:e,button:t}=this.props;return(0,c.jsx)(p,{button:t,headerText:this.getHeaderText(),icon:this.getIconProps(),iconOverride:e?void 0:this.renderAnimatedIcon(),subHeaderText:this.getSubHeaderText()})}}function k(e){let{duration:t,onHide:i}=e,a=(0,r.ZP)(),[d,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),_=(0,n.useRef)(void 0),g=()=>{u(!0),_.current=setTimeout(i,200)},y=()=>{_.current&&clearTimeout(_.current)};(0,o.Z)(()=>(setTimeout(()=>h(!0),100),_.current=setTimeout(g,t||m.w),y));let f=(0,c.jsx)(w,{...e,i18n:a});return e.href&&(f=(0,c.jsx)(l.rU,{href:e.href,onClick:g,rounding:"pill",tapStyle:"none",children:f})),(0,c.jsx)(s.Z,{children:(0,c.jsx)(l.mh,{children:(0,c.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...function({hiding:e,visible:t}){return t?e?{opacity:0,transform:"scale(1.0)",transition:"opacity transform .2s",pointerEvents:"none"}:{opacity:1,transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)"}:Object.freeze({})}({hiding:d,visible:p})}},display:"flex",justifyContent:"center",position:"fixed",width:"100%",zIndex:m.k,children:f})})})}},108780:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h,_:()=>m});var n=i(667294),a=i(20256),l=i(233846),r=i(275269),s=i(903683),o=i(785893);function d({pinId:e}){let t=(0,s.S6)()(e);if(!t)return null;let i=[{url:t.images?.["236x"]?.url,name:t.grid_title||""}].filter(e=>e.url);return(0,o.jsx)(r.Z,{images:i})}let c=(0,n.lazy)(()=>Promise.resolve().then(i.bind(i,396695))),u=()=>(0, l.ZP)()._('Sweet save!', 'Header text on toast that appears after user creates their first board', 'Header text on toast that appears after user creates their first board'),p=()=>(0, l.ZP)()._('All your boards live on your profile', 'Subheader text on toast that appears after user creates their first board', 'Subheader text on toast that appears after user creates their first board'),m=e=>(0,o.jsx)(a.zd,{rounding:4,children:(0,o.jsxs)(a.kC,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",children:[(0,o.jsx)(a.sg,{span:8,children:(0,o.jsx)(a.xu,{"data-test-id":"pin-save-toast",height:36,width:36,children:e?(0,o.jsx)(a.Ee,{alt:"",color:"secondary",fit:"cover",naturalHeight:1,naturalWidth:1,src:e}):(0,o.jsx)(a.xu,{color:"secondary",height:"100%",width:"100%"})})}),(0,o.jsx)(a.sg,{span:5,children:(0,o.jsxs)(a.xu,{height:"100%",children:[(0,o.jsx)(a.xu,{height:"49%",position:"relative",children:(0,o.jsx)(a.xu,{color:"secondary",overflow:"hidden",width:"100%",children:(0,o.jsx)(a.xu,{bottom:!0,left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:(0,o.jsx)(a.xu,{color:"secondary",height:"100%",width:"100%"})})})}),(0,o.jsx)(a.xu,{height:"3%",position:"relative",children:(0,o.jsx)(a.xu,{color:"transparent",overflow:"hidden",width:"100%",children:(0,o.jsx)(a.xu,{bottom:!0,left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:(0,o.jsx)(a.xu,{color:"transparent",height:"100%",width:"100%"})})})}),(0,o.jsx)(a.xu,{height:"49%",position:"relative",children:(0,o.jsx)(a.xu,{color:"secondary",overflow:"hidden",width:"100%",children:(0,o.jsx)(a.xu,{bottom:!0,left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:(0,o.jsx)(a.xu,{color:"secondary",height:"100%",width:"100%"})})})})]})})]})}),h=({boardId:e,getReduxBoard:t,isFBC:i,pinId:l,viewType:r})=>{let s=t(e);return{duration:5e3,thumbnail:(0,o.jsx)(a.xu,{"data-test-id":"pin-save-toast",children:(0,o.jsx)(n.Suspense,{children:l?(0,o.jsx)(d,{pinId:l}):(0,o.jsx)(c,{boardKey:s?{type:"deprecated",data:s}:null,type:"thumbnail",viewType:r})})}),text:i?[(0,o.jsx)(u,{},"0"),(0,o.jsx)(p,{},"1")]:void 0}}},240581:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(667294),a=i(545007),l=i(339908),r=i(680877),s=i(348393);function o(){let e=(0,a.I0)(),{showToast:t,showOneToast:i}=(0,l.dI)(),o=(0,a.oR)(),d=(0,n.useCallback)((i,n)=>{n||e((0,s.a5)()),t(i)},[e,t]);return{showToast:t,showOneToast:i,showRepinConfirmation:(t,i)=>{i||e((0,s.WF)()),setTimeout(()=>{o.getState().session.isShowingRepinConfettiAnimation?setTimeout(()=>{d(t,i)},r.wJ):d(t,i)},r.Tt)}}}},813051:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(78263),a=i(857147);function l({isDesktop:e,scope:t,search:i}){let{auto_correction_disabled:l="",b_id:r,brands:s,category:o,colors:d,commerce_only:c="",cover_pin_sig:u,deb_d:p,domains:m,filters:h,guided_search_query:_,interest_id:g,journey_depth:y,on_sale:f,price_max:x,price_min:b,q:v,query_pin_sigs:P,request_params:S,rs:w,selected_one_bar_modules:k,source_id:I,source_module_id:T,style:A,tab:C,top_pin_ids:E,user:j}=(0,a.mB)(i),R="true"===c.toLowerCase()&&"shop_tool"!==t?n.lw.PINS_BUYABLE:t;return{autoCorrectionDisabled:"true"===l.toLowerCase(),brands:s,bubbleId:r,category:o,colors:d,commerceOnly:"true"===c.toLowerCase(),coverPinSig:u,currentlyAppliedFiltersParamTerm:h,debD:p,domains:m,guidedSearchQuery:_,interestId:g,journeyDepth:y?parseInt(y,10):void 0,onSale:f,personalizationPinSig:P,placementId:(0,n.Hd)(R,e),priceMax:x,priceMin:b,query:v,requestParams:S,rs:w,scope:R,selectedOneBarModules:k,sourceId:I,sourceModuleId:T,style:A,tab:C||"",topPinIds:E,user:j,viewParameter:(0,n._R)(R),viewType:R===n.lw.SHOP_TOOL?1:2}}},384100:(e,t,i)=>{"use strict";i.d(t,{vY:()=>tu,ZP:()=>tp});var n,a,l,r,s,o,d,c,u,p=i(667294),m=i(545007),h=i(167912),_=i(616550),g=i(172045),y=i(20256),f=i(219308),x=i(896798),b=i(778622),v=i(852015),P=i(148742),S=i(231333),w=i(297934),k=i(78039),I=i(380222),T=i(233846),A=i(51340),C=i(129333),E=i(540547),j=i(864339),R=i(967312),L=i(810139),F=i(42450),D=i(538645),O=i(720606),M=i(515207),Z=i(670380);function z(e,t){return!!(e&&e.placement_id&&e.experience_id===t)}var N=i(17409),K=i(462419),B=i(509692),U=i(348332),V=i(785893);let H="cubic-bezier(0.66, 0.025, 0.33, 0.975)",G=(0,U.qe)((e,t,i,n,a)=>{let l=e,r=t,s=0,o=0,d="",c=Math.floor(t/3);if("shrinkToPin"===i&&(s="24px",o=1,l=Math.floor(3*c/2),r=c),"pinToGrid"===i&&n&&a){let e=n.getBoundingClientRect(),t=a.getBoundingClientRect(),i=t.x+t.width/2-(e.x+e.width/2),u=t.y+t.height/2-(e.y+e.height/2);d=`translate(${i}px, ${u}px)`,s="24px 0px 0px 24px",o=1,l=c,r=c}return{borderRadius:s,height:l,opacity:o,overflow:"hidden",width:r,WebkitTransformOrigin:"center center",transformOrigin:"center center",WebkitTransform:d,transform:d,WebkitTransition:`all .42s ${H}`,transition:`all .42s ${H}`}}),W=(0,U.qe)(e=>({opacity:+!!e,WebkitTransition:`opacity .42s ${H}`,transition:`opacity .42s ${H}`})),$=(0,U.qe)(e=>({opacity:+!e,WebkitTransition:`all .25s ${H}`,transition:`all .25s ${H}`,zIndex:3}));function Y({completeExperience:e,pinDominantColor:t,pinImageHeight:i,pinImageWidth:n,pinImageUrl:a}){let l,r,s,o,d=(0,T.ZP)(),[c,u]=(0,p.useState)("visible"),[m,h]=(0,p.useState)("none"),_=window.innerWidth,g=Math.floor(_/3),f=Math.floor(_/6);(0,p.useEffect)(()=>{a&&"none"===m&&(l=setTimeout(()=>{h("shrinkToPin")},85)),a&&"shrinkToPin"===m&&(r=setTimeout(()=>{h("pinToGrid")},2e3)),"pinToGrid"===m&&"visible"===c&&(s=setTimeout(()=>{u("hidden")},2e3)),"hidden"===c&&(o=setTimeout(()=>{u("none"),e()},300))}),(0,p.useEffect)(()=>()=>{clearTimeout(l),clearTimeout(r),clearTimeout(s),clearTimeout(o)},[]);let x=(0,p.useRef)(null),b=(0,p.useRef)(null);return(0,V.jsxs)(y.xu,{alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:$("hidden"===c)},direction:"column",display:"none"===c?"none":"flex",justifyContent:"center",left:!0,position:"fixed",right:!0,top:!0,children:[(0,V.jsxs)(y.xu,{alignItems:"center",display:"flex",height:_/2,justifyContent:"center",marginBottom:8,position:"relative",width:"100%",children:[(0,V.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:W("pinToGrid"===m)},position:"absolute",children:(0,V.jsx)(y.zd,{height:g,rounding:6,width:g+f+1,children:(0,V.jsxs)(y.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,V.jsx)(y.xu,{ref:b,color:"transparent",height:g,width:g}),(0,V.jsxs)(y.kC,{alignItems:"stretch",direction:"column",justifyContent:"between",children:[(0,V.jsx)(y.xu,{color:"secondary",height:f,width:f}),(0,V.jsx)(y.xu,{color:"secondary",height:f,width:f})]})]})})}),(0,V.jsx)(y.xu,{ref:x,dangerouslySetInlineStyle:{__style:G(i/n*_,_,m,x.current,b.current)},position:"absolute",children:(0,V.jsx)(y.Ee,{alt:d._('Pin image', 'Pin image on repin page', 'Pin image on repin page'),color:t,fit:"cover",naturalHeight:i,naturalWidth:n,src:a})})]}),(0,V.jsx)(y.xu,{marginBottom:8,marginTop:8,paddingX:12,children:(0,V.jsx)(y.X6,{align:"center",size:"600",children:d._('Keep your ideas organized by creating a board', 'boardPicker.edu.heading', 'board create education shown before user create their first board')})})]})}var X=i(108780),q=i(593966),J=i(837509);function Q(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let ee=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],et=(e,t)=>Math.random()*((e||1)-(t||0))+(t||0),ei=e=>Math.PI/180*e;class en extends p.PureComponent{constructor(...e){super(...e),Q(this,"animationTimer",null),Q(this,"canvasRemovalTimer",null),Q(this,"childrenContainerRef",(0,p.createRef)()),Q(this,"containerRef",(0,p.createRef)()),Q(this,"buildCanvas",()=>{if(!this.containerRef.current)return null;let e=window.innerWidth,{height:t,top:i}=this.containerRef.current.getBoundingClientRect(),n=document.createElement("canvas");return n.style.position="absolute",n.style.left="0px",n.style.top=`${i-(e-t)/2}px`,n.style.pointerEvents="none",n.style.width=`${e}px`,n.style.height=`${e}px`,n.width=e,n.height=e,n}),Q(this,"explode",()=>{let e=this.buildCanvas();if(!e)return;let t=this.containerRef.current,i=this.childrenContainerRef.current,n=e.getContext("2d");t?.insertBefore(e,i);let a=Array.from(Array(120)).map(()=>({x:e.width/2,y:e.height/2,radius:Math.round(et(10,30)),color:ee[Math.floor(Math.random()*ee.length)],degree:Number(et(0,360).toFixed(1)),speed:Math.round(et(0,25)),friction:.9,opacity:Number(et(0,.5).toFixed(1)),yVel:0,gravity:.04})),l=(e,t,i,n)=>{window.requestAnimationFrame(()=>l(e,t,i,n)),t.clearRect(0,0,i,n),e.forEach(e=>{e.x+=e.speed*Math.cos(ei(e.degree)),e.y+=e.speed*Math.sin(ei(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(t.beginPath(),t.globalAlpha=e.opacity,t.fillStyle=e.color,t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.fill())})};n&&l(a,n,e.width,e.height),this.canvasRemovalTimer=setTimeout(()=>{t?.removeChild(e)},(this.props.delay||0)+1e3)})}componentDidUpdate(e){let{delay:t,startAnimation:i}=this.props,{startAnimation:n}=e;i&&n!==i&&(this.animationTimer=setTimeout(this.explode,t))}componentWillUnmount(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}render(){return(0,V.jsx)(y.xu,{ref:this.containerRef,children:(0,V.jsx)(y.xu,{ref:this.childrenContainerRef,children:this.props.children})})}}function ea(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Q(en,"defaultProps",{delay:0});class el extends p.PureComponent{constructor(...e){super(...e),ea(this,"state",{startAnimation:!1}),ea(this,"dismissTimer",null),ea(this,"pinRef",(0,p.createRef)()),ea(this,"pinDestinationRef",(0,p.createRef)()),ea(this,"handleAnimationAndCompletion",()=>{let{onComplete:e,savePin:t,selectedBoardName:i}=this.props;if(!i)return;let n=this.startAnimation();Promise.all([n,t(i)]).then(t=>{let[,n]=t;e(n,i)}).catch(e=>{n.then(()=>{e?.onError?.()})})}),ea(this,"startAnimation",()=>new Promise(e=>{this.setState({startAnimation:!0},()=>{this.dismissTimer=setTimeout(()=>{e()},2600)})}))}componentWillUnmount(){this.dismissTimer&&clearTimeout(this.dismissTimer)}componentDidUpdate(){let{selectedBoardName:e}=this.props,{startAnimation:t}=this.state;e&&!t&&this.handleAnimationAndCompletion()}render(){let{pinDominantColor:e,pinImageUrl:t,selectedBoardName:i}=this.props,{startAnimation:n}=this.state;return(0,V.jsxs)(p.Fragment,{children:[(0,V.jsx)(y.Le,{top:J.R$,zIndex:new y.Ry(3),children:(0,V.jsx)(y.xu,{alignItems:"center",color:n?"transparent":"default",display:"flex",justifyContent:"center",children:(0,V.jsx)(y.xu,{ref:this.pinRef,dangerouslySetInlineStyle:{__style:((e,t,i)=>{let n=[],a=t.current?.getBoundingClientRect(),l=i.current?.getBoundingClientRect();if(a&&l){let e={x:l.left-a.left,y:l.top-a.top},t={x:l.width/a.width,y:l.height/a.height};n.push(`translate(${e.x}px, ${e.y}px)`),n.push(`scale(${t.x}, ${t.y})`)}return{WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?n.join(" "):"none",transform:e?n.join(" "):"none",WebkitTransition:"all .5s ease-in-out",transition:"all .5s ease-in-out",borderRadius:e?"8px 0px 0px 0px":"8px",overflow:"hidden",marginBottom:24}})(n,this.pinRef,this.pinDestinationRef)},height:84,position:"relative",width:84,children:(0,V.jsx)(y.Ee,{alt:this.props.i18n._('Pin image', 'Pin image on repin page', 'Pin image on repin page'),color:e,fit:"cover",naturalHeight:84,naturalWidth:84,src:t})})})}),(0,V.jsx)(y.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{pointerEvents:"none",opacity:+!!n,WebkitTransition:"opacity .4s ease-in-out",transition:"opacity .4s ease-in-out",zIndex:2}},left:!0,position:"fixed",right:!0,top:!0,children:(0,V.jsxs)(y.kC,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center",children:[(0,V.jsx)(en,{delay:1200,startAnimation:n,children:(0,V.jsx)(y.zd,{rounding:2,width:148,children:(0,V.jsx)(y.kC,{alignItems:"stretch",justifyContent:"start",wrap:!0,children:Array.from([,,,,]).map((e,t)=>{let i=t<=1,n=t%2,a=0===t?this.pinDestinationRef:null;return(0,V.jsx)(y.xu,{ref:a,color:0===t?"transparent":"secondary",height:72,marginBottom:+!!i,marginEnd:+!n,width:72},t)})})})}),(0,V.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{opacity:+!!n,WebkitTransform:n?"translateY(0)":"translateY(20%)",transform:n?"translateY(0)":"translateY(20%)",WebkitTransition:"all .25s ease-in-out .5s",transition:"all .25s ease-in-out .5s",textAlign:"center",marginTop:"50px"}},paddingX:4,children:(0,V.jsx)(y.X6,{children:(0,A.nk)(this.props.i18n._('You saved your first Pin to {{ selectedBoardName }}!', 'First repin confirmation message', 'First repin confirmation message'),{selectedBoardName:i})})})]})})]})}}let er=function(e){let t=(0,T.ZP)();return(0,V.jsx)(el,{...e,i18n:t})};var es=i(240581),eo=i(116965),ed=i(354687),ec=i(674574),eu=i(751102),ep=i(63500),em=i(945011),eh=i(824879),e_=i(7689),eg=i(339908),ey=i(643767),ef=i(508095),ex=i(481369),eb=i(526675);let ev=(void 0!==n||(n=i(683708)).hash&&"b3ec14d29962e56f80dd52e7e6d7a6d9"!==n.hash&&console.error("The definition of 'RepinAddSection_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function eP({createSectionAndRepin:e,errorMessage:t,i18n:i,pin:n,setErrorMessage:a,useRoundedCorners:l}){let[r,s]=(0,p.useState)("");return(0,V.jsx)(ey.Z,{backButtonIcon:"arrow-back",errorMessage:t,name:r,onNameChange:e=>{a(""),s(e.target.value)},onNextButtonTouch:()=>{e(r,i)},selectedPinIds:[n.entityId],useRoundedCorners:l})}function eS(e){let{boardId:t,isEditingPin:i,onSuccess:n,pinKey:a,pinBoardId:l,pinSectionId:r,trackingParams:s,useRoundedCorners:o}=e,d=(0,k.Z)(ev,a),c=(0,m.I0)(),u=(0,_.k6)(),h=(0,T.ZP)(),{showToast:g}=(0,eg.dI)(),y=(0,f.Z)(),b=(0,eb.n)(),{checkExperiment:v}=(0,R.r)(),P=(0,x.cO)(),[w,I]=(0,p.useState)(""),A=e=>u.push(e);return(0,V.jsx)(eP,{createSectionAndRepin:e=>{let a=e=>I(e.message_detail||e.message);c((0,ef.Z)(t,[],e,y)).then(e=>{g(({hideToast:e})=>(0,V.jsx)(S.Z,{onHide:e,text:h._('Section added!', ' - ', ' -- ')}));let o=e.resource_response.data;c((0,ed.w)({checkExperiment:v,i18n:h,logContextEvent:y,pinId:d.entityId,boardId:t,onSuccess:i?void 0:()=>{P("Save",{pin_id:d.entityId}),n()},showToast:g,section:o,trackingParams:{clientTrackingParams:s,pinnedToBoardId:d.pinnedToBoard?d.pinnedToBoard.entityId:""},historyPush:A,savePinId:b?.save??(()=>{})})).then(()=>{d&&l&&c((0,ex.q)({pinId:d.entityId,boardId:l,boardSectionId:r,clientTrackingParams:s})).then(()=>d.pinnedToBoard?u.replace(d.pinnedToBoard.url??""):void 0)}).catch(a)}).catch(a)},errorMessage:w,i18n:h,pin:d,setErrorMessage:I,useRoundedCorners:o})}var ew=i(350091),ek=i(670160),eI=i(578373),eT=i(18644),eA=i(987775),eC=i(801393),eE=i(755090),ej=i(827491),eR=i(488879),eL=i(813509),eF=i(683829),eD=i(488267),eO=i(312702),eM=i(273381),eZ=i(518626),ez=i(875202),eN=i(615010);function eK({pinId:e,handleSelected:t,surfaceOriginViewParameter:i}){let n=(0,T.ZP)(),a=(0,f.Z)();return(0,p.useEffect)(()=>{a({view_parameter:3990,event_type:13,view_type:21,aux_data:{board_picker_surface_origin:i,pin_id:e}})},[]),(0,V.jsx)(y.iP,{onTap:()=>{t(!1,null)},rounding:2,children:(0,V.jsxs)(y.xu,{alignItems:"center",column:12,"data-test-id":"board-picker-row",display:"flex",marginBottom:4,rounding:2,children:[(0,V.jsx)(y.xu,{alignItems:"center",color:"secondary",display:"flex",flex:"none",height:48,justifyContent:"center",rounding:2,width:48,children:(0,V.jsx)(y.JO,{accessibilityLabel:n._('Profile', 'save.ProfilePickerRow.IconAccessibilityLabel', 'Accessibility label for icon on option to save Pin to profile'),color:"default",icon:"history",size:22})}),(0,V.jsx)(y.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:2,overflow:"hidden",width:"100%",children:(0,V.jsx)(y.xv,{lineClamp:1,size:"400",weight:"bold",children:n._('Profile', 'save.ProfilePickerRow', 'Option to save Pin to profile')})})]})})}var eB=i(422578);function eU(){let e=(0,eB.useRelayEnvironment)();return(0,p.useCallback)(t=>{e&&(0,eB.commitLocalUpdate)(e,e=>{e.get(t)?.invalidateRecord()})},[e])}let eV=e=>e.map(e=>({board_title_id:String(e.id),board_title_kind:JSON.parse(e.recommendation_reason??"{}").reason,board_title:String(e.name),board_title_score:JSON.parse(e.recommendation_reason??"{}").score})),eH=e=>"profile"===e?3990:"topChoices"===e?3988:3989,eG=(void 0!==a||(a=i(695742)).hash&&"76b22cc5d658befe1dc27454d3aee77f"!==a.hash&&console.error("The definition of 'BoardPickerList_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),eW=(e,t,i)=>({field_set_key:"detailed",id:e,preserve_component_state:t,...i?{orbac_subject_id:i}:Object.freeze({})});function e$({boards:e,boardsShortlist:t=[],closeModal:i,dismissFlyout:n,history:a,isEditingPin:l,isFromToast:r,logContextEvent:s,onSelect:o,originalPinId:d,pinKey:c,pinBoardId:u,saveToProfileEnabled:h,surfaceOriginViewParameter:_,trackingParams:g}){let f=(0,T.ZP)(),b=(0,k.Z)(eG,c),v=eU(),P=(0,m.I0)(),I=(0,eF.Z)(),A=(0,eb.n)(),C=(0,B.m)(),E=(0,x.cO)(),j=a.location.state&&a.location.state.isOneTapSave,{checkExperiment:L}=(0,R.r)(),{showRepinConfirmation:F,showToast:D}=(0,es.Z)(),O=e=>a.push(e),M=t.map(e=>e.id);h&&M.unshift("PROFILE_PINS");let Z=(0,ej.Z)(),z=(0,w.Z)(),K=(0,eR.lJ)(z,Z),{logStat:U}=(0,eL.Yg)();(0,eE.Z)(()=>{M&&s({event_type:13,clientTrackingParams:g.clientTrackingParams,component:7,element:1001,view_type:3,aux_data:{pin_id:b.entityId,suggested_boards:M}})}),(0,p.useEffect)(()=>{s({view_parameter:3988,event_type:13,view_type:21,aux_data:{board_picker_surface_origin:_,pin_id:b.entityId,board_picker_suggested_boards:JSON.stringify(eV(t))}})},[t]);let H=e=>P((0,eD.Br)(e)),G=I({fn:async(e,t,c)=>{if(e&&t)o(t,c);else try{if(!l){let e=!t?.id,i=await (({boardId:e,i18n:t,isQuickSave:i})=>(n(),U("main_pin_repin"),P((0,ed.w)({checkExperiment:L,i18n:t,isQuickSave:i,logContextEvent:s,pinId:b.entityId,boardId:e,onSuccess:()=>{E("Save",{pin_id:b.entityId,is_promoted:b.isPromoted}),a.goBack()},originalPinId:d,showRepinConfirmation:F,trackingParams:g,historyPush:O,suggestedBoardIds:M,savePinId:(e,t)=>(C?.save(e),A?.save(e,t))}))))({boardId:t?.id,i18n:f,isQuickSave:e});if(j&&i){let e,n=i?.id;e={boardId:t?.id,localPinId:n,pinId:b.entityId,nodeId:b.__id},P((0,eZ.a)({...e}))}}if(l){let e=t?.id,n={board_id:e,id:b.entityId,...K?{orbac_subject_id:K}:Object.freeze({})},l=u!==e;eI.Z.create("PinResource",n).callUpdate().then(t=>{let i;if(l&&e&&u){let t,i,n;t={selectedPinIds:[b.entityId],source:{boardId:u,sectionId:void 0},target:{boardId:e,sectionId:void 0}},P((0,eM.S)(t)),H({boardId:e,sectionId:void 0,increment:1}),H({boardId:u,sectionId:void 0,increment:-1}),z.isAuth&&z.id&&!u&&(i=z.id,n=b.entityId,P((0,eO.EX)({feedId:i,feedType:ez.Z.BOARDLESS_PINS,itemIds:[n],itemType:"pin"})))}P((0,eA.b)("PinResource",{options:n})),i=b.entityId,P((0,eC.jB)("PinResource",eW(i,!0,K))),v(b.__id),P((0,eC.Sr)("PinResource",eW(t.resource_response.data.id,!1,K),t)),a.goBack()}),r&&i()}}catch(e){D(({hideToast:t})=>(0,V.jsx)(S.Z,{onHide:t,text:(0,eT.Z)(e,"message")||f._('Sorry! Something went wrong on our end.', 'error during repin', 'error during repin'),type:"error"}))}},modalHeader:(0,N.Bx)(f)});return(0,V.jsx)(p.Fragment,{children:(0,V.jsxs)(y.kC,{direction:"column",gap:4,children:[(0,V.jsxs)(y.xu,{children:[h&&(0,V.jsx)(eK,{handleSelected:(e,t)=>G(e,{...t,gridIndex:0},"profile"),pinId:b.entityId,surfaceOriginViewParameter:_}),t.length>0&&(0,V.jsx)(y.xu,{marginBottom:4,marginTop:2,children:(0,V.jsx)(y.X6,{accessibilityLevel:3,size:"300",children:(0,V.jsx)(y.xv,{inline:!0,children:f._('Top choices', 'boardPicker.header.topChoices', 'Header of a list of user\'s boards')})})}),t.map((e,t)=>(0,V.jsx)(eN.Z,{boardId:e.id,onBoardSelected:i=>G(i,{...e,gridIndex:t},"topChoices"),showSingleBoardRep:!0},e.id))]}),(0,V.jsxs)(y.xu,{children:[(0,V.jsx)(y.xu,{marginBottom:4,children:(0,V.jsx)(y.X6,{accessibilityLevel:3,size:"300",children:(0,V.jsx)(y.xv,{inline:!0,children:f._('All boards', 'RepinFlow.BoardPickerList.AllBoards', 'Board picker list all boards title')})})}),e.map((e,t)=>(0,V.jsx)(eN.Z,{boardId:e.id,onBoardSelected:i=>G(i,{...e,gridIndex:t},"allBoards"),showSingleBoardRep:!0},e.id))]})]})})}var eY=i(20561);let eX=()=>(0,V.jsx)(y.xu,{color:"secondary",display:"inlineBlock",height:60,minWidth:60,overflow:"hidden",position:"relative",rounding:4,children:(0,V.jsxs)(p.Fragment,{children:[(0,V.jsx)(y.xu,{color:"default",dangerouslySetInlineStyle:{__style:{left:"50%"}},height:"100%",position:"absolute",width:1}),(0,V.jsx)(y.xu,{color:"default",dangerouslySetInlineStyle:{__style:{top:"50%"}},height:1,position:"absolute",right:!0,width:"50%"})]})});var eq=i(765573),eJ=i(782803);let eQ=(void 0!==l||(l=i(396994)).hash&&"69ffcdea57a7778d2ebbcd41c276c0d0"!==l.hash&&console.error("The definition of 'BoardTitleSuggestionList_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function e0({isEditingPin:e,isFirstBoard:t,isFromToast:i,history:n,onFirstBoardCreate:a,originalPinId:l,pinBoardId:r,pinKey:s,pinSectionId:o,surfaceOriginViewParameter:d,titleSuggestions:c,clientTrackingParams:u}){let h=(0,f.Z)(),_=(0,eJ.Z)(),g=(0,T.ZP)(),x=(0,eF.Z)(),{showRepinConfirmation:b}=(0,es.Z)(),v=(0,m.I0)(),P=(0,k.Z)(eQ,s),S=P.entityId,w=(0,eq.A)({hasRichMetadata:!!P.richMetadata,hasRichMetadataProducts:!!P.richMetadata?.products,hasRichMetadataArticle:!!P.richMetadata?.article,hasRichMetadataRecipe:!!P.richMetadata?.recipe}),I=(0,eb.n)(),A=(0,B.m)(),C=(0,ep.gC)(),E=(0,Z.Z)(u,P.trackingParams),j=e=>n.push(e),{checkExperiment:L}=(0,R.r)();(0,p.useEffect)(()=>{h({view_parameter:3992,component:13282,event_type:13,view_type:21,aux_data:{board_picker_surface_origin:d,pin_id:S,board_title_suggestions:c}})},[]);let F=async()=>{await void v((0,ex.q)({pinId:S,boardId:r||"",boardSectionId:o,clientTrackingParams:E}));let e=P.pinnedToBoard?.url;if(P.section){let t=`${e??""}${P.section.slug??""}/`;n.replace(t??"")}else n.replace(e??"")},D=x({fn:(r,s,o)=>{h({view_parameter:3992,component:13282,element:23,event_type:101,view_type:91,aux_data:{board_picker_surface_origin:d,pin_id:S,board_title_suggestions:c}}),(({allSuggestions:e,handleCreateBoard:t,index:i,isFBC:n,logContextEvent:a,pinViewParameter:l})=>{t(),a({aux_data:{board_title_list:JSON.stringify(e),is_fbc:n.toString(),selected_board_title_index:i},component:7,element:23,event_type:102,view_parameter:l,view_type:3})})({allSuggestions:o,handleCreateBoard:()=>{if(t)a(s);else _({boardCreateOptions:{name:s,initial_pin_client_tracking_params:[u],privacy:"public"}}).then(t=>{let{url:a="",id:r}=t||{};v((0,ed.w)({checkExperiment:L,i18n:g,logContextEvent:h,originalPinId:l,pinId:S,boardId:r,trackingParams:{clientTrackingParams:E,pinnedToBoardId:r},historyPush:j,savePinId:(e,t)=>(A?.save(e),I?.save(e,t))})).then(()=>{e?i?n.goBack():F():n.goBack();let{href:t,text:l}=(0,e_.Z)(a,s,g),{duration:o,text:d,thumbnail:c}=(0,X.Z)({boardId:r,getReduxBoard:C,pinId:S,viewType:3});b(({hideToast:e})=>(0,V.jsx)(q.Z,{duration:o,href:t,onHide:e,text:d||l,thumbnail:c}))})})},index:r,isFBC:t,logContextEvent:h,pinViewParameter:w})},modalHeader:(0,N.Bb)(g)});return c?c.map((e,t,i)=>(0,V.jsx)(y.xu,{children:(0,V.jsx)(eY.Z,{dataTestId:"board-suggestion-row-button",onTouch:()=>D(t,e,i),pressState:"none",rounding:2,children:(0,V.jsxs)(y.xu,{alignItems:"center",display:"flex",paddingY:2,rounding:2,children:[(0,V.jsx)(eX,{}),(0,V.jsx)(y.xu,{column:10,marginStart:3,children:(0,V.jsx)(y.X6,{size:"400",children:e})})]})},t)},t)):null}let e1=(void 0!==r||(r=i(896574)).hash&&"a8967078f1de7ce3a263a224d0d0e710"!==r.hash&&console.error("The definition of 'useFetchBoardTitleSuggestionsQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),e2=e=>{let{v3GetPinQuery:t}=(0,h.useLazyLoadQuery)(e1,{pinId:e});if(t?.error?.message)throw t?.error;return t?.data?.boardTitleSuggestions?.map(({title:e})=>e).filter(Boolean)||[]},e3=(void 0!==s||(s=i(367795)).hash&&"475036dcb56a51d3552313200b8c9d45"!==s.hash&&console.error("The definition of 'RepinBoardPicker_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s);function e6({allBoards:e,saveToProfileEnabled:t,boardsShortlist:i,closeModal:n,dismissFlyout:a,history:l,isEditingPin:r,isFromToast:s,onSelect:o,originalPinId:d,pin:c,pinBoardId:u,pinSectionId:m,trackingParams:h}){let _=(0,f.Z)();return(0,V.jsx)(p.Fragment,{children:(0,V.jsx)(e$,{boards:e,boardsShortlist:i,closeModal:n,dismissFlyout:a,history:l,isEditingPin:r,isFromToast:s,logContextEvent:_,onSelect:o,originalPinId:d,pinBoardId:u,pinKey:c,pinSectionId:m,saveToProfileEnabled:t,trackingParams:h})})}function e4({allBoards:e,boardsShortlist:t,closeModal:i,saveToProfileEnabled:n,dismissFlyout:a,history:l,isEditingPin:r,isFirstRepinExperience:s,isFromToast:o,onFirstBoardCreate:d,originalPinId:c,onSelect:u,pin:p,pinBoardId:m,pinSectionId:h,trackingParams:_,titleSuggestions:g}){let x=(0,T.ZP)(),b=s||0===e.length&&!n,v=(0,f.Z)(),P=()=>(0,V.jsx)(e0,{clientTrackingParams:_.clientTrackingParams,history:l,isEditingPin:r,isFirstBoard:b,isFromToast:o,onFirstBoardCreate:d,originalPinId:c,pinBoardId:m,pinKey:p,pinSectionId:h,titleSuggestions:g});return b?(0,V.jsxs)(y.xu,{paddingX:1,children:[(0,V.jsx)(y.xu,{marginBottom:4,children:(0,V.jsx)(y.xv,{children:x._('Tap to create your first board', 'CTA for board title suggestions', 'Explain to user that tapping on suggestion creates a board')})}),P()]}):(0,V.jsxs)(y.xu,{marginBottom:4,children:[(0,V.jsx)(e$,{boards:e,boardsShortlist:t,closeModal:i,dismissFlyout:a,history:l,isEditingPin:r,isFromToast:o,logContextEvent:v,onSelect:u,originalPinId:c,pinBoardId:m,pinKey:p,pinSectionId:h,saveToProfileEnabled:n,trackingParams:_}),g?(0,V.jsxs)(y.xu,{children:[(0,V.jsx)(y.xu,{paddingY:1,children:(0,V.jsx)(ek.Z,{children:(0,V.jsx)(y.iz,{})})}),(0,V.jsx)(y.xu,{paddingY:4,children:(0,V.jsx)(y.xv,{children:x._('Or tap to create a new board', 'boardPicker.suggestedBoardName.title', 'Title for repin page suggested board name section')})}),P()]}):(0,V.jsx)(y.xu,{paddingY:6,children:(0,V.jsx)(y.xH,{accessibilityLabel:x._('Loading repin page content', ' - ', ' -- '),show:!0})})]})}function e5({allBoards:e,boardsShortlist:t,closeModal:i,saveToProfileEnabled:n,dismissFlyout:a,history:l,isEditingPin:r,isFetchingBoards:s,isFirstRepinExperience:o,isFromToast:d,onFirstBoardCreate:c,onSelect:u,originalPinId:p,pinKey:m,pinBoardId:h,pinDescription:_,pinSectionId:g,surfaceOriginViewParameter:x,saveSessionId:b}){let v=(0,k.Z)(e3,m),P=e2(v.entityId),S=(0,T.ZP)(),w=(0,f.Z)(),I={clientTrackingParams:(0,ew.Z)({pinKey:v}),pinnedToBoardId:v.pinnedToBoard?v.pinnedToBoard.entityId:""},A=(e,i)=>{w({event_type:101,component:13282,clientTrackingParams:I.clientTrackingParams,object_id_str:e.id,view_type:91,view_parameter:eH(i),aux_data:{board_id:e.id,board_component:eH(i),board_picker_surface_origin:x,board_picker_suggested_boards:JSON.stringify(eV(t)),board_title_suggestions:P,board_index:e.gridIndex,is_profile_save:"profile"===i,pin_id:v.entityId,save_session_id:b}}),u(e,i)};return e.length>0||!s?e.length>=10?(0,V.jsx)(e6,{allBoards:e,boardsShortlist:t,closeModal:i,dismissFlyout:a,history:l,isEditingPin:r,isFromToast:d,onSelect:A,originalPinId:p,pin:v,pinBoardId:h,pinDescription:_,pinSectionId:g,saveToProfileEnabled:n,trackingParams:I}):(0,V.jsx)(e4,{allBoards:e,boardsShortlist:t,closeModal:i,dismissFlyout:a,history:l,isEditingPin:r,isFirstRepinExperience:o,isFromToast:d,onFirstBoardCreate:c,onSelect:A,originalPinId:p,pin:v,pinBoardId:h,pinDescription:_,pinSectionId:g,saveToProfileEnabled:n,titleSuggestions:P,trackingParams:I}):(0,V.jsx)(y.xu,{paddingY:2,children:(0,V.jsx)(y.xH,{accessibilityLabel:S._('Loading repin page content', ' - ', ' -- '),show:!0})})}var e8=i(902389),e7=i(840962);let e9=(void 0!==o||(o=i(546920)).hash&&"1612c2df94f42990b3d4f6ccede72a70"!==o.hash&&console.error("The definition of 'RepinCreateBoardButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o);function te({isEditingPin:e,isFirstBoardCreateActive:t,pinKey:i,pinBoardId:n,pinDescription:a,pinSectionId:l,trackingParams:r,onTouch:s,useIconWithBackground:o}){let d=(0,T.ZP)(),c=(0,k.Z)(e9,i),u=(0,e7.Z)({href:{pathname:`/board/create/${c.entityId}/`,state:{isFirstBoardCreateActive:t,pinnedToBoardId:c.pinnedToBoard?c.pinnedToBoard.entityId:"",pinDescription:a,trackingParams:r,isEditingPin:e,pinBoardId:n,pinSectionId:l}}});return(0,V.jsx)(e8.Z,{hasTopShadow:o,height:o?void 0:70,children:(0,V.jsx)(y.iP,{onTap:({event:e})=>{s?.(),u({event:e})},children:(0,V.jsxs)(y.xu,{alignItems:"center","data-test-id":"repinCreateBoardButton",display:"flex",paddingX:+!!o,paddingY:+!o,children:[o?(0,V.jsx)(y.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},rounding:2,children:(0,V.jsx)(y.JO,{accessibilityLabel:d._('Create board button', ' - ', ' -- '),color:"default",icon:"add",size:20})}):(0,V.jsx)(y.JO,{accessibilityLabel:d._('Create board button', ' - ', ' -- '),color:"error",icon:"add-circle",size:38}),(0,V.jsx)(y.xu,{marginStart:o?2:3,children:(0,V.jsx)(y.xv,{weight:"bold",children:d._('Create board', 'Create new board to Pin to', 'Create new board to Pin to')})})]})})})}var tt=i(685887),ti=i(990283);let tn=(void 0!==d||(d=i(325556)).hash&&"f0b2fbadfba92480a2077999a000a308"!==d.hash&&console.error("The definition of 'RepinSectionPicker_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),d),ta=(e,t,i)=>({field_set_key:"detailed",id:e,preserve_component_state:t,...i?{orbac_subject_id:i}:Object.freeze({})});function tl({boardId:e,history:t,location:{search:i},showSectionRep:n,pinKey:a,onSuccess:l,trackingParams:r,dismissFlyout:s,boardViewParameterType:o,surfaceOriginViewParameter:d}){let c=(0,m.I0)(),u=(0,T.ZP)(),h=(0,k.Z)(tn,a),_=eU(),{showToast:g}=(0,eg.dI)(),y=new URLSearchParams(i),b=y.get("isEditingPin"),v=y.get("pinBoardId")??"",P=y.get("pinSectionId")??"",S=(0,Z.Z)(r,h.trackingParams),I=(0,f.Z)(),A=(0,eb.n)(),{checkExperiment:C}=(0,R.r)(),E=e=>t.push(e),j=(0,ej.Z)(),L=(0,w.Z)(),F=(0,eR.lJ)(L,j),D=(0,x.cO)();(0,p.useEffect)(()=>{I({event_type:13,clientTrackingParams:S,component:13282,object_id_str:e,view_type:275,aux_data:{board_id:e,board_picker_surface_origin:d,board_title_suggestions:[],board_index:0,is_profile_save:!1,pin_id:h.entityId,board_component:o}})});let O=e=>c((0,eD.Br)(e)),M=async(i,n)=>{if(n&&I({event_type:101,clientTrackingParams:S,component:13282,element:36,object_id_str:i,view_type:91,view_parameter:3133,aux_data:{board_id:i,board_picker_surface_origin:d,board_title_suggestions:[],board_index:0,is_profile_save:!1,pin_id:h.entityId,section_id:n?.id??"",board_component:o}}),b||await void(s(),c((0,ed.w)({checkExperiment:C,i18n:u,logContextEvent:I,pinId:h.entityId,boardId:e,onSuccess:b?void 0:()=>{D("Save",{pin_id:h.entityId,is_promoted:h.isPromoted}),l()},showToast:g,section:n,trackingParams:{clientTrackingParams:S,pinnedToBoardId:h.pinnedToBoard?h.pinnedToBoard.entityId:""},historyPush:E,savePinId:A?.save??(()=>{})})).then(()=>{n&&c((0,tt.Z)(n.id??""))})),b){let e=n?.id,a={board_id:i,board_section_id:e,id:h.entityId,...F?{orbac_subject_id:F}:Object.freeze({})},l=v!==i,r=P!==e;eI.Z.create("PinResource",a).callUpdate().then(n=>{let s;if(l||r){let t,n,a;t={selectedPinIds:[h.entityId],source:{boardId:v,sectionId:P||null},target:{boardId:i,sectionId:e}},c((0,eM.S)(t)),O({boardId:i,sectionId:e,increment:1}),O({boardId:v,sectionId:P,increment:-1}),L.isAuth&&L.id&&!v&&(n=L.id,a=h.entityId,c((0,eO.EX)({feedId:n,feedType:ez.Z.BOARDLESS_PINS,itemIds:[a],itemType:"pin"})))}c((0,eA.b)("PinResource",{options:a})),s=h.entityId,c((0,eC.jB)("PinResource",ta(s,!0,F))),_(h.__id),c((0,eC.Sr)("PinResource",ta(n.resource_response.data.id,!1,F),n)),t.go(-2)})}};return(0,V.jsx)(ti.Z,{boardId:e,repin:M,showSectionRep:n})}function tr(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let ts=(void 0!==c||(c=i(134472)).hash&&"b1432f4e80d112c155f930f7ed3760cd"!==c.hash&&console.error("The definition of 'RepinPage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),c),to=(void 0!==u||(u=i(192269)).hash&&"76093586a269ca0330e25a57bd33f665"!==u.hash&&console.error("The definition of 'RepinPageQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),u);function td({children:e}){let t=(0,m.v9)(({session:e})=>72+((0,C.Rq)(e.userAgentPlatform)?C.Vf:0));return(0,V.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:t}},children:e})}class tc extends p.PureComponent{constructor(...e){super(...e),tr(this,"state",{boardType:"allBoards",dupeWarningDismissed:!1,pinDescription:(this.props.pin.description||"").trim(),saved:!1,suggestedBoardName:void 0,trackingParams:(this.props.location.state||{}).trackingParams||"",warningAnchor:void 0,windowInnerHeight:"undefined"!=typeof window?window.innerHeight:0,saveSessionId:(0,g.Z)()}),tr(this,"saved",()=>this.setState({saved:!0})),tr(this,"onResize",()=>{this.setState({windowInnerHeight:window.innerHeight})}),tr(this,"handleBackButtonTouch",()=>{let{logContextEvent:e,match:{params:{boardId:t}}}=this.props;e({view_type:21,view_parameter:87,component:7,element:t?34:75,event_type:102})}),tr(this,"handleDismissWarningFlyout",()=>this.setState({dupeWarningDismissed:!0})),tr(this,"handleFirstBoardCreateOnSuccess",(e,t)=>{let{closeupExperience:i,completeExperience:n,getReduxBoard:a,history:l,i18n:r,pinId:s,repinExperience:o,showRepinConfirmation:d,mountAfterActionPlacement:c}=this.props,{boardId:u,boardUrl:p}=e,{href:m,text:h}=(0,e_.Z)(p,t,r),{duration:_,text:g,thumbnail:y}=(0,X.Z)({boardId:u,getReduxBoard:a,isFBC:!0,pinId:s,viewType:21});l.goBack(),d(({hideToast:e})=>(0,V.jsx)(q.Z,{duration:_,href:m,onHide:e,text:g||h,thumbnail:y})),i&&i.placement_id&&503459===i.experience_id&&n(i.placement_id,i.experience_id),o&&z(o,501032)&&n(o.placement_id,o.experience_id),c("Save",{pin_id:this.props.pin.entityId,is_promoted:this.props.pin.isPromoted})}),tr(this,"handleSetSelectedBoard",e=>{let{history:t,pin:i,location:n}=this.props,{trackingParams:a}=this.state;this.isFirstBoardCreateActive()||t.push(`/board/create/${i.entityId}/${e}/`,{trackingParams:a,from:n.state?.from}),this.setState({suggestedBoardName:e})}),tr(this,"handleFirstBoardCreate",e=>{let{checkExperiment:t,createBoard:i,dispatch:n,history:a,location:l,logContextEvent:r,i18n:s,match:o,notifDetailRepinContext:d,pin:c,repinContext:u,showToast:p}=this.props,{trackingParams:m}=this.state,h=o.params.id,_=(0,Z.Z)((l.state||{}).trackingParams),{search:g}=l,y=new URLSearchParams(g).get("originalPinId")??"",f=(0,Z.Z)(m,c.trackingParams);return i({boardCreateOptions:{name:e,initial_pin_client_tracking_params:[_],privacy:"public"},deprecatedSchemaForNormalization:ec.IY}).then(e=>{let{url:i="",id:l}=e||{};return h&&n((0,ed.w)({checkExperiment:t,i18n:s,logContextEvent:r,originalPinId:y,pinId:h,boardId:l,trackingParams:{clientTrackingParams:f,pinnedToBoardId:l},historyPush:e=>a.push(e),savePinId:(e,t)=>(d?.save(e),u?.save(e,t))})),{boardId:l,boardUrl:i}},e=>{throw{onError:()=>{a.goBack(),p(({hideToast:t})=>(0,V.jsx)(S.Z,{onHide:t,text:e.message||this.props.i18n._('Sorry! Something went wrong on our end.', 'error creating board', 'error creating board'),type:"error"}))}}})}),tr(this,"handleSelectBoard",(e,t)=>{let{history:i,pin:n,location:a}=this.props,{search:l}=a,{trackingParams:r}=this.state,s=new URLSearchParams(l),o=!!s.get("isEditingPin"),d=s.get("pinBoardId")??"",c=s.get("pinSectionId")??"";this.setState(()=>({boardType:t})),o?i.push(`/pin/${n.entityId}/repin/${e.id}/?isEditingPin=true&pinBoardId=${d}&pinSectionId=${c}`,{trackingParams:r,from:a.state?.from}):i.push({pathname:`/pin/${n.entityId}/repin/${e.id}/`},{trackingParams:r,from:a.state?.from})}),tr(this,"handleClickAddSectionButton",()=>{let{pin:e,history:t,match:{params:{boardId:i}},location:n,logContextEvent:a,boardsShortlist:l,titleSuggestions:r}=this.props;if(!i)return;let{search:s}=n,o=new URLSearchParams(s),d=!!o.get("isEditingPin"),c=o.get("pinBoardId")??"",u=o.get("pinSectionId")??"";a({view_type:91,view_parameter:3132,component:13282,element:10306,event_type:101,aux_data:{board_picker_surface_origin:153,board_title_suggestions:r||[],pin_id:e.entityId,board_component:3132,board_picker_suggested_boards:JSON.stringify(eV(l))}}),d?t.push(`/pin/${e.entityId}/repin/${i}/add/?isEditingPin=true&pinBoardId=${c}&pinSectionId=${u}`,{from:n.state?.from}):t.push({pathname:`/pin/${e.entityId}/repin/${i}/add/`,state:{from:n.state?.from}})}),tr(this,"handleRepinToExistingSectionSuccess",()=>{this.props.history.go(-2)}),tr(this,"handleRepinToNewSectionSuccess",()=>{this.props.history.go(-3)}),tr(this,"handleRepinCreateBoardButtonTouch",()=>{let{pin:e,logContextEvent:t,boardsShortlist:i,titleSuggestions:n}=this.props;t({view_type:91,view_parameter:87,component:13282,element:249,event_type:101,aux_data:{board_picker_surface_origin:153,board_title_suggestions:n||[],pin_id:e.entityId,board_component:87,board_picker_suggested_boards:JSON.stringify(eV(i))}})}),tr(this,"renderCreateScreen",()=>{let{pin:e,location:{search:t},match:{params:{boardId:i}}}=this.props,{trackingParams:n}=this.state,a=new URLSearchParams(t),l=!!a.get("isEditingPin"),r=a.get("pinBoardId")??"",s=a.get("pinSectionId")??"";return!!i&&(0,V.jsx)(eS,{boardId:i,isEditingPin:l,onSuccess:this.handleRepinToNewSectionSuccess,pinBoardId:r,pinKey:e,pinSectionId:s,trackingParams:n,useRoundedCorners:!0})}),tr(this,"isFirstBoardCreateActive",()=>{let{allBoards:e,isFetchingBoards:t,saveToProfileEnabled:i,repinExperience:n}=this.props;return!!z(n,501032)||!t&&0===e.length&&!i}),tr(this,"isBoardCreateEduActive",()=>{let{repinExperience:e}=this.props;return z(e,501021)}),tr(this,"completeBoardCreateEduExperience",()=>{let{completeExperience:e,repinExperience:t}=this.props;t&&this.isBoardCreateEduActive()&&e(t.placement_id,t.experience_id)}),tr(this,"renderPicker",()=>{let{allBoards:e,saveToProfileEnabled:t,boardsShortlist:i,history:n,isFetchingBoards:a,location:l,pin:r,match:{params:{boardId:s}},location:{search:o}}=this.props,{pinDescription:d,dupeWarningDismissed:c,saved:u,suggestedBoardName:p,trackingParams:m,warningAnchor:h,boardType:_,saveSessionId:g}=this.state,f=d.trim(),{pinnedToBoard:x}=r,b=x?(0,A.nk)(this.props.i18n._('Psst! You already saved this Pin to {{ board_name }}', 'Toast for already having repinned pin', 'Toast for already having repinned pin'),{board_name:x.name}).join(" "):null,{dominantColor:v}=r,P=r.imageSpec_236x,S=P?P.url:"",w=new URLSearchParams(o),k=!!w.get("isEditingPin"),I=w.get("pinBoardId")??"",T=w.get("pinSectionId")??"",C=!!w.get("isFromToast"),R=w.get("originalPinId")??"",L=this.props.i18n._('Save Pin to', 'RepinPage.Section.Header.Title', 'title for section selection in repin flow'),F=new y.Ry(2),D=this.props.i18n._('Create board', 'Title for first board create', 'Title for first board create. NOTE: we are testing using "collections" in place of "boards" for new users'),Z=this.props.i18n._('Save to board', 'boardPicker.header', 'Title for repin page'),z=s?L:0!==e.length||a||t?Z:D;return(0,V.jsxs)(j.default,{hasFixedHeader:!0,children:[(0,V.jsx)(M.Z,{text:z}),(0,V.jsx)(E.default,{useRoundedCorners:!0,zIndex:F,children:(0,V.jsxs)(y.kC,{alignItems:"center",height:40,justifyContent:"start",children:[(0,V.jsx)(y.xu,{column:2,children:(0,V.jsx)(eh.Z,{alignIconLeft:!0,color:"darkGray",icon:s?"arrow-back":"cancel",onTouch:this.handleBackButtonTouch,size:"sm"})}),(0,V.jsx)(y.xu,{column:8,children:(0,V.jsx)(y.xu,{"data-test-id":"repin-page-title",children:(0,V.jsx)(y.X6,{accessibilityLevel:2,align:"center",size:"300",children:(0,V.jsx)(y.xv,{inline:!0,weight:"bold",children:z})})})}),(0,V.jsx)(y.xu,{column:2})]})}),r.imageSpec_236x&&(this.isFirstBoardCreateActive()?(0,V.jsx)(er,{onComplete:this.handleFirstBoardCreateOnSuccess,pinDominantColor:v??"",pinImageUrl:S??"",savePin:this.handleFirstBoardCreate,selectedBoardName:p}):null),(0,V.jsx)(td,{children:s?(0,V.jsx)(tl,{boardId:s,boardViewParameterType:eH(_),dismissFlyout:this.saved,history:n,location:l,onSuccess:this.handleRepinToExistingSectionSuccess,pinKey:r,showSectionRep:!0,surfaceOriginViewParameter:153,trackingParams:m}):(0,V.jsx)(e5,{allBoards:e,boardsShortlist:i,closeModal:this.handleBackButtonTouch,dismissFlyout:this.saved,history:n,isEditingPin:k,isFetchingBoards:a,isFirstRepinExperience:this.isFirstBoardCreateActive(),isFromToast:C,onFirstBoardCreate:this.handleSetSelectedBoard,onSelect:this.handleSelectBoard,originalPinId:R,pinBoardId:I,pinDescription:f,pinKey:r,pinSectionId:T,saveSessionId:g,saveToProfileEnabled:t,surfaceOriginViewParameter:153})}),s?(0,V.jsx)(O.Wx,{onAddNewSection:this.handleClickAddSectionButton,useIconWithBackground:!0}):(0,V.jsx)(K.Z,{modalHeader:(0,N.Bb)(this.props.i18n),nextLocation:`/board/create/${r.entityId}/`,children:(0,V.jsx)(te,{isEditingPin:k,isFirstBoardCreateActive:this.isFirstBoardCreateActive(),onTouch:this.handleRepinCreateBoardButtonTouch,pinBoardId:I,pinDescription:f,pinKey:r,pinSectionId:T,trackingParams:m,useIconWithBackground:!0})}),P&&this.isBoardCreateEduActive()&&(0,V.jsx)(Y,{completeExperience:this.completeBoardCreateEduExperience,pinDominantColor:v??"",pinImageHeight:P.height??1,pinImageUrl:S??"",pinImageWidth:P.width??1}),h&&!u&&r.pinnedToBoard&&!c&&b&&(0,V.jsx)(y.J2,{anchor:h,idealDirection:"down",onDismiss:this.handleDismissWarningFlyout,shouldFocus:!1,children:(0,V.jsx)(y.xu,{padding:3,children:(0,V.jsx)(y.xv,{weight:"bold",children:(0,V.jsx)("span",{children:b})})})})]})})}componentDidMount(){let{logContextEvent:e,repinExperience:t,triggerExperimentsForPlacement:i,viewExperience:n,pin:a}=this.props,{saveSessionId:l}=this.state;e({view_type:21,event_type:13,aux_data:{board_picker_surface_origin:153,pin_id:a.entityId,save_session_id:l}}),i(1000153),t&&n(1000153,t.experience_id),window.addEventListener("resize",this.onResize)}componentWillUnmount(){window.removeEventListener("resize",this.onResize)}render(){return(0,V.jsx)(v.ZP,{accessibilityModalLabel:this.props.i18n._('Repin page', 'RepinPage.MobileModal.AccessibilityLabel', 'Accessibility label on repin page'),closeOnOutsideClick:!1,isOpen:!0,onDismiss:()=>{},type:"repinPage",children:(0,V.jsx)(y.xu,{height:this.state.windowInnerHeight-P.i_,paddingX:2,paddingY:0,children:(0,V.jsxs)(_.rs,{children:[(0,V.jsx)(_.AW,{exact:!0,path:"/pin/:id/repin/",render:this.renderPicker}),(0,V.jsx)(_.AW,{exact:!0,path:"/pin/:id/repin/:boardId/",render:this.renderPicker}),(0,V.jsx)(_.AW,{exact:!0,path:"/pin/:id/repin/:boardId/add/",render:this.renderCreateScreen})]})})})}}function tu(){return(0,V.jsx)(tp,{})}function tp({shouldFetchPinFromGraphQL:e}){let t=(0,_.k6)(),i=(0,_.TH)(),n=(0,_.$B)(),a=n.params.id??"",l=(0,T.ZP)(),r=(0,f.Z)(),s=(0,b.be)(),o=(0,b.Ig)(),d=(0,eJ.Z)(),c=(0,em.LO)(),u=(0,ep.gC)(),{isAuth:p}=(0,w.Z)(),h=(0,D.HG)(),g=((e,t)=>{let i={field_set_key:"repin"},n=(0,I.Z)({strategy:t?"GRAPHQL":"LEGACY",query:to,variables:{pinId:e},useGetLegacyData:({pinId:e})=>{let{data:t}=(0,F.Z)({name:"PinResource",options:{...i,id:e}});return t}}),a=n?.v3GetPinQuery?.__typename==="V3GetPin"?n.v3GetPinQuery?.data:null;return(0,k.Z)(ts,a)})(a,e),{isFetching:y,allBoards:v,boardsShortlist:P}=(e=>{let t=(0,m.v9)(e=>e.session.userId),{isFetching:i,data:n}=(0,F.Z)({name:"BoardPickerBoardsResource",options:{pin_id:e,field_set_key:"profile_grid_item",shortlist_length:2,shortlist_suggestions:3,user_id:t}}),a=n?.all_boards||[];return{isFetching:i,allBoards:(0,m.v9)(e=>(0,eu.Z)({...e,boards:a})||[]),boardsShortlist:n?.boards_shortlist||[]}})(a),{checkExperiment:S}=(0,R.r)(),A=(0,B.m)(),C=(0,eb.n)(),E=e2(a);(0,L.Z)({name:"UserResource",options:{user_id:c?.id,field_set_key:"quicksave"}});let j=(0,m.I0)(),O=(0,m.v9)(({experiences:e})=>e),M=(0,x.cO)(),{showToast:Z,showRepinConfirmation:z}=(0,es.Z)(),{showEnabledSaveBehavior:N}=(0,eo.ZP)(c?.id||"");return!p||h?(0,V.jsx)(_.l_,{to:`/pin/${a}/`}):g?(0,V.jsx)(tc,{allBoards:v,boardsShortlist:P,checkExperiment:S,closeupExperience:O[1000112],completeExperience:(e,t)=>j(s(e,t)),createBoard:d,dispatch:j,getReduxBoard:u,history:t,i18n:l,isFetchingBoards:y,location:i,logContextEvent:r,match:n,mountAfterActionPlacement:M,notifDetailRepinContext:A,pin:g,pinId:a,repinContext:C,repinExperience:O[1000153],saveToProfileEnabled:N,showRepinConfirmation:z,showToast:Z,titleSuggestions:E,triggerExperimentsForPlacement:e=>j((0,b.kd)(e)),viewExperience:(e,t)=>j(o(e,t))}):null}},942595:(e,t,i)=>{"use strict";i.d(t,{i:()=>h,B:()=>p});var n=i(667294),a=i(218291),l=i(233846),r=i(640641),s=i(104303);let o=e=>{let t=e.map(e=>e.violation_reason);return r.C0.some(e=>t.includes(e))},d=(e,t)=>{let i=((e,t)=>{switch(t.type){case"SET_FORM_VIEW":return{...e,view:"form",viewText:""};case"SET_VIEW":return{...e,view:t.payload.view,viewText:t.payload.viewText,isSubmitting:!1};case"CLEAR_FORM_ERRORS":return{...e,validationErrors:[]};case"SET_FORM_ERRORS":return{...e,validationErrors:t.payload,isSubmitting:!1};case"UPDATE_SELECTED_PORTION":let i=[...e.selectedPortion],{portion:n,selected:a}=t.payload;return{...e,selectedPortion:a?[...i,n]:i.filter(e=>e!==n)};case"UPDATE_SELECTED_LAW":let l=[...e.selectedLaws],{law:r,selected:s}=t.payload;return{...e,selectedLaws:s?[...l,r]:l.filter(e=>e!==r)};case"UPDATE_TRUSTED_FLAGGER":return e.trustedFlagger[t.payload.field]=t.payload.value,"isTrustedFlagger"!==t.payload.field||t.payload.value||(e.trustedFlagger.trustedFlaggerCountry=null,e.trustedFlagger.trustedFlaggerDate=null),e;case"SET_SUBMITTING":return{...e,isSubmitting:!0};case"UPDATE_SELECT_SINGLE_LAW":let{chosenLaw:d}=t.payload,c=e.selectedLaws.includes(d);return{...e,selectedLaws:c?[]:[d]};case"SET_DSA_STATE":let{item:u,field:p,value:m}=t.payload;if(e.items&&e.items.length>u){let t=[...e.items];t[u][p]=m;let i=o(t);return{...e,items:t,shouldDisableSubmit:i}}return e;case"ADD_ITEM":if(e.items&&e.items.length<100){let t=[...e.items];return t.push({reported_content:"",country:"",violation_reason:"",reported_section:"",additional_details:"",attachment:null}),{...e,items:t}}return e;case"REMOVE_ITEM":if(e.items&&e.items.length>1){let t=[...e.items],i=e.validationErrors.filter(e=>!e.field.startsWith(`items[${t.length-1}]`));t.pop();let n=o(t);return{...e,items:t,validationErrors:i,shouldDisableSubmit:n}}return e;default:return e}})(e,t);return{...i,history:[...i.history,t]}};var c=i(785893);let{Provider:u,get:p}=(0,a.Z)("TakedownsContext"),m={history:[],view:"form",formRef:null,validationErrors:[],selectedPortion:[],selectedLaws:[],trustedFlagger:{isTrustedFlagger:!1,trustedFlaggerCountry:null,trustedFlaggerDate:null},isSubmitting:!1};function h({law:e,translationOverride:t,children:i}){let a=(0,l.ZP)(),o=(0,s.Z)({law:e,translationOverride:t,i18n:a}),p=(0,n.useRef)(null),h=r.a0[e];h?.ALLOW_MULTIPLE_COMPLAINTS&&(m.items=[{reported_content:"",country:"",violation_reason:"",violationReason_other:"",reported_section:"",reportedSection_other:"",additional_details:"",attachment:null}]);let[_,g]=(0,n.useReducer)(d,{...m,formRef:p}),y=(0,n.useMemo)(()=>({state:_,dispatch:g,takedown:o}),[_,g,o]);return(0,c.jsx)(u,{value:y,children:i})}},640641:(e,t,i)=>{"use strict";i.d(t,{C0:()=>l,Gj:()=>r,Wy:()=>n,ZU:()=>o,a0:()=>c,dm:()=>a,vW:()=>d,y4:()=>s});let n={DSA:"dsa",INDIA_IT:"india",UK_OSA:"uk",TURKEY:"turkey",TEST:"test",DMCA:"DMCA",TRADEMARK:"Trademark",GDPR:"GDPR",COUNTERFEIT_APPEAL:"counterfeit-appeal",JAPAN_IDPA:"japan"},a={SINGLE_COMPLAINT:"single_complaint",MULTIPLE_COMPLAINTS:"multiple_complaints",APPEAL:"appeal"},l=[n.DMCA,n.TRADEMARK,n.GDPR],r=[n.DSA,n.UK_OSA,n.INDIA_IT,n.JAPAN_IDPA],s=[n.DSA,n.UK_OSA,n.JAPAN_IDPA],o=new Date(2024,0,1),d="GB",c={[n.TEST]:{LAW:n.TEST,DECIDER_KEY:"legal_webapp_takedown_form_test",COUNTRY_CODES:["INVALIDCOUNTRYCODE"],API:"/v3/legal/takedowns/test/",COMPLAINTS_OFFICE:!0,TRUSTED_FLAGGER:!1,RESTRICT_MULTIPLE_LAWS:!1,ALLOW_ANON_SUBMISSION:!1,BASE_FORM_URL:"https://thisisatest.com/",FORM_TYPE:a.SINGLE_COMPLAINT,ENABLE_UNAUTH_IN_APP_REPORTING:!0,CONTEXT_LOGGING_FORM:737},[n.TURKEY]:{LAW:n.TURKEY,DECIDER_KEY:"legal_webapp_takedown_form_turkey",COUNTRY_CODES:["TR"],API:"/v3/legal/takedowns/turkey/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!1,TRUSTED_FLAGGER:!1,BASE_FORM_URL:"https://www.pinterest.com/about/turkey/",FORM_TYPE:a.SINGLE_COMPLAINT,ENABLE_UNAUTH_IN_APP_REPORTING:!1,CONTEXT_LOGGING_FORM:736},[n.DSA]:{LAW:n.DSA,DECIDER_KEY:"legal_webapp_takedown_form_dsa",COUNTRY_CODES:["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IS","IT","LI","LV","LT","LU","MT","NL","NO","PL","PT","RO","SK","SI","ES","SE","EU"],API:"/v3/legal/takedowns/dsa/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!0,TRUSTED_FLAGGER:!0,ALLOW_MULTIPLE_COMPLAINTS:!0,SHOW_VIOLATING_COUNTRY_OPTION:!0,BASE_FORM_URL:"https://www.pinterest.com/about/dsa/",FORM_TYPE:a.MULTIPLE_COMPLAINTS,CONTEXT_LOGGING_FORM:737},[n.UK_OSA]:{LAW:n.UK_OSA,DECIDER_KEY:"legal_webapp_takedown_form_uk",COUNTRY_CODES:[d],API:"/v3/legal/takedowns/dsa/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!1,TRUSTED_FLAGGER:!1,ALLOW_MULTIPLE_COMPLAINTS:!0,SHOW_VIOLATING_COUNTRY_OPTION:!1,SHOW_VIOLATION_REASONS_LIST:!1,BASE_FORM_URL:"https://www.pinterest.com/about/uk/",FORM_TYPE:a.MULTIPLE_COMPLAINTS,CONTEXT_LOGGING_FORM:738},[n.INDIA_IT]:{LAW:n.INDIA_IT,DECIDER_KEY:"legal_webapp_takedown_form_india",COUNTRY_CODES:["IN"],API:"/v3/legal/takedowns/india/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!0,TRUSTED_FLAGGER:!1,BASE_FORM_URL:"https://www.pinterest.com/about/india/",FORM_TYPE:a.SINGLE_COMPLAINT,CONTEXT_LOGGING_FORM:739},[n.COUNTERFEIT_APPEAL]:{LAW:n.COUNTERFEIT_APPEAL,DECIDER_KEY:"legal_webapp_takedown_form_counterfeit_appeal",API:"/v3/legal/takedowns/counterfeit/appeal/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!1,TRUSTED_FLAGGER:!1,BASE_FORM_URL:"https://www.pinterest.com/about/counterfeit-appeal/",FORM_TYPE:a.APPEAL,ENABLE_UNAUTH_IN_APP_REPORTING:!1,CONTEXT_LOGGING_FORM:744},[n.JAPAN_IDPA]:{LAW:n.JAPAN_IDPA,DECIDER_KEY:"legal_webapp_takedown_form_japan",COUNTRY_CODES:["JP"],API:"/v3/legal/takedowns/dsa/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!1,TRUSTED_FLAGGER:!1,ALLOW_MULTIPLE_COMPLAINTS:!0,SHOW_VIOLATING_COUNTRY_OPTION:!1,SHOW_VIOLATION_REASONS_LIST:!0,FORM_TYPE:a.MULTIPLE_COMPLAINTS,REQUIRES_SUSPENSION_AGREEMENT:!1,BASE_FORM_URL:"https://www.pinterest.com/about/japan/",CONTEXT_LOGGING_FORM:745}}},104303:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(20256),a=i(23084),l=i(449974),r=i(640641),s=i(785893);function o({law:e,i18n:t,translationOverride:i}){let o=(0,s.jsx)(n.pg,{legend:"For issues related to Copyright or Trademark infringement, please follow the appropriate link below to access the complaint form.",legendDisplay:"hidden",children:(0,s.jsxs)(n.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,s.jsxs)(n.xv,{color:"warning",inline:!0,size:"200",children:[" ",t._('For issues related to Copyright or Trademark infringement, please follow the appropriate link to access the complaint form.', 'DSA.IpDisclosure', 'A message to the user redirecting them to the appropriate form for Copyright or Trademark infringement')]}),(0,s.jsx)(n.xv,{inline:!0,size:"200",children:(0,s.jsx)(l.Z,{events:["onClick"],children:(0,s.jsxs)(n.rU,{display:"inline",externalLinkIcon:"default",href:"https://www.pinterest.com/about/copyright/dmca-pin/",onClick:()=>{},target:"blank",underline:"always",children:[" ",t._('Copyright Complaint form', 'DSA.dmcaFormLink', 'Hyperlink to Copyright form')," "]})})}),(0,s.jsx)(n.xv,{inline:!0,size:"200",children:(0,s.jsx)(l.Z,{events:["onClick"],children:(0,s.jsxs)(n.rU,{display:"inline",externalLinkIcon:"default",href:"https://www.pinterest.com/about/trademark/",onClick:()=>{},target:"blank",underline:"always",children:[" ",t._('Trademark Complaint form', 'DSA.trademarkFormLink', 'Hyperlink to Trademark form')]})})})]})}),d=[{name:"Promoting or condoning terrorist acts",label:t._('Promoting or condoning terrorist acts', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:t._('E.g., Incitement to or apology of terrorist acts', 'DSA.Law', 'Example of this law')},{name:"Threatening commission of or condoning serious criminal offense",label:t._('Threatening commission of or condoning serious criminal offense', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:t._('E.g., Threats to commit serious criminal offense against individuals or their condemnation', 'DSA.Law', 'Example of this law')},{name:"Child sexual abuse material (CSAM)",label:t._('Child sexual abuse material (CSAM)', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:t._('E.g., Dissemination or  procurement of child pornographic content', 'DSA.Law', 'Example of this law')},{name:"Hate speech, hateful acts and discrimination",label:t._('Hate speech, hateful acts and discrimination', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:t._('E.g., Incitement to hatred, violence or discrimination against protected and vulnerable groups', 'DSA.Law', 'Example of this law')},{name:"Graphic Violence",label:t._('Graphic Violence', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:t._('E.g., Gore/graphic wounds and mutilation, beatings, excessive blood, corpses', 'DSA.Law', 'Example of this law')},{name:"Denying or condoning crimes against humanity",label:t._('Denying or condoning crimes against humanity', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:t._('E.g., Denial of genocides, war crimes and other crimes against humanity', 'DSA.Law', 'Example of this law')},{name:"Illegal goods and services",label:t._('Illegal goods and services', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:t._('E.g., Illegal sale of drugs, live animals or the illegal offer of services', 'DSA.Law', 'Example of this law')},{name:"Harassment",label:t._('Harassment', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:t._('E.g., Online stalking or sexual harassment', 'DSA.Law', 'Example of this law')},{name:"Harmful to minors",label:t._('Harmful to minors', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:t._('E.g., Incitement of minors to engage in actions which put them in physical danger or to intentionally harm themselves', 'DSA.Law', 'Example of this law')},{name:"Nudity or pornography",label:t._('Nudity or pornography', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:t._('E.g., Dissemination of pornographic content', 'DSA.Law', 'Example of this law')},{name:"Disinformation",label:t._('Disinformation', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:t._('E.g., Deliberate disinformation of individuals or groups of people', 'DSA.Law', 'Example of this law')},{name:"Affront to personal honor",label:t._('Affront to personal honor', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:t._('E.g., Insults or defamation', 'DSA.Law', 'Example of this law')},{name:"Violation of privacy",label:t._('Violation of privacy', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:t._('E.g., Non-consensual sharing of private images', 'DSA.Law', 'Example of this law')},{name:"GDPR",label:t._('Contains my personal data', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:(0,s.jsxs)(n.xv,{color:"warning",inline:!0,size:"100",children:[" ",t._('You can delete your data by going to your settings or by contacting ', 'Dsa.Law.GDPR', 'Subtext for removing your personal data'),(0,s.jsxs)(n.rU,{display:"inline",href:"mailto:privacy-support@pinterest.com",underline:"always",children:[" ",t._('privacy-support@pinterest.com', 'DSA.Law', 'Hyperlink to privacy support email')]})]})},{name:"Other illegal behavior",label:t._('Other illegal behavior', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:t._('Report behavior that does not match the above categories here', 'DSA.Law', 'Example of this law')}],c={[r.Wy.TEST]:{header:"Test Header",subHeader:"Test SubHeader",laws:[{name:"Test Law A",label:"Test Law A"},{name:"Test Law B",label:"Test Law B"}]},[r.Wy.TURKEY]:{header:(0,s.jsx)(n.xu,{"data-test-id":"turkish-law-complaint-header",children:t._('Turkish Internet Law Complaint Form', 'Takedown.Turkey.FormSubHeader', 'The title of the form')}),subHeader:t._('Use this form to identify content that violates Turkish laws that are subject to the Turkish Internet Law. Please fill out the information below with as much detail as possible to allow us to evaluate your complaint.', 'Takedown.Turkey.FormSubheader', 'The sub-title of the form'),laws:[{label:t._('Personal rights violation', 'Takedown.Turkey.Law.Personal', 'These are laws which a user can report a pin for takedown'),name:"Personal rights violation"},{label:t._('Privacy rights violation', 'Takedown.Turkey.Law.Privacy', 'These are laws which a user can report a pin for takedown'),name:"Privacy rights violation"}]},[r.Wy.DSA]:{header:t._('European Union Illegal Content Reporting Form', 'DSA.FormTitle', 'The title of the form'),subHeader:t._('Use this form to report content you believe to be illegal in the European Union. Please fill out the form with as much detail as possible to allow us to efficiently evaluate your report.', 'DSA.FormDescription', 'The sub-title of the form'),ipDisclosure:o,laws:d,lawsViolatedSubtext:(0,s.jsx)(n.xv,{size:"100",children:t._('Please carefully consider the option you select, so we can address your report as efficiently as possible.', 'DSA.ContentReporting.Subtext', 'Subtext asking to carefully choose the law being violated for DSA')}),inAppReporting:{board:t._('Report Board for EU local law', 'BoardOptions.ReportDSA', 'Reports a board for EU local law'),profile:t._('Report user for EU local law', 'profileHeader.actionBar.overflowFlyout.reportEULaw', 'Button to report Profile for EU local law violation'),pin:t._('Report Pin for EU local law violation', 'dweb.unauth.context_menu.link.report_pin_dsa', 'Button to report Pin for EU local law violation'),comment:t._('Report comment for EU local law', 'commentOverflowMenu.option.reportEULaw', 'Reports a comment for EU local law')}},[r.Wy.UK_OSA]:{header:t._('UK Illegal Content Reporting Form', 'UK.FormTitle', 'The title of the form'),subHeader:t._('This form is for reporting content you believe may be illegal under the UK Online Safety Act. If you want to report content that goes against our Community Guidelines, please use the reporting options located next to each Pin.', 'UK.FormDescription', 'The sub-title of the form'),ipDisclosure:o,laws:d,lawsViolatedSubtext:(0,s.jsxs)(n.xu,{children:[(0,s.jsx)(n.xv,{size:"100",children:t._('Under the Online Safety Act, you can report content or behaviour related to any of the following offences:', 'UK.LawsViolatedSubtext.Intro', 'Intro text for UK Online Safety Act offences')}),(0,s.jsxs)(n.aV,{labelDisplay:"hidden",size:"100",spacing:"condensed",children:[(0,s.jsx)(n.aV.Item,{text:t._('Terrorism', 'UK.LawsViolatedSubtext.Terrorism', 'Bullet: Terrorism')}),(0,s.jsx)(n.aV.Item,{text:t._('Encouraging or assisting suicide or self-harm', 'UK.LawsViolatedSubtext.SuicideSelfHarm', 'Bullet: Encouraging or assisting suicide or self-harm')}),(0,s.jsx)(n.aV.Item,{text:t._('Sexual exploitation, including child exploitation', 'UK.LawsViolatedSubtext.SexualExploitation', 'Bullet: Sexual exploitation, including child exploitation')}),(0,s.jsx)(n.aV.Item,{text:t._('Pornography or revenge porn', 'UK.LawsViolatedSubtext.Pornography', 'Bullet: Pornography or revenge porn')}),(0,s.jsx)(n.aV.Item,{text:t._('Hateful, controlling, or coercive behaviour', 'UK.LawsViolatedSubtext.HatefulBehavior', 'Bullet: Hateful, controlling, or coercive behaviour')}),(0,s.jsx)(n.aV.Item,{text:t._('Harassment or abuse', 'UK.LawsViolatedSubtext.Harassment', 'Bullet: Harassment or abuse')}),(0,s.jsx)(n.aV.Item,{text:t._('Drugs or psychoactive substances', 'UK.LawsViolatedSubtext.Drugs', 'Bullet: Drugs or psychoactive substances')}),(0,s.jsx)(n.aV.Item,{text:t._('Firearms or other weapons', 'UK.LawsViolatedSubtext.Firearms', 'Bullet: Firearms or other weapons')}),(0,s.jsx)(n.aV.Item,{text:t._('Human trafficking', 'UK.LawsViolatedSubtext.HumanTrafficking', 'Bullet: Human trafficking')}),(0,s.jsx)(n.aV.Item,{text:t._('Sharing intimate images without consent', 'UK.LawsViolatedSubtext.IntimateImages', 'Bullet: Sharing intimate images without consent')}),(0,s.jsx)(n.aV.Item,{text:t._('Fraud or financial crimes', 'UK.LawsViolatedSubtext.Fraud', 'Bullet: Fraud or financial crimes')}),(0,s.jsx)(n.aV.Item,{text:t._('Any criminal activity', 'UK.LawsViolatedSubtext.CriminalActivity', 'Bullet: Any criminal activity')}),(0,s.jsx)(n.aV.Item,{text:t._('Foreign interference', 'UK.LawsViolatedSubtext.ForeignInterference', 'Bullet: Foreign interference')})]}),(0,s.jsx)(n.xv,{size:"100",children:t._('You may also report any additional offence under local law in the UK.', 'UK.LawsViolatedSubtext.Other', 'Outro text for UK Online Safety Act offences')})]}),inAppReporting:{board:t._('Report Board for UK law', 'BoardOptions.ReportUK', 'Reports a board for UK law'),profile:t._('Report user for UK law', 'profileHeader.actionBar.overflowFlyout.reportUKLaw', 'Button to report Profile for UK local law violation'),pin:t._('Report Pin for UK law', 'dweb.unauth.context_menu.link.report_pin_uk', 'Button to report Pin for UK local law violation'),comment:t._('Report comment for UK law', 'commentOverflowMenu.option.reportForUKLaw', 'Reports a comment for UK law')}},[r.Wy.INDIA_IT]:{header:t._('India Grievance Form', 'India.FormTitle', 'The title of the form'),subHeader:t._('Use this form to submit grievances or complaints regarding content on Pinterest\u2019s services or compliance with the India IT Rules, 2021.', 'India.FormDescription', 'The sub-title of the form'),laws:[{name:"Adult Content",label:t._('Adult Content', 'India.Law', 'A law which a user can report content for takedown'),subtext:t._('e.g. nudity, sexual acts or conduct, etc.', 'India.Law', 'Example of this law')},{name:"Impersonation",label:t._('Impersonation', 'India.Law', 'A law which a user can report content for takedown')},{name:"DMCA",label:t._('Copyright Infringement', 'India.Law', 'A law which a user can report content for takedown'),subtext:(0,s.jsxs)(n.xv,{color:"warning",inline:!0,size:"100",children:[" ",t._('Fill out the ', 'Dsa.Law.DMCA', 'Subtext for filling out the DMCA form'),(0,s.jsxs)(n.rU,{display:"inline",href:"https://www.pinterest.com/about/copyright/dmca-pin/",underline:"always",children:[" ",t._('Copyright Complaint form here', 'DSA.Law', 'Hyperlink to copyright form')]})]})},{name:"Trademark",label:t._('Trademark Infringement', 'India.Law', 'An India law which a user can report content for takedown'),subtext:(0,s.jsxs)(n.xv,{color:"warning",inline:!0,size:"100",children:[" ",t._('Fill out the ', 'Dsa.Law.Trademark', 'Subtext for filling out the trademark form'),(0,s.jsxs)(n.rU,{display:"inline",href:"https://www.pinterest.com/about/trademark/",underline:"always",children:[" ",t._('Trademark Complaint form here', 'DSA.Law', 'Hyperlink to trademark form')]})]})},{name:"Other illegal behavior",label:t._('Other', 'India.Law', 'A law which a user can report content for takedown'),subtext:t._('e.g. violates Indian Law, etc', 'India.Law', 'Example of this law')}],inAppReporting:{board:t._('Report Board for India law', 'BoardOptions.ReportIndia', 'Reports a board for India law'),profile:t._('Report user for India law', 'profileHeader.actionBar.overflowFlyout.reportIndiaLaw', 'Button to report Profile for India local law violation'),pin:t._('Report Pin for India law', 'dweb.unauth.context_menu.link.report_pin_india', 'Button to report Pin for India local law violation'),comment:t._('Report comment for Indian law', 'commentOverflowMenu.option.reportForIndianLaw', 'Report comment - Indian local law violation')}},[r.Wy.COUNTERFEIT_APPEAL]:{header:(0,s.jsx)(n.xu,{"data-test-id":"counterfeit-appeal-complaint-header",children:t._('Counterfeit Appeals Form', 'Takedown.CounterfeitAppeal.FormSubHeader', 'The title of the form')}),subHeader:t._('Use this form to submit appeals for content taken down due to counterfeit claims. Please provide as much detail as possible to allow us to efficiently evaluate your appeal.', 'Takedown.CounterfeitAppeal.FormSubheader', 'The sub-title of the form'),laws:[]},[r.Wy.JAPAN_IDPA]:{header:t._('Japan IDPA Takedown Request Form', 'Japan.FormTitle', 'The title of the form'),subHeader:t._('Use this form to report content you believe may be illegal under Japanese law. Please fill out the form with as much detail as possible to allow us to efficiently evaluate your report. If you want to report content that goes against our Community Guidelines, please use the reporting options located next to each Pin.', 'Japan.FormDescription', 'The sub-title of the form'),ipDisclosure:o,laws:[{name:"Violation of privacy",label:t._('Violation of privacy', 'Japan.Law.Privacy', 'A Japan law which a user can report content for takedown')},{name:"Violation of right to honor",label:t._('Violation of right to honor', 'Japan.Law.Honor', 'A Japan law which a user can report content for takedown')},{name:"Infringement of peaceful private life",label:t._('Infringement of peaceful private life', 'Japan.Law.PeacefulPrivate', 'A Japan law which a user can report content for takedown')},{name:"Infringement of business interests",label:t._('Infringement of business interests', 'Japan.Law.BusinessInterests', 'A Japan law which a user can report content for takedown')},{name:"Other",label:t._('Other...', 'Japan.Law.Other', 'A Japan law which a user can report content for takedown')}],inAppReporting:{board:t._('Report Board for Japan law', 'BoardOptions.ReportJapan', 'Reports a board for Japan law'),profile:t._('Report user for Japan law', 'profileHeader.actionBar.overflowFlyout.reportJapanLaw', 'Button to report Profile for Japan local law violation'),pin:t._('Report Pin for Japan law', 'dweb.unauth.context_menu.link.report_pin_japan', 'Button to report Pin for Japan local law violation'),comment:t._('Report comment for Japan law', 'commentOverflowMenu.option.reportForJapanLaw', 'Report comment - Japan local law violation')}}},u={header:t._('Appeal Information', 'AppealInformation.Header', 'Appeal Information header'),objectIdLabel:t._('ID number of the Pin, Board, or User removed', 'Appeal.ObjectId.Field', 'The ID number of the Pin, Board, or User removed'),objectIdHelperText:t._('You can find this number in the takedown notice we sent. Example: 9988776655443322', 'Appeal.ObjectId.HelperText', 'The helper text for the ID number field'),originalTakedownIDLabel:t._('Report ID', 'Appeal.OriginalTakedownID.Field', 'The ID number of the original takedown request'),originalTakedownIDHelperText:t._('You can find this number in the takedown notice we sent. Example: Report ID # 1234567', 'Appeal.OriginalTakedownID.HelperText', 'The helper text for the original takedown ID field'),additionalInformationLabel:t._('Additional Context', 'Appeal.AdditionalInformation.Header', 'Header describing the additional information section for the appeal'),additionalInformationPlaceholder:t._('Please provide more context about why you believe this strike was applied in error.', 'Appeal.AdditionalInformation.Placeholder', 'Placeholder for the additional information section for the appeal')},p={header:t._('Complaint Information', 'ComplaintInformation.Header', 'Complaint Information header'),reportedUrl:t._('Identify the URL of the content', 'ContentUrlField', 'The url of the content the user wants to report'),dsaReportedUrl:t._('What is the URL of the content you want to report?', 'Dsa.ContentUrlField', 'The url of the content the user wants to report for DSA'),reportedUrlHelperText:t._('Please provide the full URL of the content you are complaining about. Please limit your complaint to 1 URL per form submission.', 'ComplaintInformation.ContentUrl.HelperText', 'Complaint Information url field helper text'),contentPortionHeader:t._('What portion(s) of the content are you reporting?', 'ContentReporting.Header', 'Header describing which part of the content the user is reporting'),dsaContentPortionHeader:t._('What portion of the content are you reporting?', 'DSA.ContentReporting.Header', 'Header describing which part of the content the user is reporting for DSA'),lawsViolatedLabel:t._('Which law(s) do you believe the content violates?', 'ContentReporting.Header', 'Header describing which part of the content the user is reporting'),dsaLawsViolatedLabel:t._('Why do you think this content is illegal under local law?', 'DSA.ContentReporting.Header', 'Header describing which part of the content the user is reporting for DSA'),otherLabel:t._('Enter other portion of content', 'ContentPortion.OtherValue', 'Field to describe other portion of the pin they are reporting'),dsaOtherLabel:t._('Please describe what other portion of the content you are reporting', 'DSA.ContentPortion.OtherValue', 'Field to describe other portion of the content they are reporting for DSA'),additionalInformationLabel:t._('Additional information on illegality of content (Optional)', 'ContentReporting.Header', 'Header describing which part of the content the user is reporting'),additionalInformationPlaceholder:t._('250 character limit...', 'ContentReporting.Header', 'Header describing which part of the content the user is reporting'),dsaAdditionalInformationLabel:t._('Please provide additional information about why you think the content is illegal. You may cite or link to relevant statutes, if you like. (Optional)', 'DSA.ContentReporting.Header', 'Label for the additional details textbox of the DSA form'),dsaAdditionalInformationPlaceholder:t._('Provide additional details here', 'DSA.ContentReporting.Placeholder', 'Placeholder for the additional details textbox of the DSA form'),countryHeader:t._('Under what country\u2019s laws do you believe this content is illegal?', 'DSA.Country.Header', 'Header describing the country in which the content is illegal'),otherViolationLabel:t._('Report violating behavior', 'DSA.OtherViolation.Field', 'Field to describe other violation reason of the reported content'),attachmentLabel:t._('If you have additional documents that could help us understand your report (e.g., court order), you can attach it here. Please upload PDFs only, with a maximum file size of 5 MB.', 'DSA.OtherViolation.Field', 'Field for uplodaing attachments'),moduleCollapseLabel:t._('Collapse the module', 'DSA.CollapseModule', 'Text for collapsing items module'),moduleExpandLabel:t._('Expand the module', 'DSA.ExpandModule', 'Text for expanding items module'),noCountryResultText:t._('No countries found', 'DSA.NoCountries', 'Text for country combo box no countries found error'),clearButtonLabel:t._('Clear search field', 'DSA.ClearInput', 'Accessibility text for clearing combobox field'),invalidUrlText:t._('Invalid URL', 'DSA.Invalid Url', 'Accessibility text for invalid pinterest urls'),selectedLawErrorText:t._('Please fill out the appropriate form for this complaint', 'DSA.InvalidLaw', 'Accessibility text for redirecting to the appropriate place for this law'),multiselectPlaceholder:t._('Select an option', 'DSA.Multiselect.Placeholder', 'Header prompting user to select an option'),dateSelectPlaceholder:t._('Select a date', 'DSA.DateSelect.Placeholder', 'Header prompting user to select a date')},m={contactHeader:t._('Contact Information', 'TakedownsContactInformation.OwnerInformationHeading', 'Heading with the word Owner Information'),companyCheckbox:t._('Do you represent a complaints office? (Yes)', 'TakedownsContactInformation.ComplaintsOfficeValidation', 'Checkbox to determine if represents a complaints office'),company:t._('Complaints office', 'TakedownsContactInformation.ComplaintsOfficeNameField', 'The name of the organization or office submitting the complaint'),trustedFlaggerCheckbox:t._('Trusted flagger? (Yes)', 'TakedownsContactInformation.TrustedFlagger', 'Checkbox to determine if reporter is a trusted flagger'),trustedFlaggerSubtext:t._('Trusted Flagger as designated by the Digital Services Coordinator of the Member State in which the applicant is established, in line with Article 22 of the Digital Services Act.', 'TakedownsContactInformation.TrustedFlaggerSubtext', 'Defines a trusted flagger'),trustedFlaggerDate:t._('Date of Trusted Flagger status designation', 'TakedownsContactInformation.TrustedFlaggerDate', 'Date input for trusted flagger status designation'),trustedFlaggerCountry:t._('Country of Trusted Flagger status designation', 'TakedownsContactInformation.TrustedFlaggerDate', 'Date input for trusted flagger status designation'),trustedFlaggerEmailWarning:t._('Please submit the exact email address for your organization as it is listed on the EU DSA Trusted Flaggers webpage.', 'TakedownsContactInformation.TrustedFlaggerEmailWarning', 'Message to submit the accurate email address for a trusted flagger report'),anonSubmissionCheckbox:t._('Do you wish to remain anonymous? (Yes)', 'TakedownsContactInformation.AnonSubmission', 'Checkbox to determine if reporter wishes to remain anonymous'),anonSubmissionSubtext:t._('If you select this box, you will not receive any additional communications about your report, including the final outcome of your report.', 'TakedownsContactInformation.AnonSubmissionSubtext', 'Anon submission disclaimer'),name:t._('Name of Reporter', 'TakedownsContactInformation.NameField', 'User\'s name'),email:t._('Email Address', 'TakedownsContactInformation.EmailField', 'User\'s email address'),phone:t._('Phone Number', 'TakedownsContactInformation.PhoneField', 'Users phone number'),address:t._('Full Address', 'TakedownsContactInformation.AddressField', 'User address')},h={termsHeading:t._('By checking the following boxes, I confirm:', 'TakedownsForm.LabelForCheckboxes', 'Label describing the checkboxes'),isAccurate:t._('The information in this application is accurate.', 'TakedownsContactInformation.isAccurateBoolean', 'Confirmation checkbox that information in form is accurate'),consequences:t._('I understand that if I use this form to submit fraudulent or abusive complaints, I might be subject to claims of liability by Pinterest or other third parties.', 'temp', 'temp'),possibleSuspension:t._('I understand that frequently submitting reports that are fraudulent or abusive may lead Pinterest to suspend the processing of my reports.', 'TakedownsContactInformation.possibleSuspension', 'Confirmation checkbox that fraudulent reports may lead to suspension'),terms:(0,s.jsx)(n.xv,{children:t._('I have a good faith belief that the content violates the law(s) identified.', 'TakedownsContactInformation.termsBoolean', 'Checkbox to confirm they are owner of items they are claiming')}),isAccurateAndComplete:t._('I have a good faith belief that the information and allegations contained in this report are accurate and complete.', 'TakedownsContactInformation.DSA.termsBoolean', 'Checkbox to confirm that the information is accurate and complete'),submitText:t._('Submit', 'TakedownsForm.SubmitApplication', 'Submit application form'),cancelText:t._('Cancel', 'TakedownsForm.CancelApplication', 'Cancel application form'),errorCallout:t._('Please fill out all required fields before submitting the application', 'CCP.AppValidationCallout', 'Call out that lets user know there\'s a validation error ')},_={pin_image:t._('Pin Image / Video', 'TakedownsForm.ContentPortion.Image', 'Checkbox content portion for Image'),pin_description:t._('Pin Description', 'TakedownsForm.ContentPortion.Description', 'Checkbox content portion for Description'),profile_image:t._('Profile Image', 'TakedownsForm.ContentPortion.Image', 'Checkbox content portion for Image'),profile_name:t._('Profile Name', 'TakedownsForm.ContentPortion.Name', 'Checkbox content portion for Name'),profile_description:t._('Profile Description', 'TakedownsForm.ContentPortion.Description', 'Checkbox content portion for Description'),board_name:t._('Board Name', 'TakedownsForm.ContentPortion.Name', 'Checkbox content portion for Name'),board_description:t._('Board Description', 'TakedownsForm.ContentPortion.Description', 'Checkbox content portion for Description'),other:t._('Other...', 'TakedownsForm.ContentPortion.Other', 'Checkbox content portion for Other')},g=(0,a.Z)({takedown:c[e],contactInformation:m,complaints:p,terms:h,reportedPortion:_,appeals:u},i);return{configuration:r.a0[e],translations:g}}},66751:(e,t,i)=>{"use strict";function n(e){return t=>{if(!e)return"";let i=new URL(e);return t?.pinId?(i.searchParams.set("pinId",t.pinId),t?.didItId&&i.searchParams.set("did_it_id",t.didItId),t?.commentId&&i.searchParams.set("commentId",t.commentId)):t?.username&&(i.searchParams.set("username",t.username),t?.boardName&&i.searchParams.set("boardName",t.boardName)),i.toString()}}function a(e){return void 0===e.REQUIRES_SUSPENSION_AGREEMENT||e.REQUIRES_SUSPENSION_AGREEMENT}i.d(t,{M:()=>a,Z:()=>n})},802518:(e,t,i)=>{"use strict";i.d(t,{ZP:()=>o,hR:()=>d});var n=i(233846),a=i(174646),l=i(640641),r=i(66751),s=i(104303);function o(){return d((0,n.ZP)())}function d(e){let{countryFromIp:t,isAuthenticated:i,isBot:n}=(0,a.Ts)(),o=function(e){if(e){for(let[t,i]of Object.entries(l.a0))if(i?.COUNTRY_CODES&&i.COUNTRY_CODES.includes(e))return t}}(t||""),d=function(e=l.Wy.TEST,t){let i=(0,s.Z)({law:e,i18n:t}),n=i?.translations?.takedown?.inAppReporting;return n?{board:n?.board,profile:n?.profile,pin:n?.pin,comment:n?.comment}:{}}(o,e),c={lawImplementation:void 0,hasApplicableLawForCountry:!1,inAppReporting:{},createReportLink:()=>""};if(!(!i&&!n)||!o)return c;let u=o?l.a0[o]:void 0,p=u?.ENABLE_UNAUTH_IN_APP_REPORTING??!0;if(o&&p){let e=l.a0[o]?.BASE_FORM_URL||"";return{lawImplementation:o,hasApplicableLawForCountry:!0,inAppReporting:d,createReportLink:(0,r.Z)(e)}}return c}},449974:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var n=i(667294),a=i(19963),l=i(182997),r=i(297934),s=i(942595),o=i(992114);let d=({children:e,events:t=[]})=>{let i,d,c,u=(0,n.useMemo)(()=>(0,n.isValidElement)(e)?{...e.props}:{},[e]),p=(0,r.Z)(),{logContextEvent:m}=(0,a.u)(),h=(0,n.useMemo)(()=>(0,l.Z)(m,1e3),[m]);try{let e=(0,s.B)?.();i=e?.takedown,d=i?.configuration||null,c=i?.configuration?.LAW||"UNKNOWN"}catch(e){i=null,d=null,c="UNKNOWN"}let _=(0,n.useMemo)(()=>{if(!(0,n.isValidElement)(e))return"[Anonymous Component]";let{type:t}=e;if("string"==typeof t)return t;let i=t?.displayName,a=t?.name;return i||a||"[Anonymous Component]"},[e]),g=(0,n.useMemo)(()=>p.isAuth&&p.id||"",[p]),y=(0,n.useMemo)(()=>{let e={};return t.forEach(t=>{let i,n,a,l=u[t];"BannerCallout"===_&&"onClick"===t&&(l=u.primaryAction?.onClick),e[t]=(i=l,n=d?.CONTEXT_LOGGING_FORM??737,a=c,(...e)=>{if(!i)return void(0,o.nP)("webapp.metrics.legal.takedown.form.context_logger",{sampleRate:1,tags:{law:a,errorMessage:`[ContextLogger] No original handler for ${t} on ${_}`}});let l={},r=null,s=null;switch(_){case"Checkbox":let d=e[0]?.checked||!1;l.form_field_value=d,l.form_field_name=u.name,r=d?106:107,s=18101;break;case"ComboBox":l.form_field_name=u.id,"onChange"===t?(l.form_field_value=e[0]?.value||"",r=7472):"onSelect"===t?(l.form_field_value=e[0]?.item.value||"",r=8721):"onClear"===t&&(r=8722,l.form_field_value=""),s=18104;break;case"DatePicker":l.form_field_name=u.id,r=8721,l.form_field_value=e[0]?.value||"",s=18106;break;case"TextField":l.form_field_name=u.name||u.id,r=7472,l.form_field_value=e[0]?.value||"",s=18105;break;case"RadioGroup.RadioButton":l.form_field_name=u.id||u.name,r=106,l.form_field_value=!0,s=18100;break;case"TextArea":l.form_field_name=u.name||u.id,r=7472,l.form_field_value=e[0]?.value,s=18107;break;case"BannerCallout":let{accessibilityLabel:c,label:p}=u.primaryAction;l.form_field_name=c||p,r=101,l.form_field_value="",s=18108;break;case"Button":l.form_field_name=u.text,r=101,l.form_field_value="",s=18102;break;case"Link":l.form_field_name="link",r=101,l.form_field_value=u.href,s=18103;break;default:(0,o.nP)("webapp.metrics.legal.takedown.form.context_logger",{sampleRate:1,tags:{law:a,errorMessage:`[ContextLogger] Unhandled event type: ${_}`}}),i(...e);return}h({event_type:r,view_type:n,view_parameter:4162,userIdStr:g,element:s,aux_data:l}),i(...e)})}),e},[t,u,_,d?.CONTEXT_LOGGING_FORM,h,g,c]);return d?"[Anonymous Component]"===_?((0,o.nP)("webapp.metrics.legal.takedown.form.context_logger",{sampleRate:1,tags:{law:c,errorMessage:"[ContextLogger] No valid React element provided as children. It must be a known component."}}),e):(0,n.isValidElement)(e)?(t.forEach(e=>{if("BannerCallout"===_&&"onClick"===e&&u.primaryAction){u.primaryAction[e]=y[e];return}u[e]=y[e]}),(0,n.cloneElement)(e,u)):((0,o.nP)("webapp.metrics.legal.takedown.form.context_logger",{sampleRate:1,tags:{law:c,errorMessage:"[ContextLogger] No valid React element provided as children."}}),e):e}},825839:(e,t,i)=>{"use strict";function n(e,t,i,a=!1,l){return{privacy_filter:t?"secret":"public",sort:i||"last_pinned_to",field_set_key:"profile_grid_item",username:e,isRetrievalHub:a,filter_types:l}}i.d(t,{Z:()=>n})},403212:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=(e,t,i)=>`${e}:${t||""}:${i||""}`},284472:(e,t,i)=>{"use strict";i.d(t,{O:()=>s,Q:()=>o});var n=i(801393),a=i(403212),l=i(312702);let r=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],s={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:i,username:n,privacyFilter:a="all",filterAllPins:l=!1,includeArchived:r=!0},s)=>({privacy_filter:a,sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:n,page_size:25,group_by:i?"mix_public_private":"visibility",include_archived:r,redux_normalize_feed:!0,filter_all_pins:l,...s?{orbac_subject_id:s}:Object.freeze({})})},o=e=>r.reduce((t,i)=>{let r=[(0,l.N8)("profileBoards",(0,a.Z)(e,i))];return[!0,!1].forEach(t=>{[!0,!1].forEach(a=>{r.push((0,n.jB)(s.name,s.options({username:e,boardOrder:i,mixPublicSecret:t,filterStories:a})))})}),t.concat(r)},[])},345617:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var n=i(667294),a=i(967312),l=i(174646),r=i(538645),s=i(992114);class o{constructor(){var e,t,i;e="callbacks",t=new Map,(e="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string"))?i:i+"")in this?Object.defineProperty(this,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):this[e]=t,this.observer=new ResizeObserver(e=>{e.forEach(e=>{let t=this.callbacks.get(e.target);t&&t.forEach(t=>t(e.target))})})}observe(e,t){this.callbacks.has(e)||(this.callbacks.set(e,new Set),this.observer.observe(e)),this.callbacks.get(e).add(t)}unobserve(e,t){let i=this.callbacks.get(e);i&&(i.delete(t),0===i.size&&(this.callbacks.delete(e),this.observer.unobserve(e)))}}let d=null;function c(e,t){let{anyEnabled:i,group:c}=(0,a.r)().checkExperiment("closeup_web_resize_observer_optimization"),{isAuthenticated:u}=(0,l.B)(),p=(0,r.ZP)(),m=(0,n.useCallback)(t=>{let i=performance.now();e(t);let n=performance.now();(0,s.nP)("closeup.www.resizeObserverCallback",{sampleRate:.1,tags:{isAuthenticated:u,deviceType:p,resizeObserverOptimizationExp:c,duration:Math.round(n-i)}})},[e,u,p,c]);h=i?null:m,(0,n.useEffect)(()=>{if(!t.current||!h)return()=>{};{let e=t.current;if("ResizeObserver"in window){let t=new ResizeObserver(t=>{Array.isArray(t)&&t.length&&h(e)});return t.observe(e),()=>t.unobserve(e)}{let t,i=e.clientHeight,n=e.clientWidth,a=()=>{let l=e.clientHeight,r=e.clientWidth;(i!==l||n!==r)&&(i=l,n=r,h(e)),t=window.requestAnimationFrame(a)};return a(),()=>window.cancelAnimationFrame(t)}}},[t,h]);var h,_=i?m:null;let g=(0,n.useRef)(_);g.current=_,(0,n.useEffect)(()=>{if(!t.current)return;let e="undefined"!=typeof window&&"ResizeObserver"in window?(d||(d=new o),d):null;if(!e)return void(0,s.nP)("closeup.www.resizeObserverCallback.noResizeObserver",{sampleRate:.1,tags:{isAuthenticated:u,deviceType:p}});let i=t.current,n=e=>{g.current?.(e)};return e.observe(i,n),()=>{e.unobserve(i,n)}},[t,g,u,p])}},492424:(e,t,i)=>{"use strict";function n(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function a(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}i.d(t,{HG:()=>a,OQ:()=>l,hd:()=>n});let l=(e,t)=>({type:"BOARD_SECTION_EDIT",payload:t})},508095:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var n=i(782677),a=i(578373),l=i(801393),r=i(492424),s=i(312702),o=i(890452),d=i(875202);let c=(e,t,i,c)=>u=>{let p={board_id:e,initial_pins:t,name:i},m="BoardSectionResource";return a.Z.create(m,p).callCreate().then(i=>{let a=i.resource_response.data,h=(0,n.Fv)(a,o.Z[m]);return c({event_type:7100,object_id_str:a.id}),u((0,l.XM)(m,p,i,h)),u((0,r.hd)(e,a)),u((0,s.vX)({feedId:e,feedType:d.Z.BOARD_SECTIONS,itemIds:[a.id],itemType:"boardsection"})),t.length&&u({type:"PINS_MOVE",payload:{source:{boardId:e},target:{boardId:e,sectionId:a.id},pinIds:t}}),i})}},808030:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(987775);function a(e,t){return i=>i((0,n.U)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}},199354:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(578373);let a=e=>t=>{t({type:"PINS_MOVE_ALL",payload:e});let{source:i,target:a,excludePinIds:l}=e,r={board_id:i.boardId,new_board_id:a.boardId,pin_ids:l,old_section_id:i.sectionId,new_section_id:a.sectionId};return n.Z.create("BulkEditSelectAllResource",r).callUpdate()}},685887:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(578373),a=i(492424);let l=e=>t=>n.Z.create("BoardSectionResource",{section_id:e}).callGet().then(i=>{let n=i.resource_response.data||{id:"",title:""};return t((0,a.OQ)(e,n)),i})},829131:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(987775);function a(e,t,i){return(0,n.U)("BoardResource",{options:{board_id:e,field_set_key:t,...i?{orbac_subject_id:i}:{}}})}},488267:(e,t,i)=>{"use strict";i.d(t,{Br:()=>c,Cr:()=>y,K8:()=>h,L1:()=>S,YQ:()=>P,ZP:()=>f,aX:()=>x,eo:()=>p,md:()=>u,oG:()=>m,oL:()=>b,of:()=>_,xQ:()=>g,xR:()=>v,yT:()=>d});var n=i(578373),a=i(69401),l=i(987775),r=i(801393),s=i(825839),o=i(284472);function d(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function c(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function u(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function p({viewingUserId:e,viewingUsername:t,boardId:i,boardPinCount:n}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:t,boardId:i,boardPinCount:n}}}let m=(e,t)=>i=>i((0,l.U)("BoardResource",{options:{board_id:e,field_set_key:t}}));function h(e){return t=>{e&&(0,o.Q)(e).forEach(e=>{t(e)})}}let _=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),g=e=>m(e,"pin_count"),y=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),f=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}});function x(e,t,i){let l={name:e,privacy:a.ZP.BoardPrivacy.PUBLIC,username:t,...i?{orbac_subject_id:i}:Object.freeze({})};return e=>n.Z.create("BoardResource",l).callCreate().then(i=>{let n=i.resource_response.data;return e(t&&(0,r.jB)("BoardsResource",(0,s.Z)(t,!1))),n})}function b(e={},t,i){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:i}}let v=(e,t,i)=>async a=>{a({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:t}});let l=await n.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete();return l.resource_response.error||i({event_type:29,object_id_str:e}),l},P=(e,t,i,a,l,r)=>async s=>{s({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:a?.id??"",viewingUser:i}});try{(await n.Z.create("accepted"===t?"BoardCollaboratorResource":"BoardInviteResource",{board_id:e,field_set_key:"boardEdit",invited_user_id:a?.id??"",...r?{orbac_subject_id:r}:{}}).callDelete()).resource_response.error||l({event_type:"accepted"===t?25:29,object_id_str:e})}catch(n){s({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:i,status:t,collaboratingUsers:[a]}})}},S=(e,t,i,a)=>l=>{let r=n.Z.create("BoardResource",{board_id:i}).callDelete();return l(p({viewingUserId:e,viewingUsername:t,boardId:i,boardPinCount:a})),r}},176436:(e,t,i)=>{"use strict";function n(e,t){return{type:"SEARCH_PIN_CLOSEUP_VIEWED",payload:{pinId:e,query:t}}}function a(e){return{type:"SEARCH_QUERY_STARTED",payload:{query:e}}}function l(e){return{type:"SEARCH_QUERY_INVALIDATED",payload:{query:e}}}i.d(t,{Y4:()=>n,g4:()=>a,sb:()=>l})},617100:(e,t,i)=>{"use strict";i.d(t,{DD:()=>u,lg:()=>p,Th:()=>h,YH:()=>o,wH:()=>s,IU:()=>m,L8:()=>c});var n=i(578373),a=i(397657),l=i(312702),r=i(875202);function s({didItDataId:e,isLikedByMe:t,orbacSubjectId:i}){return n=>((0,a.Z)({url:`/v3/did_it/${e}/like/`,method:t?"DELETE":"POST",data:i?{orbac_subject_id:i}:{}}),n({type:"USER_DID_IT_DATA_LIKE_TOGGLED",payload:{id:e,liked_by_me:!t}}))}function o({didItDataId:e,isMarkedHelpfulByMe:t,orbacSubjectId:i}){return n=>((0,a.Z)({url:`/v3/helpful/2/${e}/`,method:t?"DELETE":"POST",data:i?{orbac_subject_id:i}:{}}),n({type:"USER_DID_IT_DATA_HELPFUL_TOGGLED",payload:{id:e,marked_helpful_by_me:!t}}))}function d(e){return{type:"USER_DID_IT_DATA_DELETE",payload:{id:e}}}function c(e,t){return{type:"USER_DID_IT_DATA_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}function u({aggregatedPinDataId:e,details:t,fromUnifiedComment:i,image_signatures:a,pin_id:s,username:o,updateParentDidItCount:d}){let u={aggregatedPinDataId:e,details:t,image_signatures:a,pin_id:s};return t=>n.Z.create("DidItActivityResource",u).callCreate().then(n=>{let a=n.resource_response.data;t({type:"PIN_DID_IT",payload:{id:s,value:!0}}),t({type:"USER_DID_IT_DATA_CREATE",payload:{user_did_it_data:a}}),t((0,l.vX)({feedId:e,feedType:i?r.Z.UNIFIED_COMMENTS:r.Z.TRIED_IT_FEED,itemIds:[a.id],itemType:a.type,prepend:!0})),t((0,l.vX)({feedId:o,feedType:r.Z.TRIED_IT_FEED,itemIds:[a.id],itemType:a.type})),d&&t(c(e,1))},()=>{})}function p({aggregatedPinDataId:e,feedType:t,id:i,isOwnedByMe:a,pinId:s,username:o,updateParentDidItCount:u}){return p=>{n.Z.create("DidItActivityResource",{user_did_it_data_id:i,pinId:s}).callDelete().then(()=>{a&&p({type:"PIN_DID_IT",payload:{id:s,value:!1}}),p(d(i)),p((0,l.EX)({feedId:e??"",feedType:t||r.Z.TRIED_IT_FEED,itemIds:[i],itemType:"userdiditdata"})),p((0,l.EX)({feedId:o,feedType:r.Z.TRIED_IT_FEED,itemIds:[i],itemType:"userdiditdata"})),p((0,l.EX)({feedId:o,feedType:r.Z.UNIFIED_COMMENTS,itemIds:e?[e]:[],itemType:"userdiditdata"})),u&&p(c(i,-1))},()=>{})}}function m({id:e,details:t,image_signatures:i,pinId:a}){let l={details:t,image_signatures:i,user_did_it_data_id:e,pin_id:a};return e=>{n.Z.create("DidItActivityResource",l).callUpdate().then(t=>{e({type:"USER_DID_IT_DATA_UPDATE",payload:{user_did_it_data:t.resource_response.data}})},()=>{})}}function h(e,t,i,n,s){return o=>{(0,a.Z)({url:`/v3/did_it/${i}/flag/`,method:"PUT",data:{reason:n,detailed_reasons:t,explanation:void 0}}).then(()=>{o(d(i)),e&&o((0,l.EX)({feedId:e,feedType:r.Z.TRIED_IT_FEED,itemIds:[i],itemType:"userdiditdata"})),o((0,l.EX)({feedId:s,feedType:r.Z.TRIED_IT_FEED,itemIds:[i],itemType:"userdiditdata"}))},()=>{})}}},312702:(e,t,i)=>{"use strict";function n(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function a(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}i.d(t,{EX:()=>r,N8:()=>a,Qv:()=>l,_f:()=>n,vX:()=>s});let l=(e,t,i=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:i,items:t}});function r(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function s(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},273381:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h,S:()=>m});var n=i(578373),a=i(829131),l=i(808030),r=i(312702),s=i(28755),o=i(875202),d=i(795209);let c=e=>t=>{d.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t._('Please wait until the previous board action finishes.', ' - ', ' -- ');default:return e.message}}(t,e))},u=e=>(0,r.N8)(e.sectionId?o.Z.BOARD_SECTION_PINS:o.Z.BOARDFEED,e.sectionId||e.boardId);function p(e,t){let{source:i,target:n}=e;n.boardId!==i.boardId?(t((0,a.Z)(i.boardId,"pin_count")),t((0,a.Z)(n.boardId,"pin_count"))):i.sectionId&&n.sectionId||t((0,a.Z)(n.boardId,"pin_count")),i.sectionId&&t((0,l.Z)(i.sectionId)),n.sectionId&&t((0,l.Z)(n.sectionId))}function m(e){return t=>{let{selectedPinIds:i,source:n,target:a}=e;t((0,r.EX)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?o.Z.BOARD_SECTION_PINS:o.Z.BOARDFEED,itemIds:i,itemType:"pin"})),t((0,r.vX)({feedId:a.sectionId||a.boardId,feedType:a.sectionId?o.Z.BOARD_SECTION_PINS:o.Z.BOARDFEED,itemIds:i,itemType:"pin"})),i.forEach(e=>{t((0,s.Vp)({pinId:e,boardId:a.boardId,sectionId:a.sectionId||void 0,title:a.name||""}))}),p(e,t)}}function h(e,t){return i=>{let{selectedPinIds:a,target:l}=e;return a.forEach(e=>{i((0,s.Vp)({pinId:e,boardId:l.boardId,sectionId:l.sectionId||void 0,title:l.name||""}))}),(function(e,t,i){let{inverseSelection:a,selectedPinIds:l,source:s,target:d,orbacSubjectId:p}=e;if(s.boardId===d.boardId&&(s.sectionId||null)===(d.sectionId||null))return Promise.reject();if(a){let e={board_id:s.boardId,new_board_id:d.boardId,old_section_id:s.sectionId||void 0,new_section_id:d.sectionId||void 0,pin_ids:l,orbac_subject_id:p};return n.Z.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then(()=>Promise.all([t(u(s)),t(u(d))])).catch(c(i))}{let e=(e,i)=>{t((0,r.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?o.Z.BOARD_SECTION_PINS:o.Z.BOARDFEED,itemIds:l,itemType:"pin"})),t((0,r.vX)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?o.Z.BOARD_SECTION_PINS:o.Z.BOARDFEED,itemIds:l,itemType:"pin"}))};e(s,d);let a=()=>e(d,s);if(d.boardId===s.boardId)if(d.sectionId){let e={section_id:d.sectionId,pins:l,orbac_subject_id:p};return n.Z.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch(e=>{a(),c(i)(e)})}else{let e={section_id:s.sectionId,pins:l,orbac_subject_id:p};return n.Z.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch(e=>{a(),c(i)(e)})}{let e={board_id:d.boardId,section_id:d.sectionId||void 0,pin_ids:l,orbac_subject_id:p};return n.Z.create("BulkEditResource",e).callUpdate({showError:!1}).catch(e=>{a(),c(i)(e)})}}})(e,i,t).then(()=>p(e,i))}}},518626:(e,t,i)=>{"use strict";i.d(t,{a:()=>n,k:()=>a});let n=e=>({type:"ONE_TAP_SAVE",payload:e}),a=e=>({type:"ONE_TAP_UNSAVE",payload:e})},28755:(e,t,i)=>{"use strict";function n(e){return{type:"PIN_BETTER_SAVE",payload:e}}function a(e){return{type:"PIN_BETTER_SAVE_CUTOUT",payload:e}}function l(e){return{type:"PIN_BETTER_UNSAVE",payload:e}}function r(e){return{type:"PIN_BETTER_UNSAVE_CUTOUT",payload:e}}function s(e){return{type:"PIN_BETTER_SELECT_BOARD_OR_SECTION",payload:e}}function o(e){return{type:"PIN_BETTER_SELECT_BOARD_CUTOUT",payload:e}}function d(e){return{type:"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN",payload:{boardId:e}}}i.d(t,{ND:()=>d,Vp:()=>s,a1:()=>n,b6:()=>o,jg:()=>l,o4:()=>a,ti:()=>r})},992110:(e,t,i)=>{"use strict";function n(e,t){return{type:"PIN_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}i.d(t,{R:()=>n})},739951:(e,t,i)=>{"use strict";function n(e){return{type:"PIN_QUICK_SAVE",payload:e}}function a(e){return{type:"UPDATE_PINS_WITH_QUICKSAVE_REPIN",payload:{newPin:e}}}i.d(t,{X:()=>a,d:()=>n})},354687:(e,t,i)=>{"use strict";i.d(t,{w:()=>l});var n=i(813509),a=i(765573);let l=({pinId:e,boardId:t,checkExperiment:l,i18n:r,isQuickSave:s,logContextEvent:o,onSuccess:d,originalPinId:c,showNewUserSavetoProfileAnimation:u,showRepinConfirmation:p,showToast:m,section:h,trackingParams:_,isOneTapSave:g,viewParameter:y,viewType:f,historyPush:x,suggestedBoardIds:b,savePinId:v})=>async(P,S)=>{let{pins:w,session:k}=S(),I=w[e],{default:T}=await i.e(72247).then(i.bind(i,972247)),A=new T({boardId:t,dispatch:P,i18n:r,isOneTapSave:g,isQuickSave:s,onSuccess:d,originalPinId:c,pinId:I.id,section:h,showNewUserSavetoProfileAnimation:u,showRepinToasts:e=>p?p(e):m?m(e):void 0,trackingParams:_,userId:k.userId,viewParameter:y,viewType:f,historyPush:x,suggestedBoardIds:b,savePinId:v,pinData:{trackingParams:I.tracking_params,viewParameter:(0,a.A)({hasRichMetadata:!!I.rich_metadata,hasRichMetadataProducts:!!I.rich_metadata?.products,hasRichMetadataArticle:!!I.rich_metadata?.article,hasRichMetadataRecipe:!!I.rich_metadata?.recipe}),pinnedToBoardId:I.pinned_to_board?.id}});return(0,n.ib)({checkExperiment:l,isAuthMweb:k.isAuthenticated&&(k.isMobile||k.isTablet)}),A.processRepin(o)}},159982:(e,t,i)=>{"use strict";i.d(t,{KF:()=>c,ZN:()=>s,fv:()=>d,kE:()=>p,yA:()=>o});var n=i(578373),a=i(397657),l=i(226003);function r(e,t,i,a){return n.Z.create("UserFollowResource",{user_id:e,invite_code:a||void 0,aux_data:t?{pin_id:t}:void 0,client_tracking_params:i})}function s(e,t=null,i,n){return a=>{r(e,t,i,n).callCreate().catch(()=>a((0,l.P_)(e,!1))),a((0,l.P_)(e,!0))}}function o(e,t=null,i,n){return async a=>{a((0,l.P_)(e,!0)),await r(e,t,i,n).callCreate().catch(t=>{throw a((0,l.P_)(e,!1)),t})}}function d(e,t=null,i){return n=>{r(e,t,i).callDelete().catch(()=>n((0,l.P_)(e,!0))),n((0,l.P_)(e,!1))}}function c(e,t=null,i){return async n=>{n((0,l.P_)(e,!1)),await r(e,t,i).callDelete().catch(t=>{throw n((0,l.P_)(e,!0)),t})}}let u=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),p=e=>t=>{e.length>0&&((0,a.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e.join(",")}}).catch(()=>t(u(e,!1))),t(u(e,!0)))}},226003:(e,t,i)=>{"use strict";i.d(t,{Ge:()=>c,JS:()=>r,OF:()=>_,P_:()=>s,Q_:()=>m,b8:()=>h,cg:()=>o,h2:()=>u,h6:()=>p});var n=i(578373),a=i(397657),l=i(941925);function r(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}let s=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),o=(e,t)=>({type:"USER_FOLLOWING_COUNT",payload:{id:e,following:t}}),d=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),c=({id:e,orbacSubjectId:t,blockSource:i,blockContext:a,logContextEvent:l})=>async r=>{r(d(e,!0));let s=await n.Z.create("UserBlockResource",{blocked_user_id:e,orbac_subject_id:t,block_source:i,block_context:a}).callCreate().catch(()=>r(d(e,!1)));return l({event_type:54,object_id_str:e}),s},u=(e,t)=>async i=>{i(d(e,!1));let a=await n.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch(()=>i(d(e,!0)));return t({event_type:55,object_id_str:e}),a};function p(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}let m=(e,t)=>()=>n.Z.create("UserStateResource",{state:e,value:t}).callCreate(),h=(e,t,i)=>(n,r)=>{(0,a.Z)({url:"/v3/users/me/",method:"POST"}).then(()=>{i({event_type:48,object_id_str:r().session.userId}),e(),(0,l.Z)()},t)},_=e=>(0,a.Z)({url:"/v3/register/exists/",data:{email:e}})},875202:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",AUTOMAGICAL_BOARD_FEED:"automagical-board-feed",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",USE_CASE_TAB:"useCaseFeed",TRIED_IT_FEED:"trieditfeed"}},267885:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(874322);let a=(e,t)=>{switch(e=e||{},t.type){case n.zP:case n.aW:{let{response:i,resource:n}=t.payload,{data:a}=i.resource_response;if("StoryPinDraftsResource"===n){let t=(a||[]).reduce((e,t)=>(e[t.id]=t,e),{});return{...e,...t}}return e}case"STORY_PIN_DATA_DELETE":{let{storyPinDataId:i}=t.payload,n={...e};return delete n[i],n}default:return e}}},393995:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(442279),a=i(875202);let l={},r=(0,n.P1)((e,{aggregatedComments:t})=>t,({feeds:e},{aggregatedPinDataId:t})=>e[`${a.Z.UNIFIED_COMMENTS}:${t||""}`],({didItData:e})=>e,(e,{users:t})=>t??l,(e,t,i,n)=>{let a=new Set;return t?.map(({id:t,type:r})=>{if(a.has(t))return;a.add(t);let s="aggregatedcomment"===r.toLowerCase()?e[t]:i[t];if(!s)return;let o="user"in s&&("string"==typeof s.user?n[s.user]??l:s.user??l);return{...s,user:o??l}}).filter(e=>void 0!==e)||[]})},751102:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=(0,i(442279).P1)(({users:e,boards:t,session:i})=>{let n=e[i.userId]||null;return Object.keys(t).reduce((e,i)=>{let a=t[i];return!a.archived_by_me_at&&(a.owner?.id===n?.id||a.collaborating_users&&a.collaborating_users.map(({id:e})=>e).includes(n?.id))&&a.cover_images?e.concat([a]):e},[])},e=>e.sort((e,t)=>e.name.localeCompare(t.name)))},824879:(e,t,i)=>{"use strict";i.d(t,{Z:()=>y});var n=i(545007),a=i(616550),l=i(20256),r=i(547504),s=i(219308),o=i(718369),d=i(640935),c=i(233846),u=i(890360),p=i(943369),m=i(112800),h=i(677316),_=i(538645),g=i(785893);function y({alignIconLeft:e,bgColor:t,color:i,disableRedirect:y=!1,fallbackUrl:f,icon:x="arrow-back",onTouch:b,padding:v,placement:P,shouldUseFallbackUrl:S,showBackButtonLabel:w=!1,size:k="lg",viewParameter:I,viewType:T,isVisualSearch:A}){let C=(0,c.ZP)(),E=(0,a.k6)(),j=(0,a.TH)(),R=(0,_.HG)(),L=(0,n.v9)(e=>e.session.isAuthenticated),F=(0,s.Z)(),D=(0,h.Z)(),O=(0,d.vs)(),{viewType:M,viewParameter:Z}=(0,o.SU)(),[z,N]=T?[T,I]:[M,Z],K=()=>{let e=(0,p.M0)().getItem(r.pm);j.key||"/ideas"!==f?(0,m.My)(`pinner_conversion.back_button.${String(e?.[0].pageType)}`):(0,m.My)("pinner_conversion.back_button.no_history"),(0,m.My)(`web_back_button_click.${String(P)}.is_auth_${String(L)}`),D({action:"click",item:"back-button"}),z&&F({view_type:z,view_parameter:N,element:34,event_type:102}),b&&b(),y||((!j.key||!j.state||j.state?.referrer==="redirect"||S)&&f?E.push(f):j.pathname.includes("/password/reset/")&&j.search&&j.search.includes("?nativeShouldDismiss=true")?E.push("/login/?dismissWebview=true"):E.goBack())},B=O?d.t4:"white",U=(0,u.am)(j)||A||"white"===i,V=(0,g.jsx)(l.zx,{accessibilityLabel:C._('Back', 'navigation button', 'navigation button'),color:"light",iconStart:"arrow-back",onClick:K,size:"lg",text:C._('Back', 'back.button.navigation.button', 'Navigation button to take user back to previous page')});return(0,g.jsx)(l.xu,{"data-test-id":"back-button",children:e?(0,g.jsx)(l.xu,{alignItems:"center",display:"flex",height:48,marginStart:"cancel"===x?-1:-2,width:48,children:(0,g.jsx)(l.hU,{accessibilityLabel:C._('Back', 'navigation button', 'navigation button'),bgColor:t,icon:x,iconColor:!i&&(!t||["white","lightGray","transparent"].includes(t))?"gray":i,onClick:K,padding:"auto"!==v?v:2,size:k})}):(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:R||U||t?"":B,width:O&&!U?"fit-content":""}},rounding:"circle",children:w?V:(0,g.jsx)(l.hU,{accessibilityLabel:C._('Back', 'navigation button', 'navigation button'),bgColor:t||R?t:"transparent",icon:x,iconColor:!i&&(!t||["white","lightGray","transparent"].includes(t))?"gray":i,onClick:K,padding:"auto"!==v?v:2,size:k})})})}},615010:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var n=i(545007),a=i(20256),l=i(233846),r=i(51340),s=i(683829),o=i(423632),d=i(785893);function c({boardId:e,onBoardSelected:t,noArrowIcon:i,showSingleBoardRep:c}){let u=(0,l.ZP)(),p=(0,n.v9)(({boards:e})=>e)[e],m=p.section_count,h=!!m&&m>0,_=(0,s.Z)(),g=p.name??"this board";return(0,d.jsx)(a.iP,{accessibilityLabel:(0,r.Wc)(`${u._('Select {{ boardName }}', 'board.picker.row.select.board', 'Accessibility label for select board button')}`,{boardName:g}),onTap:_({fn:()=>t(h)}),rounding:2,tapStyle:"compress",children:(0,d.jsx)(o.Z,{boardId:e,noArrowIcon:i,showSingleBoardRep:c})})}},423632:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var n=i(667294),a=i(545007),l=i(20256),r=i(233846),s=i(51340),o=i(10816),d=i(819265),c=i(396695),u=i(785893);function p({boardId:e,navigateToBoard:t,noArrowIcon:i,showCollaborators:p,showSingleBoardRep:m,shouldShowPinAndSectionCount:h}){let _=(0,r.ZP)(),g=(0,a.v9)(({boards:e})=>e)[e],y=(g.collaborating_users||[]).map(e=>({name:e.username??"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":e.image_medium_url??""})),f="",x=y.slice(0,3).map(e=>e.name);switch(y.length){case 3:f=(0,s.Wc)(`${_._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')}`,{first:`${x[0]}`,second:`${x[1]}`,last:`${x[2]}`});break;case 2:f=(0,s.Wc)(`${_._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')}`,{first:`${x[0]}`,second:`${x[1]}`});break;default:f=x.join(", ")}let b=y.length>3?(0,s.Wc)(_.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', y.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:f,leftCount:`${y.length-3}`}):(0,s.Wc)(`${_._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')}`,{userNames:f}),v=new l.Ry(0),P=g.pin_count,S=g.section_count,w=(0,u.jsx)(n.Fragment,{children:(0,u.jsx)(l.xu,{"data-test-id":S?"boardWithSection":"boardWithoutSection",children:(0,u.jsxs)(l.xu,{alignItems:"center",column:12,"data-test-id":"board-picker-row",display:"flex",marginBottom:4*!!m,rounding:2,children:[(0,u.jsx)(l.xu,{paddingY:2*!m,children:m?(0,u.jsx)(l.xu,{height:48,overflow:"hidden",width:48,children:(0,u.jsx)(l.zd,{height:"100%",rounding:2,width:"100%",children:(0,u.jsx)(l.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:g.image_cover_url||" "})})}):(0,u.jsx)(l.xu,{height:60,overflow:"hidden",rounding:4,width:60,children:(0,u.jsx)(c.default,{boardKey:{type:"deprecated",data:g},fullSize:!0,hideSecretBoardIcon:!0,type:"thumbnail",viewType:void 0})})}),(0,u.jsxs)(l.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,u.jsxs)(l.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:m?2:4,overflow:m?"hidden":"auto",width:"100%",children:[(0,u.jsx)(l.xv,{lineClamp:m?1:void 0,size:"400",weight:"bold",children:g.name}),h&&(0,u.jsxs)(l.kC,{children:[(0,u.jsx)(l.xv,{inline:!0,children:!!P&&(0,s.nk)(_.ngettext('{{ PinCount }} Pin', '{{ PinCount }} Pins', P ?? 0, 'BoardRow.pinCount', 'Number of Pins on board or section, pinCount: number of Pins'),{PinCount:P})}),!!P&&!!S&&(0,u.jsx)(d.Z,{}),(0,u.jsx)(l.xv,{inline:!0,children:!!S&&(0,s.nk)(_.ngettext('{{ sectionCount }} section', '{{ sectionCount }} sections', S ?? 0, 'BoardRow.sectionCount', 'Number of sections on board, sectionCount: number of sections'),{sectionCount:S})})]})]}),(0,u.jsxs)(l.kC,{alignItems:m?"center":"start",justifyContent:"start",children:["secret"===g.privacy&&(0,u.jsx)(l.xu,{marginStart:m?3:1,children:(0,u.jsx)(l.JO,{accessibilityLabel:_._('secret board icon', ' - ', ' -- '),color:m?"default":"subtle",icon:"lock"})}),g.is_collaborative&&(m||p)&&y.length>0?(0,u.jsx)(l.xu,{zIndex:v,children:(0,u.jsx)(l.HE,{accessibilityLabel:o.U+b,collaborators:y,size:1===y.length?"sm":"xs"})}):g.is_collaborative&&(0,u.jsx)(l.xu,{marginStart:1,children:(0,u.jsx)(l.JO,{accessibilityLabel:_._('group board icon', ' - ', ' -- '),icon:"people"})}),!i&&!!g.section_count&&(0,u.jsx)(l.xu,{"data-test-id":"boardSectionPicker",marginStart:3*!!m,children:(0,u.jsx)(l.JO,{accessibilityLabel:_._('board section board picker icon', ' - ', ' -- '),color:m?"default":"subtle",icon:"arrow-forward"})})]})]})]})})});return t&&g.url?(0,u.jsx)(l.Tg,{href:g.url,rounding:2,tapStyle:"compress",children:w}):w}},990283:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var n=i(545007),a=i(616550),l=i(20256),r=i(233846),s=i(42450),o=i(63500),d=i(615010),c=i(51340),u=i(20561),p=i(785893);function m({onSectionSelected:e,sectionId:t,showSectionRep:i}){let a=(0,n.v9)(({boardsections:e})=>e[t]),s=(0,r.ZP)(),o=a&&a.preview_pins?.[0]&&a.preview_pins[0].image_medium_url,d=a?.title??"";return(0,p.jsx)(u.Z,{onTouch:e,pressState:"none",rounding:2,children:(0,p.jsxs)(l.xu,{alignItems:"center",column:12,"data-test-id":"sectionPickerRow",display:"flex",marginBottom:4*!!i,rounding:2,children:[i&&(0,p.jsx)(l.xu,{height:48,width:51,children:(0,p.jsx)(l.zd,{height:"100%",rounding:2,width:"100%",children:o&&(0,p.jsx)(l.Ee,{alt:(0,c.Wc)(s._('{{ boardSectionName }} thumbnail', 'SectionPickerRow.boardImage.accessibilityLabel.text', 'Additional text explaining board image thumbnail. boardSectionName:Title of the board section for a11y text'),{boardSectionName:d}),color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:o})})}),!i&&(0,p.jsx)(l.xu,{column:1,paddingY:2}),(0,p.jsx)(l.xu,{column:11,display:"flex",flex:"grow",justifyContent:"between",paddingY:2,children:i?(0,p.jsx)(l.xu,{marginStart:2,overflow:"hidden",width:"100%",children:(0,p.jsx)(l.xv,{lineClamp:1,size:"400",weight:"bold",children:a?.title})}):(0,p.jsx)(l.xu,{marginStart:2,children:(0,p.jsx)(l.xv,{weight:"bold",children:a?.title})})})]})})}function h({boardId:e,originalBoardId:t,sectionId:i,repin:c,hideBoardPickerRow:u,showSectionRep:h}){let _=(0,r.ZP)(),{isFetching:g,boardSections:y,filteredBoardSections:f}=((e,t)=>{let{isFetching:i}=(0,s.Z)({name:"BoardSectionsRepinResource",options:{board_id:e}}),a=(0,n.v9)(({feeds:t})=>(t[`board-sections:${e}`]||[]).reduce((e,t)=>{if("boardsection"===t.type){let i={type:"boardsection",id:t.id};e.push(i)}return e},[])),l=(0,n.v9)(i=>a.map(e=>e.id).reduce((n,a)=>{let l=i.boardsections[a??""];return a!==t&&l&&n.push({board:{id:e},id:l.id,title:l.title,type:"boardsection",slug:l.slug}),n},[]));return{isFetching:i,boardSections:a,filteredBoardSections:l}})(e,i),x=(0,a.k6)(),b=(0,o.gC)()(t||"");return(0,p.jsxs)(l.xu,{children:[y.length>0&&(0,p.jsxs)(l.xu,{paddingY:3*!h,children:[h&&(0,p.jsx)(l.xu,{paddingY:2,children:(0,p.jsx)(l.xu,{marginBottom:2,children:(0,p.jsx)(l.X6,{accessibilityLevel:3,size:"300",children:(0,p.jsx)(l.xv,{inline:!0,children:_._('Board', 'RepinFlow.SectionPickerList.Board', 'Section picker board title')})})})}),!u&&(0,p.jsx)(d.Z,{boardId:e,noArrowIcon:!0,onBoardSelected:()=>c(e,void 0,_),showSingleBoardRep:h},e),h&&(0,p.jsx)(l.xu,{paddingY:4,children:(0,p.jsx)(l.X6,{accessibilityLevel:3,size:"300",children:(0,p.jsx)(l.xv,{inline:!0,children:_._('Section', 'RepinFlow.SectionPickerList.Section', 'Section picker all sections title')})})}),f.map(i=>(0,p.jsx)(m,{onSectionSelected:()=>{c(e,i,_),t&&x.push(b?.url??"")},sectionId:i.id??"",showSectionRep:h},i.id))]}),(0,p.jsx)(l.xH,{accessibilityLabel:_._('Loading board section for repin flow', ' - ', ' -- '),show:g})]})}},7689:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(51340);let a=(e,t,i)=>({text:t?(0,n.nk)(i._('Saved to {{ board }}', 'Board saved message', 'Board saved message'),{board:t}).join(" "):i._('Saved to new board', 'Board saved message if the new board\'s name is not found', 'Board saved message if the new board\'s name is not found'),href:e})},190460:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(919703),a=i(640380),l=i(83945);function r(e,t,i,r){switch(e){case 0:return function({isShortened:e,minutes:t,i18n:i}){if(!t)return"";if(e)return(0,l.Z)(t,i).join("");let r=(0,a.Z)((0,n.X)({m:t}),i);if(!r)return"";let s=r.join(""),o=i._('Cook Time', 'ideapin.basics.cookTime', 'The cook time for the food in this pin');return`${o}: ${s}`}({minutes:parseInt(t,10),i18n:i,isShortened:r});case 1:return function({servingSize:e,i18n:t}){return e?1===e?`${e} ${t._('serving', 'ideapin.basics.servings', 'The number of servings this recipe makes')}`:`${e} ${t._('servings', 'ideapin.basics.servings', 'The number of servings this recipe makes')}`:""}({servingSize:parseInt(t,10),i18n:i});case 2:return function({difficulty:e,i18n:t}){let i={1:t._('Easy', 'closeup.storyPin.basicsLayout.difficulty', 'Easy difficulty level'),2:t._('Intermediate', 'closeup.storyPin.basicsLayout.difficulty', 'Intermediate difficulty level'),3:t._('Expert', 'closeup.storyPin.basicsLayout.difficulty', 'Expert difficulty level')},n=t._('Difficulty', 'ideapin.basics.difficulty', 'The difficulty for the activity in this pin');return`${n}: ${i[e??"1"]}`}({difficulty:t,i18n:i});default:return""}}},992435:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=e=>e.join(` \u2022 `)},374534:(e,t,i)=>{"use strict";i.d(t,{B5:()=>m,CR:()=>c,Cc:()=>s,Dv:()=>f,Wz:()=>o,_P:()=>y,dP:()=>x,gx:()=>u,h8:()=>l,hk:()=>d,lp:()=>_,lt:()=>p,r4:()=>g});var n=i(20256),a=i(660098);let l={GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},r={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1},s={...r,font:{default_size:28,letter_spacing:-.4,line_height:1.25,name:"Graphik Regular",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Regular.otf"},font_size:28},o={...r,font:{default_size:48,letter_spacing:0,line_height:1,name:"Graphik Bold Italic",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Bold-Italic.otf"},font_size:48},d=64,c=48,u=48,p=new n.H3([a.tD]),m=new n.H3([p]),h=new n.H3([a.tD]),_=new n.H3([h]),g=4;function y(e){return e?{paddingX:0,paddingY:0}:{paddingX:2,paddingY:g}}let f=60,x=3},187201:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(785893);function a({children:e,dir:t="auto"}){return(0,n.jsx)("div",{"data-test-id":"safeTextDirection",dir:t,children:e})}},508712:(e,t,i)=>{"use strict";function n(e){let t=[],i="";for(let n of e)if(i){let e=!!n.match(/\s/),a=!!i.match(/\s/);if(e===a)i+=n;else if(!a&&i.includes("-")){let e=0;for(let n=0;n<i.length;n+=1)"-"===i[n]&&(t.push(i.substring(e,n+1)),e=n+1);t.push(i.substring(e)),i=n}else t.push(i),i=n}else i=n;return i.length&&t.push(i),t}function a({boxHeight:e,boxWidth:t,font:i,startFontSize:a,text:l}){if("undefined"==typeof document||!document.body)return{fontSize:a,lines:[]};let{body:r}=document,s=document.createElement("div");r.appendChild(s);let o=l?.split(/\r?\n/g),d=a,c={letterSpacing:i.fontOverrides?.letterSpacing!=null?`${i.fontOverrides.letterSpacing}px`:void 0,lineHeight:String(i.fontOverrides?.lineHeight||1.1),fontFamily:i.fontFamily,fontSize:`${d}px`,position:"absolute",visibility:"hidden",width:`${t}px`};Object.assign(s.style,c);let u=document.createElement("div");for(u.style.display="inline",s.appendChild(u),(o??[]).forEach((e,t)=>{let i=document.createElement("span");i.style.wordBreak="break-word",u.appendChild(i),i.appendChild(document.createTextNode(e)),t!==(l??"").length-1&&i.appendChild(document.createElement("br"))});(u.offsetHeight>e||u.offsetWidth>t)&&d>0;)d-=1,s.style.fontSize=`${d}px`;return u.remove(),s.remove(),{fontSize:d,lines:d>0?function({font:e,fontSize:t,textList:i,width:a}){if("undefined"==typeof document||!document.body||a<=0||t<=0)return[];let{body:l}=document,r=document.createElement("div");l.appendChild(r);let s={letterSpacing:e.fontOverrides?.letterSpacing!=null?`${e.fontOverrides.letterSpacing}px`:void 0,lineHeight:String(e.fontOverrides?.lineHeight||1.1),fontFamily:e.fontFamily,fontSize:`${t}px`,visibility:"hidden"};Object.assign(r.style,s);let o=document.createElement("div");o.style.display="inline",r.appendChild(o);let d=document.createTextNode("");o.appendChild(d);let c=[],u="",p=e=>{let t=e.trim();return d.textContent=t,{text:t,width:o.offsetWidth}},m=e=>{let t=!!e.match(/\s/),i=0===u.length;if(d.textContent=`${u}${e}`,o.offsetWidth>a)if(t)c.push(p(u)),u="";else if(i)for(let t of e)m(t);else c.push(p(u)),u="",m(e);else u+=e};for(let e of i??[])0===e.length&&c.push(p(u)),n(e).forEach(e=>m(e)),u.length&&(c.push(p(u)),u="");return o.remove(),r.remove(),c}({font:i,fontSize:d,textList:o,width:t}):[]}}function l(e){let t=window.getComputedStyle(e,null),i=parseFloat(t.getPropertyValue("height").replace("px","")),n=parseFloat(t.getPropertyValue("font-size").replace("px","")),a=parseFloat(t.getPropertyValue("line-height").replace("px",""));return Number.isNaN(a)&&(a=1.2*n),Math.ceil(i/a)}i.d(t,{KV:()=>a,Yd:()=>n,xW:()=>l})},438424:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(11683);function a(e){return{defaultStyle:0,fontFamily:e.name??"",fontGroup:n.gu,fontOverrides:{letterSpacing:e.letter_spacing,lineHeight:e.line_height},format:"truetype",id:e.id,styles:[{fontStyle:"",fontUrl:e.url,fontWeight:"normal",name:"normal"}]}}},388376:(e,t,i)=>{"use strict";i.d(t,{j:()=>a});let n=RegExp("^[^A-Za-z--A-Za-z----]*[---]");function a(e){return n.test(e||"")?"rtl":"ltr"}},926145:(e,t,i)=>{"use strict";i.d(t,{Af:()=>c,Ei:()=>o,II:()=>x,Lh:()=>_,U:()=>m,Zy:()=>s,dD:()=>l,er:()=>h,hb:()=>y,in:()=>d,j7:()=>g,kX:()=>u,mx:()=>f,n5:()=>r,q8:()=>p,xH:()=>a});var n=i(581288);let a=1048576,l=3,r=20,s=3,o=10,d=50,c=10,u=1200,p=375,m=375/n.ap,h=4096,_="#FFFFFF",g={blockStyle:{x_coord:4.27,y_coord:46.82,width:91.46,height:26.35,corner_radius:0},style:{font_id:6,hex_color:"#FFFFFF",font_size:36,alignment:1},text:"",type:"story_pin_paragraph_block"},y=420,f=325,x=768},454547:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s}),i(167912);var n,a=i(78039),l=i(429836);let r=(void 0!==n||(n=i(220858)).hash&&"f5443b1193b0aed988404fef7c7338fe"!==n.hash&&console.error("The definition of 'useStructuredDescription_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function s(e){var t;return(t=(0,a.Z)(r,e).formattedCloseupDescription)&&Array.isArray(t.components)?t.components.filter(e=>("DescriptionHeader"===e.__typename||"DescriptionTable"===e.__typename||"DescriptionPoints"===e.__typename||"DescriptionSpecs"===e.__typename||"DescriptionString"===e.__typename||"DescriptionStringBold"===e.__typename)&&e.type).map(e=>{let t="DescriptionHeader"===e.__typename||"DescriptionTable"===e.__typename||"DescriptionPoints"===e.__typename||"DescriptionSpecs"===e.__typename||"DescriptionString"===e.__typename||"DescriptionStringBold"===e.__typename?e.type:"";if("DescriptionSpecs"===e.__typename&&t===l.X.SPECS)return{type:t,content:e.specsContent?.reduce((e,t)=>({...e,[t.key]:t.value}),{})};let i="DescriptionString"===e.__typename?e:null,n="DescriptionPoints"===e.__typename?e:null,a="DescriptionTable"===e.__typename?e:null,r="DescriptionHeader"===e.__typename?e:null,s="DescriptionStringBold"===e.__typename?e:null;return{type:t,content:i?.stringContent??n?.pointsContent??a?.tableContent??r?.headerContent??s?.boldContent}}):[]}},429836:(e,t,i)=>{"use strict";i.d(t,{X:()=>n,j:()=>a});let n={BOLD:"formatted_description_bold_component",ELEMENT:"formatted_description_element_component",HEADER:"formatted_description_header_component",PARAGRAPH:"formatted_description_paragraph_component",POINTS:"formatted_description_points_component",SPECS:"formatted_description_specs_component",TABLE:"formatted_description_table_component"},a=({components:e,pinDescription:t})=>e&&0!==e.length?e:[{content:t,type:n.PARAGRAPH}]},293181:(e,t,i)=>{"use strict";i.d(t,{k:()=>r,w:()=>l});var n=i(20256),a=i(678221);let l=2e3,r=new n.H3([a.Z])},782803:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var n=i(545007),a=i(782677),l=i(578373),r=i(778622),s=i(43535),o=i(987775),d=i(801393);function c(){let e=(0,n.I0)(),t=(0,n.v9)(e=>e.resources);return async function({boardCreateOptions:i,deprecatedSchemaForNormalization:n}){let c=await l.Z.create("BoardResource",i).callCreate(),u=c.resource_response.data,p=n?(0,a.Fv)(u,n):void 0;e((0,d.XM)("BoardResource",i,c,p)),e((0,r.fO)({event_type:20})),u.owner?.id&&e((0,o.b)("UserResource",{options:{user_id:u.owner.id,field_set_key:"save_behavior"}}));let m=t.BoardsResource||{},h=t.BoardsFeedResource||{};return Object.keys(m).forEach(t=>{(0,s.k)(t).username===u.owner?.username&&e((0,d.jB)("BoardsResource",t))}),Object.keys(h).forEach(t=>{(0,s.k)(t).username===u.owner?.username&&e((0,d.jB)("BoardsFeedResource",t))}),u}}},821332:(e,t,i)=>{"use strict";i.d(t,{ZP:()=>A});var n,a=i(667294);i(422578);var l=i(20256),r=i(19963),s=i(182997),o=i(78039),d=i(131714),c=i(967312),u=i(174646),p=i(406706),m=i(422908),h=i(113329),_=i(992114),g=i(757653),y=i(785893);function f(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let x=(0,g.Z)(()=>Promise.all([i.e(97270),i.e(93041),i.e(78716),i.e(95813)]).then(i.bind(i,380122)),void 0,e=>380122,"app-www-video-VideoWrapper"),b=[0,.25,.5,.75,.95,.97],v=[0,.5,.8,.99,1],P={rootMargin:"-64px 0px 0px 0px",threshold:[...h.iM]},S=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3}),w=(void 0!==n||(n=i(421018)).hash&&"93ed23334d5bac81ac8410f05c4f2031"!==n.hash&&console.error("The definition of 'VideoWithContextLogging_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function k(){return new Date().getTime()}function I(e){return!!e.volume&&e.volume>0}class T extends a.Component{constructor(e){super(e),f(this,"videoWrapperRef",(0,a.createRef)()),f(this,"handleWindowResize",()=>{if(!this.fullscreen){let e=this.getDimensions(),{height:t,width:i}=this.currentInterval;e.height!==t||e.width!==i?(this.lastLoggedTime.startTime=0,this.startNewInterval(e)):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}}),f(this,"handlePlayheadDown",({event:e})=>{let{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})}),f(this,"handlePlayheadUp",({event:e})=>{let{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})}),f(this,"handleLoop",()=>{this.videoTime=0}),f(this,"handlePlaying",e=>{this.logVideoStart(),this.props.onPlaying&&this.props.onPlaying(e)}),f(this,"handleTimeChange",e=>{let{seeking:t,ready:i}=this.state;if(!this.currentInterval.videoDuration)return;let n=1e3*e.time,a=function(e,t,i,n){if(e>t||i<=0)return null;for(let a of n){let n=a*i;if(e<=n&&t>n)return a}return null}(this.videoTime,n,this.currentInterval.videoDuration,b);if("number"==typeof a&&this.props.playing&&!t&&i){let e=k();this.props.isMetricThrottleExpEnabled?this.isVideoEventLogIntervalMet("currentTime")&&this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*a),quartilePercentValue:a}):this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*a),quartilePercentValue:a})}this.videoTime=n,this.props.onTimeChange&&this.props.onTimeChange(e)}),f(this,"handleDurationChange",e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)}),f(this,"handleReady",e=>{let{ready:t}=this.state;t||(this.lastLoggedTime.startTime=0,this.setState({ready:!0})),this.props.onReady&&this.props.onReady(e)}),f(this,"handleEnded",e=>{this.props.isMetricThrottleExpEnabled?this.isVideoEventLogIntervalMet("endTime")&&this.logFourthQuartileEvent():this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)}),f(this,"handleVisibilityChange",e=>{if(0===e.length)return;let t=function(e){for(let t=0;t<v.length;t+=1){let i=v[t],n=v[t+1];if(null==n||i<=e&&e<n)return i}return null}(Number.parseFloat(e.slice(-1)[0].intersectionRatio.toFixed(2)));"number"==typeof t&&(this.visible=t>=.5),null==t||t===this.currentInterval.viewability||this.fullscreen||(0===t?this.startNewInterval({viewability:t,playbackState:S.PAUSED}):this.startNewInterval({viewability:t}))}),f(this,"handleFullscreenChange",({event:e,fullscreen:t})=>{if(t){let{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})}),f(this,"handleClose",()=>{this.startNewInterval()}),this.state={ready:!1,seeking:!1,started:!1};let t=k();this.handleWindowResize=(0,s.Z)(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:I(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null,this.lastLoggedTime={startTime:0,endTime:0,currentTime:0}}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){let i={};I(e)&&!I(this.props)?i.isAudible=!1:!I(e)&&I(this.props)&&(i.isAudible=!0);let n=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==n&&(i.playbackState=n),Object.keys(i).length>0&&this.startNewInterval(i)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?S.PLAYING:S.PAUSED:S.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){let i=this.videoWrapperRef.current;i.clientHeight&&i.clientWidth&&(e=i.clientHeight,t=i.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logMetricStat(e){let{requestContext:t}=this.props,i=t?.userAgent||{},n={appType:i.isMobile||i.isTablet?"WEB_MOBILE":"WEB_DENZEL",country:t?.country??"unknown",browserName:i.browserName,osName:i.osName,browserType:i.browserType,browserVersion:i.browserVersion,type:e};(0,_.nP)("webapp.metrics.videoLogging.skippedEvents",{tags:n})}isVideoEventLogIntervalMet(e){let t=k();return 250>Math.abs(t-this.lastLoggedTime[e])?(this.logMetricStat(e),!1):(this.lastLoggedTime[e]=t,!0)}logVideoEvent(e,t){let{closeupStoryPinViewability:i,contextLogData:n,logContextEvent:a,playing:l,surface:r}=this.props,{seeking:s}=this.state,{height:o,width:d,windowHeight:c,windowWidth:u,viewability:p,...m}=t;if(null!=o&&null!=d&&null!=c&&null!=u&&null!=p){let t={...m,gridAutoplay:6904===e&&l&&!s&&("AuthHomefeed"===r||"SearchItem"===r||"RelatedPinGrid"===r||"PdpRelatedPinGrid"===r),height:o,width:d,windowHeight:c,windowWidth:u,viewability:i||p};a({event_type:e,...function(e){let{eventData:{videoEvent:{gridAutoplay:t,videoDuration:i,startTime:n,endTime:a,videoStartTime:l,videoEndTime:r,isAudible:s,height:o,width:d,playbackState:c,quartile:u,quartilePercentValue:p,windowHeight:m,windowWidth:h,viewability:_}},component:g,objectId:y,view:f,viewParameter:x,...b}=e;return{component:g,object_id_str:y,view_type:f,view_parameter:x,aux_data:{...b},event_data:{videoEventData:{gridAutoplay:t,videoDuration:i?Math.floor(i):0,time:n,endTime:a,videoTime:l?Math.floor(l):0,endVideoTime:r?Math.floor(r):0,isAudible:s,height:o,width:d,playbackState:c,quartile:u,quartilePercentValue:p,windowHeight:m,windowWidth:h,viewability:_}}}}({...n,view:this.fullscreen?108:n.view,eventData:{videoEvent:t}})})}}logFourthQuartileEvent(){let e=k();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}logVideoStart(){if(this.state.started)return;let{contextLogData:e,setVideoPlayed:t,shouldLogVideoStart:i}=this.props;if(i){let e=k();this.logVideoEvent(3621,{...this.currentInterval,startTime:e,endTime:e,videoEndTime:this.videoTime})}t(e.objectId),this.setState({started:!0})}startNewInterval(e){let t=k();this.props.isMetricThrottleExpEnabled?this.isVideoEventLogIntervalMet("startTime")&&this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}):this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){let{rootMargin:e,surface:t,aspectRatio:i,backgroundColor:n,captions:a,contextLogData:r,controls:s,fallback:o,hlsConfig:c,isAutoPlay:u,loop:m,objectFit:h,onLoadedChange:_,onControlsPause:g,onControlsPlay:f,onSeek:b,onVolumeChange:v,pin:S,playbackRate:w,playing:k,playsInline:I,poster:T,preload:A,seekTime:C,src:E,videoStartTime:j,volume:R,video:L,variant:F}=this.props,{seeking:D}=this.state;return void 0!==e&&(P.rootMargin=t?(0,p.eL)(t):e),(0,y.jsx)(d.Z,{onVisibilityChange:this.handleVisibilityChange,options:P,children:e=>(0,y.jsx)(l.xu,{ref:t=>{e.current=t,this.videoWrapperRef.current=t},height:"inherit",children:(0,y.jsx)(x,{aspectRatio:i,backgroundColor:n,captions:a,contextLogData:r,controls:s,fallback:o,hlsConfig:c,isAutoPlay:u,loop:m,objectFit:h,onControlsPause:g,onControlsPlay:f,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:_,onLoop:this.handleLoop,onPlay:()=>{},onPlayError:()=>{},onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onPlaying:this.handlePlaying,onReady:this.handleReady,onSeek:b,onTimeChange:this.handleTimeChange,onVolumeChange:v,pinKey:S,playbackRate:w,playing:!D&&k,playsInline:I,poster:T,preload:A,seekTime:C,src:E,variant:F,video:L,videoStartTime:j,visible:this.visible,volume:R})})})}}function A(e){let{pinKey:t}=e,i=(0,o.Z)(w,t),{logContextEvent:n}=(0,r.u)(),{checkExperiment:a}=(0,c.r)(),{setVideoPlayed:l}=(0,m.H)(),s=a("web_video_start_log").anyEnabled,d=a("web_metric_video_throttle").anyEnabled,p=(0,u.B)();return(0,y.jsx)(T,{...e,isMetricThrottleExpEnabled:d,logContextEvent:n,pin:i,requestContext:p,setVideoPlayed:l,shouldLogVideoStart:s})}f(T,"defaultProps",l.nk.defaultProps)},113329:(e,t,i)=>{"use strict";i.d(t,{Ul:()=>l,VS:()=>n,hy:()=>r,iM:()=>a,j4:()=>s});let n=2,a=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1],l={backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",bottom:0},r=128,s=e=>e&&document.querySelector(`video[poster="${e}"]`)||null},276162:(e,t,i)=>{"use strict";function n(){return{}}i.d(t,{kr:()=>n}),i.g.__AsyncLocalStorage__&&new i.g.__AsyncLocalStorage__},888283:(e,t,i)=>{"use strict";i.d(t,{Z:()=>g});var n,a=i(616550),l=i(174646),r=i(538645);i(167912);var s=i(892295),o=i(75283),d=i(78039),c=i(146720),u=i(785893);let p=(void 0!==n||(n=i(228581)).hash&&"60ba8f292ef82335c3d4cbce50f362d8"!==n.hash&&console.error("The definition of 'CloseupRepinPage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function m({pinKey:e}){let t=(0,d.Z)(p,e);return t?(0,u.jsx)(c.Z,{type:"authDesktop",children:t.isEligibleForPdp?(0,u.jsx)(o.Z,{showRepin:!0}):(0,u.jsx)(s.ZP,{showRepin:!0})}):null}var h=i(384100),_=i(903683);let g=function(){let{id:e}=(0,a.UO)(),t=(0,r.ZP)(),{isAuthenticated:i}=(0,l.B)(),n=(0,_.S6)(),s=e?n(e):null;return i?"desktop"===t?(0,u.jsx)(m,{pinKey:null!=s?{type:"deprecated",data:s}:null}):(0,u.jsx)(h.ZP,{shouldFetchPinFromGraphQL:!0}):(0,u.jsx)(a.l_,{to:`/pin/${e??""}/`})}},635943:(e,t,i)=>{"use strict";i.d(t,{$:()=>_,G:()=>g});var n=i(667294),a=i(422578),l=i(616550),r=i(967312),s=i(174646);function o(e){let t={result:{kind:"Pending",promise:e},read:()=>(function(e){let{result:t}=e;switch(t.kind){case"Pending":throw t.promise;case"Ok":return t.value;case"Err":throw t.error;default:throw Error("Unexpected case")}})(t)};return e.then(e=>{t.result={kind:"Ok",value:e}}).catch(e=>{t.result={kind:"Err",error:e}}),t}let d={"/collage-creation-tool":{loader:()=>Promise.all([i.e(90018),i.e(92354)]).then(i.bind(i,107042)).then(e=>e.default),rootComponent:()=>Promise.all([i.e(97270),i.e(32777),i.e(90018),i.e(69220),i.e(498)]).then(i.bind(i,126159)).then(e=>e.default)},"/ideas":{loader:()=>Promise.all([i.e(97270),i.e(38545)]).then(i.bind(i,38523)).then(e=>e.default),rootComponent:()=>Promise.all([i.e(97270),i.e(17228),i.e(8073)]).then(i.bind(i,484883)).then(e=>e.default)},"/pin/:id/analytics":{loader:()=>i.e(66724).then(i.bind(i,601511)).then(e=>e.default),rootComponent:()=>Promise.all([i.e(97270),i.e(30381),i.e(11859),i.e(8420),i.e(99263)]).then(i.bind(i,481059)).then(e=>e.default)},"/today/":{loader:()=>i.e(17587).then(i.bind(i,376881)).then(e=>e.default),rootComponent:()=>Promise.all([i.e(97270),i.e(93810),i.e(17228),i.e(73921),i.e(83901)]).then(i.bind(i,164390)).then(e=>e.default)}};var c=i(992114),u=i(785893);let p=(0,n.createContext)(null),m=/(^\/)|:|(\/$)/g,h=/\//g,_=({children:e})=>{let t=(0,a.useRelayEnvironment)(),{checkExperiment:i}=(0,r.r)(),o=(0,s.B)(),d=(0,n.useRef)({}),_=(0,n.useCallback)(e=>{let{rootComponent:n,loadedValueState:a}=f(y(d.current,e),e,"Both",t,i,o);return"NotYetRendered"===a.performanceLoggingState.kind&&(a.performanceLoggingState={kind:"InitiallyRendered",initialRenderTime:Date.now()}),{rootComponent:n,onEntrypointDataLoaded:t=>{if("InitiallyRendered"===a.performanceLoggingState.kind){let i=Date.now();(0,c.LY)("entrypointRouter.routeTiming."+e.kind.replace(m,"").replace(h,"_"),i-a.performanceLoggingState.initialRenderTime,{sampleRate:.1,tags:t??{}}),a.performanceLoggingState={kind:"Complete"}}},loadedValue:a.loadedValue}},[i,t,o]),g=(0,l.k6)(),x=(0,n.useCallback)(e=>{f(y(d.current,e),e,"Both",t,i,o);let n=(0,l.Gn)(e.kind,e.routeParams);g.push(n)},[g,i,t,o]),b=(0,n.useCallback)((e,n)=>{let a=y(d.current,e);"Both"===n&&f(a,e,n,t,i,o)},[i,t,o]),v=(0,n.useMemo)(()=>({loadAndReadDuringRender__INTERNAL:_,preload:b,imperativelyNavigate:x}),[_,x,b]);return(0,u.jsx)(p,{value:v,children:e})};function g(){let e=(0,n.useContext)(p);if(null==e)throw Error("Missing entrypoint context");return e}function y(e,t){let i=d[t.kind];if(null==i)throw Error("Unexpected missing route! Did you define it in routeMap.ts?");return e[t.kind]??={rootComponent:o(i.rootComponent()),loadedValueStates:{},loader:o(i.loader())}}function f(e,t,i,n,a,l){var r,s,d;let u=JSON.stringify(function e(t){if(!t||"object"!=typeof t)return t;if(Array.isArray(t))return t.map(e);let i=Object.keys(t).sort(),n={};for(let a=0;a<i.length;a++)n[i[a]]=e(t[i[a]]);return n}(t.routeParams)),{loadedValueStates:p,rootComponent:m,loader:h}=e;return{rootComponent:m,loadedValueState:p[u]??=(r=p,s=u,d=t.kind,setTimeout(()=>{let e=r[s];null!=e&&(0,c.nP)("entrypointRouter.entrypointUse",{sampleRate:.1,tags:{routeName:d,usedInTime:"NotYetRendered"!==e.performanceLoggingState.kind}})},3e4),{loadedValue:function(e,t){var i,n;let{result:a}=e;switch(a.kind){case"Pending":return o(a.promise.then(t));case"Ok":return{result:{kind:"Ok",value:i=t(a.value)},read:()=>i};case"Err":return{result:{kind:"Err",error:n=a.error},read:()=>{throw n}};default:throw Error("Unexpected case")}}(h,e=>e({routeParams:t.routeParams,relayEnvironment:n,checkExperiment:a,requestContext:l})),performanceLoggingState:{kind:"NotYetRendered"}})}}},390287:(e,t,i)=>{"use strict";function n(){let e=void 0;return e?t=>e.addToBeLoaded(t):()=>{}}i.d(t,{N:()=>n}),(0,i(276162).kr)()},757653:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(667294),a=i(774609),l=i(992114);i(390287);var r=i(785893);function s(e,t,s,o){let d=t?.ssr??!0?n.Suspense:a.Z,c=new Map,u=new Map;function p(e){return s?s(e):o?t?.dynamicRequestKey&&e?o.replace("[request]",e[t.dynamicRequestKey]):o:"static"}function m(a){t?.dynamicRequestKey;let c=p(a);if(!u.has(c)){let t=s?.(a);u.set(c,function({chunkName:e,dynamicImport:t,moduleId:a,props:r}){let s=(0,n.lazy)(()=>t(r)),o=function(e){if(e&&i.m[e])return i(e).default}(a);return(0,l.nP)("webapp.lazyComponent.initComponentToRender",{tags:{chunkName:e??"unknown",hasModuleInCache:!!o,moduleId:a??"unknown"}}),o||s}({chunkName:o,dynamicImport:e,moduleId:t,props:a}))}let m=u.get(c);return(0,r.jsx)(d,{fallback:a.fallback||t?.fallback,children:(0,r.jsx)(m,{...a,ref:a.ref})})}return m.preload=t=>{let i=p(t),n=u.get(i);c.get(i)||n||c.set(i,(async()=>{if(!n){let n=await e(t);u.set(i,n.default),c.delete(i)}})())},m}},723842:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a,u:()=>n});let n="HIDDEN_ON_SERVER_ERROR",a=e=>e instanceof Object&&"message"in e&&"string"==typeof e.message&&e.message.includes(n)},386480:(e,t,i)=>{"use strict";i.d(t,{I:()=>r,t:()=>l});var n=i(667294),a=i(616550);let l=(0,n.createContext)(null);function r(){return(0,a.TH)()===(0,n.useContext)(l)}},814400:(e,t,i)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/pin/[id]/repin",function(){return i(888283).Z}])},746633:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/commentHelpful-99007872.svg"},899530:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/commentLoved-7942dc4f.svg"},472924:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/ill_caterpillar_spot_dark-a2684283.svg"},448528:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/ill_caterpillar_spot_light-4351e2b0.svg"},954317:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/ill_collage_spot_dark-801b6d1e.svg"},403065:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/ill_collage_spot_light-172b7814.svg"},244552:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/ill_drink_spot_dark-e13d8191.svg"},972444:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/ill_drink_spot_light-eba7901c.svg"},756007:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/ill_favorite_spot_dark-86e6efb1.svg"},267789:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/ill_favorite_spot_light-c494804e.svg"},252223:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/ill_fish_spot_dark-eabdd91c.svg"},969809:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/ill_fish_spot_light-68e932f6.svg"},334932:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/ill_gumball_spot_dark-fe6ad7b3.svg"},569590:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/ill_gumball_spot_light-31a9c021.svg"},860209:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/ill_messagebottle_spot_dark-6e62eced.svg"},36806:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/ill_messagebottle_spot_light-6d12e6a6.svg"},955810:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/ill_palette_spot_dark-7184dea0.svg"},167173:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/ill_palette_spot_light-3ec2a5f3.svg"},995236:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/ill_pinboard_spot_dark-9a1edd2c.svg"},822153:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/ill_pinboard_spot_light-eac9767f.svg"},335457:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/ill_pinjar_spot_dark-920f4221.svg"},442967:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/ill_pinjar_spot_light-a4bdf6a8.svg"},255413:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/ill_popsicle_spot_dark-9739cf41.svg"},15996:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/ill_popsicle_spot_light-03d29257.svg"},178193:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/ill_sunglasses_spot_dark-e0aee9e0.svg"},600740:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/ill_sunglasses_spot_light-42e9d57e.svg"},204942:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(383997);function a(e,t,i){return(t=(0,n.Z)(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},601413:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(204942);function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach(function(t){(0,n.Z)(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}},383997:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(671002);function a(e){var t=function(e,t){if("object"!=(0,n.Z)(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=(0,n.Z)(a))return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,n.Z)(t)?t:t+""}},671002:(e,t,i)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}i.d(t,{Z:()=>n})}},e=>{e.O(0,[97270,20256,57201,75114,47854,86042,3960,78039,15807,48609,62454,25951,67050,6881,80287,24316,34833,77108,88946,34623,96695,69183,9654],()=>e(e.s=814400)),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/[id]/repin-a157ba3a6ada5851.mjs.map